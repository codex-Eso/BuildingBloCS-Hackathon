function Wy(r,a){for(var i=0;i<a.length;i++){const l=a[i];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in r)){const d=Object.getOwnPropertyDescriptor(l,u);d&&Object.defineProperty(r,u,d.get?d:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();function Fy(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function zi(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var a=r.default;if(typeof a=="function"){var i=function l(){var u=!1;try{u=this instanceof l}catch{}return u?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};i.prototype=a.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(r).forEach(function(l){var u=Object.getOwnPropertyDescriptor(r,l);Object.defineProperty(i,l,u.get?u:{enumerable:!0,get:function(){return r[l]}})}),i}var ac={exports:{}},Ti={};var ap;function eb(){if(ap)return Ti;ap=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function i(l,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var p in u)p!=="key"&&(d[p]=u[p])}else d=u;return u=d.ref,{$$typeof:r,type:l,key:f,ref:u!==void 0?u:null,props:d}}return Ti.Fragment=a,Ti.jsx=i,Ti.jsxs=i,Ti}var sp;function tb(){return sp||(sp=1,ac.exports=eb()),ac.exports}var c=tb(),sc={exports:{}},ge={};var ip;function nb(){if(ip)return ge;ip=1;var r=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),x=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=x&&C[x]||C["@@iterator"],typeof C=="function"?C:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,j={};function k(C,V,I){this.props=C,this.context=V,this.refs=j,this.updater=I||E}k.prototype.isReactComponent={},k.prototype.setState=function(C,V){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,V,"setState")},k.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function U(){}U.prototype=k.prototype;function M(C,V,I){this.props=C,this.context=V,this.refs=j,this.updater=I||E}var Q=M.prototype=new U;Q.constructor=M,O(Q,k.prototype),Q.isPureReactComponent=!0;var X=Array.isArray;function W(){}var K={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function ue(C,V,I){var P=I.ref;return{$$typeof:r,type:C,key:V,ref:P!==void 0?P:null,props:I}}function _e(C,V){return ue(C.type,V,C.props)}function ye(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function Y(C){var V={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(I){return V[I]})}var pe=/\/+/g;function ce(C,V){return typeof C=="object"&&C!==null&&C.key!=null?Y(""+C.key):V.toString(36)}function le(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(W,W):(C.status="pending",C.then(function(V){C.status==="pending"&&(C.status="fulfilled",C.value=V)},function(V){C.status==="pending"&&(C.status="rejected",C.reason=V)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function z(C,V,I,P,Z){var se=typeof C;(se==="undefined"||se==="boolean")&&(C=null);var N=!1;if(C===null)N=!0;else switch(se){case"bigint":case"string":case"number":N=!0;break;case"object":switch(C.$$typeof){case r:case a:N=!0;break;case y:return N=C._init,z(N(C._payload),V,I,P,Z)}}if(N)return Z=Z(C),N=P===""?"."+ce(C,0):P,X(Z)?(I="",N!=null&&(I=N.replace(pe,"$&/")+"/"),z(Z,V,I,"",function(we){return we})):Z!=null&&(ye(Z)&&(Z=_e(Z,I+(Z.key==null||C&&C.key===Z.key?"":(""+Z.key).replace(pe,"$&/")+"/")+N)),V.push(Z)),1;N=0;var ee=P===""?".":P+":";if(X(C))for(var ie=0;ie<C.length;ie++)P=C[ie],se=ee+ce(P,ie),N+=z(P,V,I,se,Z);else if(ie=w(C),typeof ie=="function")for(C=ie.call(C),ie=0;!(P=C.next()).done;)P=P.value,se=ee+ce(P,ie++),N+=z(P,V,I,se,Z);else if(se==="object"){if(typeof C.then=="function")return z(le(C),V,I,P,Z);throw V=String(C),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return N}function J(C,V,I){if(C==null)return C;var P=[],Z=0;return z(C,P,"","",function(se){return V.call(I,se,Z++)}),P}function de(C){if(C._status===-1){var V=C._result;V=V(),V.then(function(I){(C._status===0||C._status===-1)&&(C._status=1,C._result=I)},function(I){(C._status===0||C._status===-1)&&(C._status=2,C._result=I)}),C._status===-1&&(C._status=0,C._result=V)}if(C._status===1)return C._result.default;throw C._result}var Ae=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Ce={map:J,forEach:function(C,V,I){J(C,function(){V.apply(this,arguments)},I)},count:function(C){var V=0;return J(C,function(){V++}),V},toArray:function(C){return J(C,function(V){return V})||[]},only:function(C){if(!ye(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return ge.Activity=_,ge.Children=Ce,ge.Component=k,ge.Fragment=i,ge.Profiler=u,ge.PureComponent=M,ge.StrictMode=l,ge.Suspense=m,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ge.__COMPILER_RUNTIME={__proto__:null,c:function(C){return K.H.useMemoCache(C)}},ge.cache=function(C){return function(){return C.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(C,V,I){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var P=O({},C.props),Z=C.key;if(V!=null)for(se in V.key!==void 0&&(Z=""+V.key),V)!F.call(V,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&V.ref===void 0||(P[se]=V[se]);var se=arguments.length-2;if(se===1)P.children=I;else if(1<se){for(var N=Array(se),ee=0;ee<se;ee++)N[ee]=arguments[ee+2];P.children=N}return ue(C.type,Z,P)},ge.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:d,_context:C},C},ge.createElement=function(C,V,I){var P,Z={},se=null;if(V!=null)for(P in V.key!==void 0&&(se=""+V.key),V)F.call(V,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(Z[P]=V[P]);var N=arguments.length-2;if(N===1)Z.children=I;else if(1<N){for(var ee=Array(N),ie=0;ie<N;ie++)ee[ie]=arguments[ie+2];Z.children=ee}if(C&&C.defaultProps)for(P in N=C.defaultProps,N)Z[P]===void 0&&(Z[P]=N[P]);return ue(C,se,Z)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(C){return{$$typeof:p,render:C}},ge.isValidElement=ye,ge.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:de}},ge.memo=function(C,V){return{$$typeof:v,type:C,compare:V===void 0?null:V}},ge.startTransition=function(C){var V=K.T,I={};K.T=I;try{var P=C(),Z=K.S;Z!==null&&Z(I,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(W,Ae)}catch(se){Ae(se)}finally{V!==null&&I.types!==null&&(V.types=I.types),K.T=V}},ge.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ge.use=function(C){return K.H.use(C)},ge.useActionState=function(C,V,I){return K.H.useActionState(C,V,I)},ge.useCallback=function(C,V){return K.H.useCallback(C,V)},ge.useContext=function(C){return K.H.useContext(C)},ge.useDebugValue=function(){},ge.useDeferredValue=function(C,V){return K.H.useDeferredValue(C,V)},ge.useEffect=function(C,V){return K.H.useEffect(C,V)},ge.useEffectEvent=function(C){return K.H.useEffectEvent(C)},ge.useId=function(){return K.H.useId()},ge.useImperativeHandle=function(C,V,I){return K.H.useImperativeHandle(C,V,I)},ge.useInsertionEffect=function(C,V){return K.H.useInsertionEffect(C,V)},ge.useLayoutEffect=function(C,V){return K.H.useLayoutEffect(C,V)},ge.useMemo=function(C,V){return K.H.useMemo(C,V)},ge.useOptimistic=function(C,V){return K.H.useOptimistic(C,V)},ge.useReducer=function(C,V,I){return K.H.useReducer(C,V,I)},ge.useRef=function(C){return K.H.useRef(C)},ge.useState=function(C){return K.H.useState(C)},ge.useSyncExternalStore=function(C,V,I){return K.H.useSyncExternalStore(C,V,I)},ge.useTransition=function(){return K.H.useTransition()},ge.version="19.2.1",ge}var rp;function qc(){return rp||(rp=1,sc.exports=nb()),sc.exports}var T=qc(),ic={exports:{}},Ai={},rc={exports:{}},lc={};var lp;function ab(){return lp||(lp=1,(function(r){function a(z,J){var de=z.length;z.push(J);e:for(;0<de;){var Ae=de-1>>>1,Ce=z[Ae];if(0<u(Ce,J))z[Ae]=J,z[de]=Ce,de=Ae;else break e}}function i(z){return z.length===0?null:z[0]}function l(z){if(z.length===0)return null;var J=z[0],de=z.pop();if(de!==J){z[0]=de;e:for(var Ae=0,Ce=z.length,C=Ce>>>1;Ae<C;){var V=2*(Ae+1)-1,I=z[V],P=V+1,Z=z[P];if(0>u(I,de))P<Ce&&0>u(Z,I)?(z[Ae]=Z,z[P]=de,Ae=P):(z[Ae]=I,z[V]=de,Ae=V);else if(P<Ce&&0>u(Z,de))z[Ae]=Z,z[P]=de,Ae=P;else break e}}return J}function u(z,J){var de=z.sortIndex-J.sortIndex;return de!==0?de:z.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var m=[],v=[],y=1,_=null,x=3,w=!1,E=!1,O=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function Q(z){for(var J=i(v);J!==null;){if(J.callback===null)l(v);else if(J.startTime<=z)l(v),J.sortIndex=J.expirationTime,a(m,J);else break;J=i(v)}}function X(z){if(O=!1,Q(z),!E)if(i(m)!==null)E=!0,W||(W=!0,Y());else{var J=i(v);J!==null&&le(X,J.startTime-z)}}var W=!1,K=-1,F=5,ue=-1;function _e(){return j?!0:!(r.unstable_now()-ue<F)}function ye(){if(j=!1,W){var z=r.unstable_now();ue=z;var J=!0;try{e:{E=!1,O&&(O=!1,U(K),K=-1),w=!0;var de=x;try{t:{for(Q(z),_=i(m);_!==null&&!(_.expirationTime>z&&_e());){var Ae=_.callback;if(typeof Ae=="function"){_.callback=null,x=_.priorityLevel;var Ce=Ae(_.expirationTime<=z);if(z=r.unstable_now(),typeof Ce=="function"){_.callback=Ce,Q(z),J=!0;break t}_===i(m)&&l(m),Q(z)}else l(m);_=i(m)}if(_!==null)J=!0;else{var C=i(v);C!==null&&le(X,C.startTime-z),J=!1}}break e}finally{_=null,x=de,w=!1}J=void 0}}finally{J?Y():W=!1}}}var Y;if(typeof M=="function")Y=function(){M(ye)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ce=pe.port2;pe.port1.onmessage=ye,Y=function(){ce.postMessage(null)}}else Y=function(){k(ye,0)};function le(z,J){K=k(function(){z(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(z){switch(x){case 1:case 2:case 3:var J=3;break;default:J=x}var de=x;x=J;try{return z()}finally{x=de}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var de=x;x=z;try{return J()}finally{x=de}},r.unstable_scheduleCallback=function(z,J,de){var Ae=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ae+de:Ae):de=Ae,z){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=de+Ce,z={id:y++,callback:J,priorityLevel:z,startTime:de,expirationTime:Ce,sortIndex:-1},de>Ae?(z.sortIndex=de,a(v,z),i(m)===null&&z===i(v)&&(O?(U(K),K=-1):O=!0,le(X,de-Ae))):(z.sortIndex=Ce,a(m,z),E||w||(E=!0,W||(W=!0,Y()))),z},r.unstable_shouldYield=_e,r.unstable_wrapCallback=function(z){var J=x;return function(){var de=x;x=J;try{return z.apply(this,arguments)}finally{x=de}}}})(lc)),lc}var op;function sb(){return op||(op=1,rc.exports=ab()),rc.exports}var oc={exports:{}},ht={};var up;function ib(){if(up)return ht;up=1;var r=qc();function a(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)v+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(m,v,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:_==null?null:""+_,children:m,containerInfo:v,implementation:y}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,v){if(m==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ht.createPortal=function(m,v){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(a(299));return d(m,v,null,y)},ht.flushSync=function(m){var v=f.T,y=l.p;try{if(f.T=null,l.p=2,m)return m()}finally{f.T=v,l.p=y,l.d.f()}},ht.preconnect=function(m,v){typeof m=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,l.d.C(m,v))},ht.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},ht.preinit=function(m,v){if(typeof m=="string"&&v&&typeof v.as=="string"){var y=v.as,_=p(y,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,w=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;y==="style"?l.d.S(m,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:_,integrity:x,fetchPriority:w}):y==="script"&&l.d.X(m,{crossOrigin:_,integrity:x,fetchPriority:w,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ht.preinitModule=function(m,v){if(typeof m=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var y=p(v.as,v.crossOrigin);l.d.M(m,{crossOrigin:y,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&l.d.M(m)},ht.preload=function(m,v){if(typeof m=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var y=v.as,_=p(y,v.crossOrigin);l.d.L(m,y,{crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ht.preloadModule=function(m,v){if(typeof m=="string")if(v){var y=p(v.as,v.crossOrigin);l.d.m(m,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:y,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else l.d.m(m)},ht.requestFormReset=function(m){l.d.r(m)},ht.unstable_batchedUpdates=function(m,v){return m(v)},ht.useFormState=function(m,v,y){return f.H.useFormState(m,v,y)},ht.useFormStatus=function(){return f.H.useHostTransitionStatus()},ht.version="19.2.1",ht}var cp;function rb(){if(cp)return oc.exports;cp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),oc.exports=ib(),oc.exports}var dp;function lb(){if(dp)return Ai;dp=1;var r=sb(),a=qc(),i=rb();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(l(188))}function v(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var h=o.alternate;if(h===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===h.child){for(h=o.child;h;){if(h===n)return m(o),e;if(h===s)return m(o),t;h=h.sibling}throw Error(l(188))}if(n.return!==s.return)n=o,s=h;else{for(var g=!1,b=o.child;b;){if(b===n){g=!0,n=o,s=h;break}if(b===s){g=!0,s=o,n=h;break}b=b.sibling}if(!g){for(b=h.child;b;){if(b===n){g=!0,n=h,s=o;break}if(b===s){g=!0,s=h,n=o;break}b=b.sibling}if(!g)throw Error(l(189))}}if(n.alternate!==s)throw Error(l(190))}if(n.tag!==3)throw Error(l(188));return n.stateNode.current===n?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),M=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),_e=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=ye&&e[ye]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Symbol.for("react.client.reference");function ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case k:return"Profiler";case j:return"StrictMode";case X:return"Suspense";case W:return"SuspenseList";case ue:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case M:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}var le=Array.isArray,z=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ae=[],Ce=-1;function C(e){return{current:e}}function V(e){0>Ce||(e.current=Ae[Ce],Ae[Ce]=null,Ce--)}function I(e,t){Ce++,Ae[Ce]=e.current,e.current=t}var P=C(null),Z=C(null),se=C(null),N=C(null);function ee(e,t){switch(I(se,t),I(Z,e),I(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Tm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Tm(t),e=Am(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(P),I(P,e)}function ie(){V(P),V(Z),V(se)}function we(e){e.memoizedState!==null&&I(N,e);var t=P.current,n=Am(t,e.type);t!==n&&(I(Z,e),I(P,n))}function xe(e){Z.current===e&&(V(P),V(Z)),N.current===e&&(V(N),xi._currentValue=de)}var Ne,td;function la(e){if(Ne===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ne=t&&t[1]||"",td=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+e+td}var Ll=!1;function Hl(e,t){if(!e||Ll)return"";Ll=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(L){var q=L}Reflect.construct(e,[],G)}else{try{G.call()}catch(L){q=L}e.call(G.prototype)}}else{try{throw Error()}catch(L){q=L}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(L){if(L&&q&&typeof L.stack=="string")return[L.stack,q.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),g=h[0],b=h[1];if(g&&b){var S=g.split(`
`),B=b.split(`
`);for(o=s=0;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;for(;o<B.length&&!B[o].includes("DetermineComponentFrameRoot");)o++;if(s===S.length||o===B.length)for(s=S.length-1,o=B.length-1;1<=s&&0<=o&&S[s]!==B[o];)o--;for(;1<=s&&0<=o;s--,o--)if(S[s]!==B[o]){if(s!==1||o!==1)do if(s--,o--,0>o||S[s]!==B[o]){var H=`
`+S[s].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=s&&0<=o);break}}}finally{Ll=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?la(n):""}function Cv(e,t){switch(e.tag){case 26:case 27:case 5:return la(e.type);case 16:return la("Lazy");case 13:return e.child!==t&&t!==null?la("Suspense Fallback"):la("Suspense");case 19:return la("SuspenseList");case 0:case 15:return Hl(e.type,!1);case 11:return Hl(e.type.render,!1);case 1:return Hl(e.type,!0);case 31:return la("Activity");default:return""}}function nd(e){try{var t="",n=null;do t+=Cv(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var $l=Object.prototype.hasOwnProperty,Vl=r.unstable_scheduleCallback,Gl=r.unstable_cancelCallback,Nv=r.unstable_shouldYield,Rv=r.unstable_requestPaint,Et=r.unstable_now,kv=r.unstable_getCurrentPriorityLevel,ad=r.unstable_ImmediatePriority,sd=r.unstable_UserBlockingPriority,Vi=r.unstable_NormalPriority,Uv=r.unstable_LowPriority,id=r.unstable_IdlePriority,Mv=r.log,Dv=r.unstable_setDisableYieldValue,Ms=null,Tt=null;function Mn(e){if(typeof Mv=="function"&&Dv(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Ms,e)}catch{}}var At=Math.clz32?Math.clz32:qv,Bv=Math.log,zv=Math.LN2;function qv(e){return e>>>=0,e===0?32:31-(Bv(e)/zv|0)|0}var Gi=256,Pi=262144,Qi=4194304;function oa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Yi(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var o=0,h=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var b=s&134217727;return b!==0?(s=b&~h,s!==0?o=oa(s):(g&=b,g!==0?o=oa(g):n||(n=b&~e,n!==0&&(o=oa(n))))):(b=s&~h,b!==0?o=oa(b):g!==0?o=oa(g):n||(n=s&~e,n!==0&&(o=oa(n)))),o===0?0:t!==0&&t!==o&&(t&h)===0&&(h=o&-o,n=t&-t,h>=n||h===32&&(n&4194048)!==0)?t:o}function Ds(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Lv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rd(){var e=Qi;return Qi<<=1,(Qi&62914560)===0&&(Qi=4194304),e}function Pl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hv(e,t,n,s,o,h){var g=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var b=e.entanglements,S=e.expirationTimes,B=e.hiddenUpdates;for(n=g&~n;0<n;){var H=31-At(n),G=1<<H;b[H]=0,S[H]=-1;var q=B[H];if(q!==null)for(B[H]=null,H=0;H<q.length;H++){var L=q[H];L!==null&&(L.lane&=-536870913)}n&=~G}s!==0&&ld(e,s,0),h!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=h&~(g&~t))}function ld(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-At(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function od(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-At(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}function ud(e,t){var n=t&-t;return n=(n&42)!==0?1:Ql(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ql(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Yl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cd(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Im(e.type))}function dd(e,t){var n=J.p;try{return J.p=e,t()}finally{J.p=n}}var Dn=Math.random().toString(36).slice(2),it="__reactFiber$"+Dn,pt="__reactProps$"+Dn,Da="__reactContainer$"+Dn,Kl="__reactEvents$"+Dn,$v="__reactListeners$"+Dn,Vv="__reactHandles$"+Dn,hd="__reactResources$"+Dn,zs="__reactMarker$"+Dn;function Jl(e){delete e[it],delete e[pt],delete e[Kl],delete e[$v],delete e[Vv]}function Ba(e){var t=e[it];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Da]||n[it]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mm(e);e!==null;){if(n=e[it])return n;e=Mm(e)}return t}e=n,n=e.parentNode}return null}function za(e){if(e=e[it]||e[Da]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function qs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function qa(e){var t=e[hd];return t||(t=e[hd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function at(e){e[zs]=!0}var fd=new Set,md={};function ua(e,t){La(e,t),La(e+"Capture",t)}function La(e,t){for(md[e]=t,e=0;e<t.length;e++)fd.add(t[e])}var Gv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pd={},gd={};function Pv(e){return $l.call(gd,e)?!0:$l.call(pd,e)?!1:Gv.test(e)?gd[e]=!0:(pd[e]=!0,!1)}function Ki(e,t,n){if(Pv(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ji(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function dn(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qv(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,h=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(g){n=""+g,h.call(this,g)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(g){n=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xl(e){if(!e._valueTracker){var t=vd(e)?"checked":"value";e._valueTracker=Qv(e,t,""+e[t])}}function yd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=vd(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Yv=/[\n"\\]/g;function qt(e){return e.replace(Yv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Il(e,t,n,s,o,h,g,b){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zt(t)):e.value!==""+zt(t)&&(e.value=""+zt(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Zl(e,g,zt(t)):n!=null?Zl(e,g,zt(n)):s!=null&&e.removeAttribute("value"),o==null&&h!=null&&(e.defaultChecked=!!h),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+zt(b):e.removeAttribute("name")}function bd(e,t,n,s,o,h,g,b){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||n!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){Xl(e);return}n=n!=null?""+zt(n):"",t=t!=null?""+zt(t):n,b||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Xl(e)}function Zl(e,t,n){t==="number"&&Xi(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ha(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+zt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function _d(e,t,n){if(t!=null&&(t=""+zt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+zt(n):""}function wd(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(l(92));if(le(s)){if(1<s.length)throw Error(l(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=zt(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),Xl(e)}function $a(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Kv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xd(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||Kv.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Sd(e,t,n){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&n[o]!==s&&xd(e,o,s)}else for(var h in t)t.hasOwnProperty(h)&&xd(e,h,t[h])}function Wl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ii(e){return Xv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function hn(){}var Fl=null;function eo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Va=null,Ga=null;function jd(e){var t=za(e);if(t&&(e=t.stateNode)){var n=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Il(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=s[pt]||null;if(!o)throw Error(l(90));Il(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&yd(s)}break e;case"textarea":_d(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ha(e,!!n.multiple,t,!1)}}}var to=!1;function Ed(e,t,n){if(to)return e(t,n);to=!0;try{var s=e(t);return s}finally{if(to=!1,(Va!==null||Ga!==null)&&(zr(),Va&&(t=Va,e=Ga,Ga=Va=null,jd(t),e)))for(t=0;t<e.length;t++)jd(e[t])}}function Ls(e,t){var n=e.stateNode;if(n===null)return null;var s=n[pt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(l(231,t,typeof n));return n}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),no=!1;if(fn)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){no=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{no=!1}var Bn=null,ao=null,Zi=null;function Td(){if(Zi)return Zi;var e,t=ao,n=t.length,s,o="value"in Bn?Bn.value:Bn.textContent,h=o.length;for(e=0;e<n&&t[e]===o[e];e++);var g=n-e;for(s=1;s<=g&&t[n-s]===o[h-s];s++);return Zi=o.slice(e,1<s?1-s:void 0)}function Wi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function Ad(){return!1}function gt(e){function t(n,s,o,h,g){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Fi:Ad,this.isPropagationStopped=Ad,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),t}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},er=gt(ca),$s=_({},ca,{view:0,detail:0}),Iv=gt($s),so,io,Vs,tr=_({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vs&&(Vs&&e.type==="mousemove"?(so=e.screenX-Vs.screenX,io=e.screenY-Vs.screenY):io=so=0,Vs=e),so)},movementY:function(e){return"movementY"in e?e.movementY:io}}),Od=gt(tr),Zv=_({},tr,{dataTransfer:0}),Wv=gt(Zv),Fv=_({},$s,{relatedTarget:0}),ro=gt(Fv),e0=_({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),t0=gt(e0),n0=_({},ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),a0=gt(n0),s0=_({},ca,{data:0}),Cd=gt(s0),i0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=l0[e])?!!t[e]:!1}function lo(){return o0}var u0=_({},$s,{key:function(e){if(e.key){var t=i0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?r0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(e){return e.type==="keypress"?Wi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),c0=gt(u0),d0=_({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nd=gt(d0),h0=_({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),f0=gt(h0),m0=_({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),p0=gt(m0),g0=_({},tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),v0=gt(g0),y0=_({},ca,{newState:0,oldState:0}),b0=gt(y0),_0=[9,13,27,32],oo=fn&&"CompositionEvent"in window,Gs=null;fn&&"documentMode"in document&&(Gs=document.documentMode);var w0=fn&&"TextEvent"in window&&!Gs,Rd=fn&&(!oo||Gs&&8<Gs&&11>=Gs),kd=" ",Ud=!1;function Md(e,t){switch(e){case"keyup":return _0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pa=!1;function x0(e,t){switch(e){case"compositionend":return Dd(t);case"keypress":return t.which!==32?null:(Ud=!0,kd);case"textInput":return e=t.data,e===kd&&Ud?null:e;default:return null}}function S0(e,t){if(Pa)return e==="compositionend"||!oo&&Md(e,t)?(e=Td(),Zi=ao=Bn=null,Pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rd&&t.locale!=="ko"?null:t.data;default:return null}}var j0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!j0[e.type]:t==="textarea"}function zd(e,t,n,s){Va?Ga?Ga.push(s):Ga=[s]:Va=s,t=Pr(t,"onChange"),0<t.length&&(n=new er("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Ps=null,Qs=null;function E0(e){_m(e,0)}function nr(e){var t=qs(e);if(yd(t))return e}function qd(e,t){if(e==="change")return t}var Ld=!1;if(fn){var uo;if(fn){var co="oninput"in document;if(!co){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),co=typeof Hd.oninput=="function"}uo=co}else uo=!1;Ld=uo&&(!document.documentMode||9<document.documentMode)}function $d(){Ps&&(Ps.detachEvent("onpropertychange",Vd),Qs=Ps=null)}function Vd(e){if(e.propertyName==="value"&&nr(Qs)){var t=[];zd(t,Qs,e,eo(e)),Ed(E0,t)}}function T0(e,t,n){e==="focusin"?($d(),Ps=t,Qs=n,Ps.attachEvent("onpropertychange",Vd)):e==="focusout"&&$d()}function A0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nr(Qs)}function O0(e,t){if(e==="click")return nr(t)}function C0(e,t){if(e==="input"||e==="change")return nr(t)}function N0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:N0;function Ys(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!$l.call(t,o)||!Ot(e[o],t[o]))return!1}return!0}function Gd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pd(e,t){var n=Gd(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gd(n)}}function Qd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Xi(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xi(e.document)}return t}function ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var R0=fn&&"documentMode"in document&&11>=document.documentMode,Qa=null,fo=null,Ks=null,mo=!1;function Kd(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mo||Qa==null||Qa!==Xi(s)||(s=Qa,"selectionStart"in s&&ho(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ks&&Ys(Ks,s)||(Ks=s,s=Pr(fo,"onSelect"),0<s.length&&(t=new er("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Qa)))}function da(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ya={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},po={},Jd={};fn&&(Jd=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function ha(e){if(po[e])return po[e];if(!Ya[e])return e;var t=Ya[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jd)return po[e]=t[n];return e}var Xd=ha("animationend"),Id=ha("animationiteration"),Zd=ha("animationstart"),k0=ha("transitionrun"),U0=ha("transitionstart"),M0=ha("transitioncancel"),Wd=ha("transitionend"),Fd=new Map,go="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");go.push("scrollEnd");function It(e,t){Fd.set(e,t),ua(t,[e])}var ar=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lt=[],Ka=0,vo=0;function sr(){for(var e=Ka,t=vo=Ka=0;t<e;){var n=Lt[t];Lt[t++]=null;var s=Lt[t];Lt[t++]=null;var o=Lt[t];Lt[t++]=null;var h=Lt[t];if(Lt[t++]=null,s!==null&&o!==null){var g=s.pending;g===null?o.next=o:(o.next=g.next,g.next=o),s.pending=o}h!==0&&eh(n,o,h)}}function ir(e,t,n,s){Lt[Ka++]=e,Lt[Ka++]=t,Lt[Ka++]=n,Lt[Ka++]=s,vo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function yo(e,t,n,s){return ir(e,t,n,s),rr(e)}function fa(e,t){return ir(e,null,null,t),rr(e)}function eh(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var o=!1,h=e.return;h!==null;)h.childLanes|=n,s=h.alternate,s!==null&&(s.childLanes|=n),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(o=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,o&&t!==null&&(o=31-At(n),e=h.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=n|536870912),h):null}function rr(e){if(50<pi)throw pi=0,Au=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ja={};function D0(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,s){return new D0(e,t,n,s)}function bo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function th(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function lr(e,t,n,s,o,h){var g=0;if(s=e,typeof e=="function")bo(e)&&(g=1);else if(typeof e=="string")g=Hy(e,n,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ue:return e=Ct(31,n,t,o),e.elementType=ue,e.lanes=h,e;case O:return ma(n.children,o,h,t);case j:g=8,o|=24;break;case k:return e=Ct(12,n,t,o|2),e.elementType=k,e.lanes=h,e;case X:return e=Ct(13,n,t,o),e.elementType=X,e.lanes=h,e;case W:return e=Ct(19,n,t,o),e.elementType=W,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:g=10;break e;case U:g=9;break e;case Q:g=11;break e;case K:g=14;break e;case F:g=16,s=null;break e}g=29,n=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Ct(g,n,t,o),t.elementType=e,t.type=s,t.lanes=h,t}function ma(e,t,n,s){return e=Ct(7,e,s,t),e.lanes=n,e}function _o(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function nh(e){var t=Ct(18,null,null,0);return t.stateNode=e,t}function wo(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ah=new WeakMap;function Ht(e,t){if(typeof e=="object"&&e!==null){var n=ah.get(e);return n!==void 0?n:(t={value:e,source:t,stack:nd(t)},ah.set(e,t),t)}return{value:e,source:t,stack:nd(t)}}var Xa=[],Ia=0,or=null,Js=0,$t=[],Vt=0,zn=null,an=1,sn="";function pn(e,t){Xa[Ia++]=Js,Xa[Ia++]=or,or=e,Js=t}function sh(e,t,n){$t[Vt++]=an,$t[Vt++]=sn,$t[Vt++]=zn,zn=e;var s=an;e=sn;var o=32-At(s)-1;s&=~(1<<o),n+=1;var h=32-At(t)+o;if(30<h){var g=o-o%5;h=(s&(1<<g)-1).toString(32),s>>=g,o-=g,an=1<<32-At(t)+o|n<<o|s,sn=h+e}else an=1<<h|n<<o|s,sn=e}function xo(e){e.return!==null&&(pn(e,1),sh(e,1,0))}function So(e){for(;e===or;)or=Xa[--Ia],Xa[Ia]=null,Js=Xa[--Ia],Xa[Ia]=null;for(;e===zn;)zn=$t[--Vt],$t[Vt]=null,sn=$t[--Vt],$t[Vt]=null,an=$t[--Vt],$t[Vt]=null}function ih(e,t){$t[Vt++]=an,$t[Vt++]=sn,$t[Vt++]=zn,an=t.id,sn=t.overflow,zn=e}var rt=null,$e=null,Oe=!1,qn=null,Gt=!1,jo=Error(l(519));function Ln(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xs(Ht(t,e)),jo}function rh(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[it]=e,t[pt]=s,n){case"dialog":je("cancel",t),je("close",t);break;case"iframe":case"object":case"embed":je("load",t);break;case"video":case"audio":for(n=0;n<vi.length;n++)je(vi[n],t);break;case"source":je("error",t);break;case"img":case"image":case"link":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"input":je("invalid",t),bd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":je("invalid",t);break;case"textarea":je("invalid",t),wd(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||jm(t.textContent,n)?(s.popover!=null&&(je("beforetoggle",t),je("toggle",t)),s.onScroll!=null&&je("scroll",t),s.onScrollEnd!=null&&je("scrollend",t),s.onClick!=null&&(t.onclick=hn),t=!0):t=!1,t||Ln(e,!0)}function lh(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:rt=rt.return}}function Za(e){if(e!==rt)return!1;if(!Oe)return lh(e),Oe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Vu(e.type,e.memoizedProps)),n=!n),n&&$e&&Ln(e),lh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));$e=Um(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));$e=Um(e)}else t===27?(t=$e,Fn(e.type)?(e=Ku,Ku=null,$e=e):$e=t):$e=rt?Qt(e.stateNode.nextSibling):null;return!0}function pa(){$e=rt=null,Oe=!1}function Eo(){var e=qn;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),qn=null),e}function Xs(e){qn===null?qn=[e]:qn.push(e)}var To=C(null),ga=null,gn=null;function Hn(e,t,n){I(To,t._currentValue),t._currentValue=n}function vn(e){e._currentValue=To.current,V(To)}function Ao(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Oo(e,t,n,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var h=o.dependencies;if(h!==null){var g=o.child;h=h.firstContext;e:for(;h!==null;){var b=h;h=o;for(var S=0;S<t.length;S++)if(b.context===t[S]){h.lanes|=n,b=h.alternate,b!==null&&(b.lanes|=n),Ao(h.return,n,e),s||(g=null);break e}h=b.next}}else if(o.tag===18){if(g=o.return,g===null)throw Error(l(341));g.lanes|=n,h=g.alternate,h!==null&&(h.lanes|=n),Ao(g,n,e),g=null}else g=o.child;if(g!==null)g.return=o;else for(g=o;g!==null;){if(g===e){g=null;break}if(o=g.sibling,o!==null){o.return=g.return,g=o;break}g=g.return}o=g}}function Wa(e,t,n,s){e=null;for(var o=t,h=!1;o!==null;){if(!h){if((o.flags&524288)!==0)h=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var g=o.alternate;if(g===null)throw Error(l(387));if(g=g.memoizedProps,g!==null){var b=o.type;Ot(o.pendingProps.value,g.value)||(e!==null?e.push(b):e=[b])}}else if(o===N.current){if(g=o.alternate,g===null)throw Error(l(387));g.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(xi):e=[xi])}o=o.return}e!==null&&Oo(t,e,n,s),t.flags|=262144}function ur(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function va(e){ga=e,gn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return oh(ga,e)}function cr(e,t){return ga===null&&va(e),oh(e,t)}function oh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},gn===null){if(e===null)throw Error(l(308));gn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else gn=gn.next=t;return n}var B0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},z0=r.unstable_scheduleCallback,q0=r.unstable_NormalPriority,Ie={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Co(){return{controller:new B0,data:new Map,refCount:0}}function Is(e){e.refCount--,e.refCount===0&&z0(q0,function(){e.controller.abort()})}var Zs=null,No=0,Fa=0,es=null;function L0(e,t){if(Zs===null){var n=Zs=[];No=0,Fa=Uu(),es={status:"pending",value:void 0,then:function(s){n.push(s)}}}return No++,t.then(uh,uh),t}function uh(){if(--No===0&&Zs!==null){es!==null&&(es.status="fulfilled");var e=Zs;Zs=null,Fa=0,es=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function H0(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),s}var ch=z.S;z.S=function(e,t){Jf=Et(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&L0(e,t),ch!==null&&ch(e,t)};var ya=C(null);function Ro(){var e=ya.current;return e!==null?e:Le.pooledCache}function dr(e,t){t===null?I(ya,ya.current):I(ya,t.pool)}function dh(){var e=Ro();return e===null?null:{parent:Ie._currentValue,pool:e}}var ts=Error(l(460)),ko=Error(l(474)),hr=Error(l(542)),fr={then:function(){}};function hh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function fh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(hn,hn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ph(e),e;default:if(typeof t.status=="string")t.then(hn,hn);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ph(e),e}throw _a=t,ts}}function ba(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(_a=n,ts):n}}var _a=null;function mh(){if(_a===null)throw Error(l(459));var e=_a;return _a=null,e}function ph(e){if(e===ts||e===hr)throw Error(l(483))}var ns=null,Ws=0;function mr(e){var t=Ws;return Ws+=1,ns===null&&(ns=[]),fh(ns,e,t)}function Fs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function pr(e,t){throw t.$$typeof===x?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gh(e){function t(R,A){if(e){var D=R.deletions;D===null?(R.deletions=[A],R.flags|=16):D.push(A)}}function n(R,A){if(!e)return null;for(;A!==null;)t(R,A),A=A.sibling;return null}function s(R){for(var A=new Map;R!==null;)R.key!==null?A.set(R.key,R):A.set(R.index,R),R=R.sibling;return A}function o(R,A){return R=mn(R,A),R.index=0,R.sibling=null,R}function h(R,A,D){return R.index=D,e?(D=R.alternate,D!==null?(D=D.index,D<A?(R.flags|=67108866,A):D):(R.flags|=67108866,A)):(R.flags|=1048576,A)}function g(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function b(R,A,D,$){return A===null||A.tag!==6?(A=_o(D,R.mode,$),A.return=R,A):(A=o(A,D),A.return=R,A)}function S(R,A,D,$){var he=D.type;return he===O?H(R,A,D.props.children,$,D.key):A!==null&&(A.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===F&&ba(he)===A.type)?(A=o(A,D.props),Fs(A,D),A.return=R,A):(A=lr(D.type,D.key,D.props,null,R.mode,$),Fs(A,D),A.return=R,A)}function B(R,A,D,$){return A===null||A.tag!==4||A.stateNode.containerInfo!==D.containerInfo||A.stateNode.implementation!==D.implementation?(A=wo(D,R.mode,$),A.return=R,A):(A=o(A,D.children||[]),A.return=R,A)}function H(R,A,D,$,he){return A===null||A.tag!==7?(A=ma(D,R.mode,$,he),A.return=R,A):(A=o(A,D),A.return=R,A)}function G(R,A,D){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=_o(""+A,R.mode,D),A.return=R,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case w:return D=lr(A.type,A.key,A.props,null,R.mode,D),Fs(D,A),D.return=R,D;case E:return A=wo(A,R.mode,D),A.return=R,A;case F:return A=ba(A),G(R,A,D)}if(le(A)||Y(A))return A=ma(A,R.mode,D,null),A.return=R,A;if(typeof A.then=="function")return G(R,mr(A),D);if(A.$$typeof===M)return G(R,cr(R,A),D);pr(R,A)}return null}function q(R,A,D,$){var he=A!==null?A.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return he!==null?null:b(R,A,""+D,$);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case w:return D.key===he?S(R,A,D,$):null;case E:return D.key===he?B(R,A,D,$):null;case F:return D=ba(D),q(R,A,D,$)}if(le(D)||Y(D))return he!==null?null:H(R,A,D,$,null);if(typeof D.then=="function")return q(R,A,mr(D),$);if(D.$$typeof===M)return q(R,A,cr(R,D),$);pr(R,D)}return null}function L(R,A,D,$,he){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return R=R.get(D)||null,b(A,R,""+$,he);if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return R=R.get($.key===null?D:$.key)||null,S(A,R,$,he);case E:return R=R.get($.key===null?D:$.key)||null,B(A,R,$,he);case F:return $=ba($),L(R,A,D,$,he)}if(le($)||Y($))return R=R.get(D)||null,H(A,R,$,he,null);if(typeof $.then=="function")return L(R,A,D,mr($),he);if($.$$typeof===M)return L(R,A,D,cr(A,$),he);pr(A,$)}return null}function ae(R,A,D,$){for(var he=null,Re=null,re=A,be=A=0,Te=null;re!==null&&be<D.length;be++){re.index>be?(Te=re,re=null):Te=re.sibling;var ke=q(R,re,D[be],$);if(ke===null){re===null&&(re=Te);break}e&&re&&ke.alternate===null&&t(R,re),A=h(ke,A,be),Re===null?he=ke:Re.sibling=ke,Re=ke,re=Te}if(be===D.length)return n(R,re),Oe&&pn(R,be),he;if(re===null){for(;be<D.length;be++)re=G(R,D[be],$),re!==null&&(A=h(re,A,be),Re===null?he=re:Re.sibling=re,Re=re);return Oe&&pn(R,be),he}for(re=s(re);be<D.length;be++)Te=L(re,R,be,D[be],$),Te!==null&&(e&&Te.alternate!==null&&re.delete(Te.key===null?be:Te.key),A=h(Te,A,be),Re===null?he=Te:Re.sibling=Te,Re=Te);return e&&re.forEach(function(sa){return t(R,sa)}),Oe&&pn(R,be),he}function fe(R,A,D,$){if(D==null)throw Error(l(151));for(var he=null,Re=null,re=A,be=A=0,Te=null,ke=D.next();re!==null&&!ke.done;be++,ke=D.next()){re.index>be?(Te=re,re=null):Te=re.sibling;var sa=q(R,re,ke.value,$);if(sa===null){re===null&&(re=Te);break}e&&re&&sa.alternate===null&&t(R,re),A=h(sa,A,be),Re===null?he=sa:Re.sibling=sa,Re=sa,re=Te}if(ke.done)return n(R,re),Oe&&pn(R,be),he;if(re===null){for(;!ke.done;be++,ke=D.next())ke=G(R,ke.value,$),ke!==null&&(A=h(ke,A,be),Re===null?he=ke:Re.sibling=ke,Re=ke);return Oe&&pn(R,be),he}for(re=s(re);!ke.done;be++,ke=D.next())ke=L(re,R,be,ke.value,$),ke!==null&&(e&&ke.alternate!==null&&re.delete(ke.key===null?be:ke.key),A=h(ke,A,be),Re===null?he=ke:Re.sibling=ke,Re=ke);return e&&re.forEach(function(Zy){return t(R,Zy)}),Oe&&pn(R,be),he}function qe(R,A,D,$){if(typeof D=="object"&&D!==null&&D.type===O&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case w:e:{for(var he=D.key;A!==null;){if(A.key===he){if(he=D.type,he===O){if(A.tag===7){n(R,A.sibling),$=o(A,D.props.children),$.return=R,R=$;break e}}else if(A.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===F&&ba(he)===A.type){n(R,A.sibling),$=o(A,D.props),Fs($,D),$.return=R,R=$;break e}n(R,A);break}else t(R,A);A=A.sibling}D.type===O?($=ma(D.props.children,R.mode,$,D.key),$.return=R,R=$):($=lr(D.type,D.key,D.props,null,R.mode,$),Fs($,D),$.return=R,R=$)}return g(R);case E:e:{for(he=D.key;A!==null;){if(A.key===he)if(A.tag===4&&A.stateNode.containerInfo===D.containerInfo&&A.stateNode.implementation===D.implementation){n(R,A.sibling),$=o(A,D.children||[]),$.return=R,R=$;break e}else{n(R,A);break}else t(R,A);A=A.sibling}$=wo(D,R.mode,$),$.return=R,R=$}return g(R);case F:return D=ba(D),qe(R,A,D,$)}if(le(D))return ae(R,A,D,$);if(Y(D)){if(he=Y(D),typeof he!="function")throw Error(l(150));return D=he.call(D),fe(R,A,D,$)}if(typeof D.then=="function")return qe(R,A,mr(D),$);if(D.$$typeof===M)return qe(R,A,cr(R,D),$);pr(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,A!==null&&A.tag===6?(n(R,A.sibling),$=o(A,D),$.return=R,R=$):(n(R,A),$=_o(D,R.mode,$),$.return=R,R=$),g(R)):n(R,A)}return function(R,A,D,$){try{Ws=0;var he=qe(R,A,D,$);return ns=null,he}catch(re){if(re===ts||re===hr)throw re;var Re=Ct(29,re,null,R.mode);return Re.lanes=$,Re.return=R,Re}finally{}}}var wa=gh(!0),vh=gh(!1),$n=!1;function Uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ue&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=rr(e),eh(e,null,n),t}return ir(e,s,t,n),rr(e)}function ei(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,od(e,n)}}function Do(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var g={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};h===null?o=h=g:h=h.next=g,n=n.next}while(n!==null);h===null?o=h=t:h=h.next=t}else o=h=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Bo=!1;function ti(){if(Bo){var e=es;if(e!==null)throw e}}function ni(e,t,n,s){Bo=!1;var o=e.updateQueue;$n=!1;var h=o.firstBaseUpdate,g=o.lastBaseUpdate,b=o.shared.pending;if(b!==null){o.shared.pending=null;var S=b,B=S.next;S.next=null,g===null?h=B:g.next=B,g=S;var H=e.alternate;H!==null&&(H=H.updateQueue,b=H.lastBaseUpdate,b!==g&&(b===null?H.firstBaseUpdate=B:b.next=B,H.lastBaseUpdate=S))}if(h!==null){var G=o.baseState;g=0,H=B=S=null,b=h;do{var q=b.lane&-536870913,L=q!==b.lane;if(L?(Ee&q)===q:(s&q)===q){q!==0&&q===Fa&&(Bo=!0),H!==null&&(H=H.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ae=e,fe=b;q=t;var qe=n;switch(fe.tag){case 1:if(ae=fe.payload,typeof ae=="function"){G=ae.call(qe,G,q);break e}G=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=fe.payload,q=typeof ae=="function"?ae.call(qe,G,q):ae,q==null)break e;G=_({},G,q);break e;case 2:$n=!0}}q=b.callback,q!==null&&(e.flags|=64,L&&(e.flags|=8192),L=o.callbacks,L===null?o.callbacks=[q]:L.push(q))}else L={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},H===null?(B=H=L,S=G):H=H.next=L,g|=q;if(b=b.next,b===null){if(b=o.shared.pending,b===null)break;L=b,b=L.next,L.next=null,o.lastBaseUpdate=L,o.shared.pending=null}}while(!0);H===null&&(S=G),o.baseState=S,o.firstBaseUpdate=B,o.lastBaseUpdate=H,h===null&&(o.shared.lanes=0),Jn|=g,e.lanes=g,e.memoizedState=G}}function yh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function bh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)yh(n[e],t)}var as=C(null),gr=C(0);function _h(e,t){e=Tn,I(gr,e),I(as,t),Tn=e|t.baseLanes}function zo(){I(gr,Tn),I(as,as.current)}function qo(){Tn=gr.current,V(as),V(gr)}var Nt=C(null),Pt=null;function Pn(e){var t=e.alternate;I(Je,Je.current&1),I(Nt,e),Pt===null&&(t===null||as.current!==null||t.memoizedState!==null)&&(Pt=e)}function Lo(e){I(Je,Je.current),I(Nt,e),Pt===null&&(Pt=e)}function wh(e){e.tag===22?(I(Je,Je.current),I(Nt,e),Pt===null&&(Pt=e)):Qn()}function Qn(){I(Je,Je.current),I(Nt,Nt.current)}function Rt(e){V(Nt),Pt===e&&(Pt=null),V(Je)}var Je=C(0);function vr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Qu(n)||Yu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yn=0,ve=null,Be=null,Ze=null,yr=!1,ss=!1,xa=!1,br=0,ai=0,is=null,$0=0;function Ye(){throw Error(l(321))}function Ho(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ot(e[n],t[n]))return!1;return!0}function $o(e,t,n,s,o,h){return yn=h,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?sf:nu,xa=!1,h=n(s,o),xa=!1,ss&&(h=Sh(t,n,s,o)),xh(e),h}function xh(e){z.H=ri;var t=Be!==null&&Be.next!==null;if(yn=0,Ze=Be=ve=null,yr=!1,ai=0,is=null,t)throw Error(l(300));e===null||We||(e=e.dependencies,e!==null&&ur(e)&&(We=!0))}function Sh(e,t,n,s){ve=e;var o=0;do{if(ss&&(is=null),ai=0,ss=!1,25<=o)throw Error(l(301));if(o+=1,Ze=Be=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}z.H=rf,h=t(n,s)}while(ss);return h}function V0(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?si(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(ve.flags|=1024),t}function Vo(){var e=br!==0;return br=0,e}function Go(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Po(e){if(yr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}yr=!1}yn=0,Ze=Be=ve=null,ss=!1,ai=br=0,is=null}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ve.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Xe(){if(Be===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Ze===null?ve.memoizedState:Ze.next;if(t!==null)Ze=t,Be=e;else{if(e===null)throw ve.alternate===null?Error(l(467)):Error(l(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ze===null?ve.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function _r(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function si(e){var t=ai;return ai+=1,is===null&&(is=[]),e=fh(is,e,t),t=ve,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?sf:nu),e}function wr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return si(e);if(e.$$typeof===M)return lt(e)}throw Error(l(438,String(e)))}function Qo(e){var t=null,n=ve.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=ve.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=_r(),ve.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=_e;return t.index++,n}function bn(e,t){return typeof t=="function"?t(e):t}function xr(e){var t=Xe();return Yo(t,Be,e)}function Yo(e,t,n){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=n;var o=e.baseQueue,h=s.pending;if(h!==null){if(o!==null){var g=o.next;o.next=h.next,h.next=g}t.baseQueue=o=h,s.pending=null}if(h=e.baseState,o===null)e.memoizedState=h;else{t=o.next;var b=g=null,S=null,B=t,H=!1;do{var G=B.lane&-536870913;if(G!==B.lane?(Ee&G)===G:(yn&G)===G){var q=B.revertLane;if(q===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),G===Fa&&(H=!0);else if((yn&q)===q){B=B.next,q===Fa&&(H=!0);continue}else G={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},S===null?(b=S=G,g=h):S=S.next=G,ve.lanes|=q,Jn|=q;G=B.action,xa&&n(h,G),h=B.hasEagerState?B.eagerState:n(h,G)}else q={lane:G,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},S===null?(b=S=q,g=h):S=S.next=q,ve.lanes|=G,Jn|=G;B=B.next}while(B!==null&&B!==t);if(S===null?g=h:S.next=b,!Ot(h,e.memoizedState)&&(We=!0,H&&(n=es,n!==null)))throw n;e.memoizedState=h,e.baseState=g,e.baseQueue=S,s.lastRenderedState=h}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Ko(e){var t=Xe(),n=t.queue;if(n===null)throw Error(l(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,h=t.memoizedState;if(o!==null){n.pending=null;var g=o=o.next;do h=e(h,g.action),g=g.next;while(g!==o);Ot(h,t.memoizedState)||(We=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,s]}function jh(e,t,n){var s=ve,o=Xe(),h=Oe;if(h){if(n===void 0)throw Error(l(407));n=n()}else n=t();var g=!Ot((Be||o).memoizedState,n);if(g&&(o.memoizedState=n,We=!0),o=o.queue,Io(Ah.bind(null,s,o,e),[e]),o.getSnapshot!==t||g||Ze!==null&&Ze.memoizedState.tag&1){if(s.flags|=2048,rs(9,{destroy:void 0},Th.bind(null,s,o,n,t),null),Le===null)throw Error(l(349));h||(yn&127)!==0||Eh(s,t,n)}return n}function Eh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t=_r(),ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Th(e,t,n,s){t.value=n,t.getSnapshot=s,Oh(t)&&Ch(e)}function Ah(e,t,n){return n(function(){Oh(t)&&Ch(e)})}function Oh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ot(e,n)}catch{return!0}}function Ch(e){var t=fa(e,2);t!==null&&wt(t,e,2)}function Jo(e){var t=mt();if(typeof e=="function"){var n=e;if(e=n(),xa){Mn(!0);try{n()}finally{Mn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:e},t}function Nh(e,t,n,s){return e.baseState=n,Yo(e,Be,typeof s=="function"?s:bn)}function G0(e,t,n,s,o){if(Er(e))throw Error(l(485));if(e=t.action,e!==null){var h={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};z.T!==null?n(!0):h.isTransition=!1,s(h),n=t.pending,n===null?(h.next=t.pending=h,Rh(t,h)):(h.next=n.next,t.pending=n.next=h)}}function Rh(e,t){var n=t.action,s=t.payload,o=e.state;if(t.isTransition){var h=z.T,g={};z.T=g;try{var b=n(o,s),S=z.S;S!==null&&S(g,b),kh(e,t,b)}catch(B){Xo(e,t,B)}finally{h!==null&&g.types!==null&&(h.types=g.types),z.T=h}}else try{h=n(o,s),kh(e,t,h)}catch(B){Xo(e,t,B)}}function kh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Uh(e,t,s)},function(s){return Xo(e,t,s)}):Uh(e,t,n)}function Uh(e,t,n){t.status="fulfilled",t.value=n,Mh(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Rh(e,n)))}function Xo(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Mh(t),t=t.next;while(t!==s)}e.action=null}function Mh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Dh(e,t){return t}function Bh(e,t){if(Oe){var n=Le.formState;if(n!==null){e:{var s=ve;if(Oe){if($e){t:{for(var o=$e,h=Gt;o.nodeType!==8;){if(!h){o=null;break t}if(o=Qt(o.nextSibling),o===null){o=null;break t}}h=o.data,o=h==="F!"||h==="F"?o:null}if(o){$e=Qt(o.nextSibling),s=o.data==="F!";break e}}Ln(s)}s=!1}s&&(t=n[0])}}return n=mt(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dh,lastRenderedState:t},n.queue=s,n=tf.bind(null,ve,s),s.dispatch=n,s=Jo(!1),h=tu.bind(null,ve,!1,s.queue),s=mt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,n=G0.bind(null,ve,o,h,n),o.dispatch=n,s.memoizedState=e,[t,n,!1]}function zh(e){var t=Xe();return qh(t,Be,e)}function qh(e,t,n){if(t=Yo(e,t,Dh)[0],e=xr(bn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=si(t)}catch(g){throw g===ts?hr:g}else s=t;t=Xe();var o=t.queue,h=o.dispatch;return n!==t.memoizedState&&(ve.flags|=2048,rs(9,{destroy:void 0},P0.bind(null,o,n),null)),[s,h,e]}function P0(e,t){e.action=t}function Lh(e){var t=Xe(),n=Be;if(n!==null)return qh(t,n,e);Xe(),t=t.memoizedState,n=Xe();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function rs(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=ve.updateQueue,t===null&&(t=_r(),ve.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Hh(){return Xe().memoizedState}function Sr(e,t,n,s){var o=mt();ve.flags|=e,o.memoizedState=rs(1|t,{destroy:void 0},n,s===void 0?null:s)}function jr(e,t,n,s){var o=Xe();s=s===void 0?null:s;var h=o.memoizedState.inst;Be!==null&&s!==null&&Ho(s,Be.memoizedState.deps)?o.memoizedState=rs(t,h,n,s):(ve.flags|=e,o.memoizedState=rs(1|t,h,n,s))}function $h(e,t){Sr(8390656,8,e,t)}function Io(e,t){jr(2048,8,e,t)}function Q0(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=_r(),ve.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Vh(e){var t=Xe().memoizedState;return Q0({ref:t,nextImpl:e}),function(){if((Ue&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Gh(e,t){return jr(4,2,e,t)}function Ph(e,t){return jr(4,4,e,t)}function Qh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yh(e,t,n){n=n!=null?n.concat([e]):null,jr(4,4,Qh.bind(null,t,e),n)}function Zo(){}function Kh(e,t){var n=Xe();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Ho(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Jh(e,t){var n=Xe();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Ho(t,s[1]))return s[0];if(s=e(),xa){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[s,t],s}function Wo(e,t,n){return n===void 0||(yn&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=If(),ve.lanes|=e,Jn|=e,n)}function Xh(e,t,n,s){return Ot(n,t)?n:as.current!==null?(e=Wo(e,n,s),Ot(e,t)||(We=!0),e):(yn&42)===0||(yn&1073741824)!==0&&(Ee&261930)===0?(We=!0,e.memoizedState=n):(e=If(),ve.lanes|=e,Jn|=e,t)}function Ih(e,t,n,s,o){var h=J.p;J.p=h!==0&&8>h?h:8;var g=z.T,b={};z.T=b,tu(e,!1,t,n);try{var S=o(),B=z.S;if(B!==null&&B(b,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var H=H0(S,s);ii(e,t,H,Mt(e))}else ii(e,t,s,Mt(e))}catch(G){ii(e,t,{then:function(){},status:"rejected",reason:G},Mt())}finally{J.p=h,g!==null&&b.types!==null&&(g.types=b.types),z.T=g}}function Y0(){}function Fo(e,t,n,s){if(e.tag!==5)throw Error(l(476));var o=Zh(e).queue;Ih(e,o,t,de,n===null?Y0:function(){return Wh(e),n(s)})}function Zh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:de},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Wh(e){var t=Zh(e);t.next===null&&(t=e.alternate.memoizedState),ii(e,t.next.queue,{},Mt())}function eu(){return lt(xi)}function Fh(){return Xe().memoizedState}function ef(){return Xe().memoizedState}function K0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Mt();e=Vn(n);var s=Gn(t,e,n);s!==null&&(wt(s,t,n),ei(s,t,n)),t={cache:Co()},e.payload=t;return}t=t.return}}function J0(e,t,n){var s=Mt();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Er(e)?nf(t,n):(n=yo(e,t,n,s),n!==null&&(wt(n,e,s),af(n,t,s)))}function tf(e,t,n){var s=Mt();ii(e,t,n,s)}function ii(e,t,n,s){var o={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Er(e))nf(t,o);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var g=t.lastRenderedState,b=h(g,n);if(o.hasEagerState=!0,o.eagerState=b,Ot(b,g))return ir(e,t,o,0),Le===null&&sr(),!1}catch{}finally{}if(n=yo(e,t,o,s),n!==null)return wt(n,e,s),af(n,t,s),!0}return!1}function tu(e,t,n,s){if(s={lane:2,revertLane:Uu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Er(e)){if(t)throw Error(l(479))}else t=yo(e,n,s,2),t!==null&&wt(t,e,2)}function Er(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function nf(e,t){ss=yr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function af(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,od(e,n)}}var ri={readContext:lt,use:wr,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};ri.useEffectEvent=Ye;var sf={readContext:lt,use:wr,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:$h,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Sr(4194308,4,Qh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sr(4194308,4,e,t)},useInsertionEffect:function(e,t){Sr(4,2,e,t)},useMemo:function(e,t){var n=mt();t=t===void 0?null:t;var s=e();if(xa){Mn(!0);try{e()}finally{Mn(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=mt();if(n!==void 0){var o=n(t);if(xa){Mn(!0);try{n(t)}finally{Mn(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=J0.bind(null,ve,e),[s.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:function(e){e=Jo(e);var t=e.queue,n=tf.bind(null,ve,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Zo,useDeferredValue:function(e,t){var n=mt();return Wo(n,e,t)},useTransition:function(){var e=Jo(!1);return e=Ih.bind(null,ve,e.queue,!0,!1),mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=ve,o=mt();if(Oe){if(n===void 0)throw Error(l(407));n=n()}else{if(n=t(),Le===null)throw Error(l(349));(Ee&127)!==0||Eh(s,t,n)}o.memoizedState=n;var h={value:n,getSnapshot:t};return o.queue=h,$h(Ah.bind(null,s,h,e),[e]),s.flags|=2048,rs(9,{destroy:void 0},Th.bind(null,s,h,n,t),null),n},useId:function(){var e=mt(),t=Le.identifierPrefix;if(Oe){var n=sn,s=an;n=(s&~(1<<32-At(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=br++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=$0++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:eu,useFormState:Bh,useActionState:Bh,useOptimistic:function(e){var t=mt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=tu.bind(null,ve,!0,n),n.dispatch=t,[e,t]},useMemoCache:Qo,useCacheRefresh:function(){return mt().memoizedState=K0.bind(null,ve)},useEffectEvent:function(e){var t=mt(),n={impl:e};return t.memoizedState=n,function(){if((Ue&2)!==0)throw Error(l(440));return n.impl.apply(void 0,arguments)}}},nu={readContext:lt,use:wr,useCallback:Kh,useContext:lt,useEffect:Io,useImperativeHandle:Yh,useInsertionEffect:Gh,useLayoutEffect:Ph,useMemo:Jh,useReducer:xr,useRef:Hh,useState:function(){return xr(bn)},useDebugValue:Zo,useDeferredValue:function(e,t){var n=Xe();return Xh(n,Be.memoizedState,e,t)},useTransition:function(){var e=xr(bn)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:si(e),t]},useSyncExternalStore:jh,useId:Fh,useHostTransitionStatus:eu,useFormState:zh,useActionState:zh,useOptimistic:function(e,t){var n=Xe();return Nh(n,Be,e,t)},useMemoCache:Qo,useCacheRefresh:ef};nu.useEffectEvent=Vh;var rf={readContext:lt,use:wr,useCallback:Kh,useContext:lt,useEffect:Io,useImperativeHandle:Yh,useInsertionEffect:Gh,useLayoutEffect:Ph,useMemo:Jh,useReducer:Ko,useRef:Hh,useState:function(){return Ko(bn)},useDebugValue:Zo,useDeferredValue:function(e,t){var n=Xe();return Be===null?Wo(n,e,t):Xh(n,Be.memoizedState,e,t)},useTransition:function(){var e=Ko(bn)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:si(e),t]},useSyncExternalStore:jh,useId:Fh,useHostTransitionStatus:eu,useFormState:Lh,useActionState:Lh,useOptimistic:function(e,t){var n=Xe();return Be!==null?Nh(n,Be,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Qo,useCacheRefresh:ef};rf.useEffectEvent=Vh;function au(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:_({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var su={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Mt(),o=Vn(s);o.payload=t,n!=null&&(o.callback=n),t=Gn(e,o,s),t!==null&&(wt(t,e,s),ei(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Mt(),o=Vn(s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Gn(e,o,s),t!==null&&(wt(t,e,s),ei(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mt(),s=Vn(n);s.tag=2,t!=null&&(s.callback=t),t=Gn(e,s,n),t!==null&&(wt(t,e,n),ei(t,e,n))}};function lf(e,t,n,s,o,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,g):t.prototype&&t.prototype.isPureReactComponent?!Ys(n,s)||!Ys(o,h):!0}function of(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&su.enqueueReplaceState(t,t.state,null)}function Sa(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=_({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function uf(e){ar(e)}function cf(e){console.error(e)}function df(e){ar(e)}function Tr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function hf(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function iu(e,t,n){return n=Vn(n),n.tag=3,n.payload={element:null},n.callback=function(){Tr(e,t)},n}function ff(e){return e=Vn(e),e.tag=3,e}function mf(e,t,n,s){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var h=s.value;e.payload=function(){return o(h)},e.callback=function(){hf(t,n,s)}}var g=n.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){hf(t,n,s),typeof o!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function X0(e,t,n,s,o){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&Wa(t,n,o,!0),n=Nt.current,n!==null){switch(n.tag){case 31:case 13:return Pt===null?qr():n.alternate===null&&Ke===0&&(Ke=3),n.flags&=-257,n.flags|=65536,n.lanes=o,s===fr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Nu(e,s,o)),!1;case 22:return n.flags|=65536,s===fr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Nu(e,s,o)),!1}throw Error(l(435,n.tag))}return Nu(e,s,o),qr(),!1}if(Oe)return t=Nt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==jo&&(e=Error(l(422),{cause:s}),Xs(Ht(e,n)))):(s!==jo&&(t=Error(l(423),{cause:s}),Xs(Ht(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Ht(s,n),o=iu(e.stateNode,s,o),Do(e,o),Ke!==4&&(Ke=2)),!1;var h=Error(l(520),{cause:s});if(h=Ht(h,n),mi===null?mi=[h]:mi.push(h),Ke!==4&&(Ke=2),t===null)return!0;s=Ht(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=iu(n.stateNode,s,e),Do(n,e),!1;case 1:if(t=n.type,h=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Xn===null||!Xn.has(h))))return n.flags|=65536,o&=-o,n.lanes|=o,o=ff(o),mf(o,e,n,s),Do(n,o),!1}n=n.return}while(n!==null);return!1}var ru=Error(l(461)),We=!1;function ot(e,t,n,s){t.child=e===null?vh(t,null,n,s):wa(t,e.child,n,s)}function pf(e,t,n,s,o){n=n.render;var h=t.ref;if("ref"in s){var g={};for(var b in s)b!=="ref"&&(g[b]=s[b])}else g=s;return va(t),s=$o(e,t,n,g,h,o),b=Vo(),e!==null&&!We?(Go(e,t,o),_n(e,t,o)):(Oe&&b&&xo(t),t.flags|=1,ot(e,t,s,o),t.child)}function gf(e,t,n,s,o){if(e===null){var h=n.type;return typeof h=="function"&&!bo(h)&&h.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=h,vf(e,t,h,s,o)):(e=lr(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!mu(e,o)){var g=h.memoizedProps;if(n=n.compare,n=n!==null?n:Ys,n(g,s)&&e.ref===t.ref)return _n(e,t,o)}return t.flags|=1,e=mn(h,s),e.ref=t.ref,e.return=t,t.child=e}function vf(e,t,n,s,o){if(e!==null){var h=e.memoizedProps;if(Ys(h,s)&&e.ref===t.ref)if(We=!1,t.pendingProps=s=h,mu(e,o))(e.flags&131072)!==0&&(We=!0);else return t.lanes=e.lanes,_n(e,t,o)}return lu(e,t,n,s,o)}function yf(e,t,n,s){var o=s.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|n:n,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~h}else s=0,t.child=null;return bf(e,t,h,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&dr(t,h!==null?h.cachePool:null),h!==null?_h(t,h):zo(),wh(t);else return s=t.lanes=536870912,bf(e,t,h!==null?h.baseLanes|n:n,n,s)}else h!==null?(dr(t,h.cachePool),_h(t,h),Qn(),t.memoizedState=null):(e!==null&&dr(t,null),zo(),Qn());return ot(e,t,o,n),t.child}function li(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bf(e,t,n,s,o){var h=Ro();return h=h===null?null:{parent:Ie._currentValue,pool:h},t.memoizedState={baseLanes:n,cachePool:h},e!==null&&dr(t,null),zo(),wh(t),e!==null&&Wa(e,t,s,!0),t.childLanes=o,null}function Ar(e,t){return t=Cr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function _f(e,t,n){return wa(t,e.child,null,n),e=Ar(t,t.pendingProps),e.flags|=2,Rt(t),t.memoizedState=null,e}function I0(e,t,n){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Oe){if(s.mode==="hidden")return e=Ar(t,s),t.lanes=536870912,li(null,e);if(Lo(t),(e=$e)?(e=km(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zn!==null?{id:an,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},n=nh(e),n.return=t,t.child=n,rt=t,$e=null)):e=null,e===null)throw Ln(t);return t.lanes=536870912,null}return Ar(t,s)}var h=e.memoizedState;if(h!==null){var g=h.dehydrated;if(Lo(t),o)if(t.flags&256)t.flags&=-257,t=_f(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(We||Wa(e,t,n,!1),o=(n&e.childLanes)!==0,We||o){if(s=Le,s!==null&&(g=ud(s,n),g!==0&&g!==h.retryLane))throw h.retryLane=g,fa(e,g),wt(s,e,g),ru;qr(),t=_f(e,t,n)}else e=h.treeContext,$e=Qt(g.nextSibling),rt=t,Oe=!0,qn=null,Gt=!1,e!==null&&ih(t,e),t=Ar(t,s),t.flags|=4096;return t}return e=mn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Or(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(l(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function lu(e,t,n,s,o){return va(t),n=$o(e,t,n,s,void 0,o),s=Vo(),e!==null&&!We?(Go(e,t,o),_n(e,t,o)):(Oe&&s&&xo(t),t.flags|=1,ot(e,t,n,o),t.child)}function wf(e,t,n,s,o,h){return va(t),t.updateQueue=null,n=Sh(t,s,n,o),xh(e),s=Vo(),e!==null&&!We?(Go(e,t,h),_n(e,t,h)):(Oe&&s&&xo(t),t.flags|=1,ot(e,t,n,h),t.child)}function xf(e,t,n,s,o){if(va(t),t.stateNode===null){var h=Ja,g=n.contextType;typeof g=="object"&&g!==null&&(h=lt(g)),h=new n(s,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=su,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=s,h.state=t.memoizedState,h.refs={},Uo(t),g=n.contextType,h.context=typeof g=="object"&&g!==null?lt(g):Ja,h.state=t.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&(au(t,n,g,s),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&su.enqueueReplaceState(h,h.state,null),ni(t,s,h,o),ti(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){h=t.stateNode;var b=t.memoizedProps,S=Sa(n,b);h.props=S;var B=h.context,H=n.contextType;g=Ja,typeof H=="object"&&H!==null&&(g=lt(H));var G=n.getDerivedStateFromProps;H=typeof G=="function"||typeof h.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b||B!==g)&&of(t,h,s,g),$n=!1;var q=t.memoizedState;h.state=q,ni(t,s,h,o),ti(),B=t.memoizedState,b||q!==B||$n?(typeof G=="function"&&(au(t,n,G,s),B=t.memoizedState),(S=$n||lf(t,n,S,s,q,B,g))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=B),h.props=s,h.state=B,h.context=g,s=S):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,Mo(e,t),g=t.memoizedProps,H=Sa(n,g),h.props=H,G=t.pendingProps,q=h.context,B=n.contextType,S=Ja,typeof B=="object"&&B!==null&&(S=lt(B)),b=n.getDerivedStateFromProps,(B=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==G||q!==S)&&of(t,h,s,S),$n=!1,q=t.memoizedState,h.state=q,ni(t,s,h,o),ti();var L=t.memoizedState;g!==G||q!==L||$n||e!==null&&e.dependencies!==null&&ur(e.dependencies)?(typeof b=="function"&&(au(t,n,b,s),L=t.memoizedState),(H=$n||lf(t,n,H,s,q,L,S)||e!==null&&e.dependencies!==null&&ur(e.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,L,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,L,S)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=L),h.props=s,h.state=L,h.context=S,s=H):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),s=!1)}return h=s,Or(e,t),s=(t.flags&128)!==0,h||s?(h=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&s?(t.child=wa(t,e.child,null,o),t.child=wa(t,null,n,o)):ot(e,t,n,o),t.memoizedState=h.state,e=t.child):e=_n(e,t,o),e}function Sf(e,t,n,s){return pa(),t.flags|=256,ot(e,t,n,s),t.child}var ou={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uu(e){return{baseLanes:e,cachePool:dh()}}function cu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ut),e}function jf(e,t,n){var s=t.pendingProps,o=!1,h=(t.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),g&&(o=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(o?Pn(t):Qn(),(e=$e)?(e=km(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zn!==null?{id:an,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},n=nh(e),n.return=t,t.child=n,rt=t,$e=null)):e=null,e===null)throw Ln(t);return Yu(e)?t.lanes=32:t.lanes=536870912,null}var b=s.children;return s=s.fallback,o?(Qn(),o=t.mode,b=Cr({mode:"hidden",children:b},o),s=ma(s,o,n,null),b.return=t,s.return=t,b.sibling=s,t.child=b,s=t.child,s.memoizedState=uu(n),s.childLanes=cu(e,g,n),t.memoizedState=ou,li(null,s)):(Pn(t),du(t,b))}var S=e.memoizedState;if(S!==null&&(b=S.dehydrated,b!==null)){if(h)t.flags&256?(Pn(t),t.flags&=-257,t=hu(e,t,n)):t.memoizedState!==null?(Qn(),t.child=e.child,t.flags|=128,t=null):(Qn(),b=s.fallback,o=t.mode,s=Cr({mode:"visible",children:s.children},o),b=ma(b,o,n,null),b.flags|=2,s.return=t,b.return=t,s.sibling=b,t.child=s,wa(t,e.child,null,n),s=t.child,s.memoizedState=uu(n),s.childLanes=cu(e,g,n),t.memoizedState=ou,t=li(null,s));else if(Pn(t),Yu(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var B=g.dgst;g=B,s=Error(l(419)),s.stack="",s.digest=g,Xs({value:s,source:null,stack:null}),t=hu(e,t,n)}else if(We||Wa(e,t,n,!1),g=(n&e.childLanes)!==0,We||g){if(g=Le,g!==null&&(s=ud(g,n),s!==0&&s!==S.retryLane))throw S.retryLane=s,fa(e,s),wt(g,e,s),ru;Qu(b)||qr(),t=hu(e,t,n)}else Qu(b)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,$e=Qt(b.nextSibling),rt=t,Oe=!0,qn=null,Gt=!1,e!==null&&ih(t,e),t=du(t,s.children),t.flags|=4096);return t}return o?(Qn(),b=s.fallback,o=t.mode,S=e.child,B=S.sibling,s=mn(S,{mode:"hidden",children:s.children}),s.subtreeFlags=S.subtreeFlags&65011712,B!==null?b=mn(B,b):(b=ma(b,o,n,null),b.flags|=2),b.return=t,s.return=t,s.sibling=b,t.child=s,li(null,s),s=t.child,b=e.child.memoizedState,b===null?b=uu(n):(o=b.cachePool,o!==null?(S=Ie._currentValue,o=o.parent!==S?{parent:S,pool:S}:o):o=dh(),b={baseLanes:b.baseLanes|n,cachePool:o}),s.memoizedState=b,s.childLanes=cu(e,g,n),t.memoizedState=ou,li(e.child,s)):(Pn(t),n=e.child,e=n.sibling,n=mn(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=n,t.memoizedState=null,n)}function du(e,t){return t=Cr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Cr(e,t){return e=Ct(22,e,null,t),e.lanes=0,e}function hu(e,t,n){return wa(t,e.child,null,n),e=du(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ef(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ao(e.return,t,n)}function fu(e,t,n,s,o,h){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o,treeForkCount:h}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=s,g.tail=n,g.tailMode=o,g.treeForkCount=h)}function Tf(e,t,n){var s=t.pendingProps,o=s.revealOrder,h=s.tail;s=s.children;var g=Je.current,b=(g&2)!==0;if(b?(g=g&1|2,t.flags|=128):g&=1,I(Je,g),ot(e,t,s,n),s=Oe?Js:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ef(e,n,t);else if(e.tag===19)Ef(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&vr(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),fu(t,!1,o,n,h,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&vr(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}fu(t,!0,n,null,h,s);break;case"together":fu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function _n(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Wa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,n=mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ur(e)))}function Z0(e,t,n){switch(t.tag){case 3:ee(t,t.stateNode.containerInfo),Hn(t,Ie,e.memoizedState.cache),pa();break;case 27:case 5:we(t);break;case 4:ee(t,t.stateNode.containerInfo);break;case 10:Hn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Lo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Pn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?jf(e,t,n):(Pn(t),e=_n(e,t,n),e!==null?e.sibling:null);Pn(t);break;case 19:var o=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(Wa(e,t,n,!1),s=(n&t.childLanes)!==0),o){if(s)return Tf(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),I(Je,Je.current),s)break;return null;case 22:return t.lanes=0,yf(e,t,n,t.pendingProps);case 24:Hn(t,Ie,e.memoizedState.cache)}return _n(e,t,n)}function Af(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!mu(e,n)&&(t.flags&128)===0)return We=!1,Z0(e,t,n);We=(e.flags&131072)!==0}else We=!1,Oe&&(t.flags&1048576)!==0&&sh(t,Js,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ba(t.elementType),t.type=e,typeof e=="function")bo(e)?(s=Sa(e,s),t.tag=1,t=xf(null,t,e,s,n)):(t.tag=0,t=lu(null,t,e,s,n));else{if(e!=null){var o=e.$$typeof;if(o===Q){t.tag=11,t=pf(null,t,e,s,n);break e}else if(o===K){t.tag=14,t=gf(null,t,e,s,n);break e}}throw t=ce(e)||e,Error(l(306,t,""))}}return t;case 0:return lu(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,o=Sa(s,t.pendingProps),xf(e,t,s,o,n);case 3:e:{if(ee(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var h=t.memoizedState;o=h.element,Mo(e,t),ni(t,s,null,n);var g=t.memoizedState;if(s=g.cache,Hn(t,Ie,s),s!==h.cache&&Oo(t,[Ie],n,!0),ti(),s=g.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Sf(e,t,s,n);break e}else if(s!==o){o=Ht(Error(l(424)),t),Xs(o),t=Sf(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=Qt(e.firstChild),rt=t,Oe=!0,qn=null,Gt=!0,n=vh(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(pa(),s===o){t=_n(e,t,n);break e}ot(e,t,s,n)}t=t.child}return t;case 26:return Or(e,t),e===null?(n=qm(t.type,null,t.pendingProps,null))?t.memoizedState=n:Oe||(n=t.type,e=t.pendingProps,s=Qr(se.current).createElement(n),s[it]=t,s[pt]=e,ut(s,n,e),at(s),t.stateNode=s):t.memoizedState=qm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&Oe&&(s=t.stateNode=Dm(t.type,t.pendingProps,se.current),rt=t,Gt=!0,o=$e,Fn(t.type)?(Ku=o,$e=Qt(s.firstChild)):$e=o),ot(e,t,t.pendingProps.children,n),Or(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((o=s=$e)&&(s=Ay(s,t.type,t.pendingProps,Gt),s!==null?(t.stateNode=s,rt=t,$e=Qt(s.firstChild),Gt=!1,o=!0):o=!1),o||Ln(t)),we(t),o=t.type,h=t.pendingProps,g=e!==null?e.memoizedProps:null,s=h.children,Vu(o,h)?s=null:g!==null&&Vu(o,g)&&(t.flags|=32),t.memoizedState!==null&&(o=$o(e,t,V0,null,null,n),xi._currentValue=o),Or(e,t),ot(e,t,s,n),t.child;case 6:return e===null&&Oe&&((e=n=$e)&&(n=Oy(n,t.pendingProps,Gt),n!==null?(t.stateNode=n,rt=t,$e=null,e=!0):e=!1),e||Ln(t)),null;case 13:return jf(e,t,n);case 4:return ee(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=wa(t,null,s,n):ot(e,t,s,n),t.child;case 11:return pf(e,t,t.type,t.pendingProps,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Hn(t,t.type,s.value),ot(e,t,s.children,n),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,va(t),o=lt(o),s=s(o),t.flags|=1,ot(e,t,s,n),t.child;case 14:return gf(e,t,t.type,t.pendingProps,n);case 15:return vf(e,t,t.type,t.pendingProps,n);case 19:return Tf(e,t,n);case 31:return I0(e,t,n);case 22:return yf(e,t,n,t.pendingProps);case 24:return va(t),s=lt(Ie),e===null?(o=Ro(),o===null&&(o=Le,h=Co(),o.pooledCache=h,h.refCount++,h!==null&&(o.pooledCacheLanes|=n),o=h),t.memoizedState={parent:s,cache:o},Uo(t),Hn(t,Ie,o)):((e.lanes&n)!==0&&(Mo(e,t),ni(t,null,null,n),ti()),o=e.memoizedState,h=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Hn(t,Ie,s)):(s=h.cache,Hn(t,Ie,s),s!==o.cache&&Oo(t,[Ie],n,!0))),ot(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function wn(e){e.flags|=4}function pu(e,t,n,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(em())e.flags|=8192;else throw _a=fr,ko}else e.flags&=-16777217}function Of(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gm(t))if(em())e.flags|=8192;else throw _a=fr,ko}function Nr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rd():536870912,e.lanes|=t,cs|=t)}function oi(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function W0(e,t,n){var s=t.pendingProps;switch(So(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),vn(Ie),ie(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Za(t)?wn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Eo())),Ve(t),null;case 26:var o=t.type,h=t.memoizedState;return e===null?(wn(t),h!==null?(Ve(t),Of(t,h)):(Ve(t),pu(t,o,null,s,n))):h?h!==e.memoizedState?(wn(t),Ve(t),Of(t,h)):(Ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&wn(t),Ve(t),pu(t,o,e,s,n)),null;case 27:if(xe(t),n=se.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&wn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Ve(t),null}e=P.current,Za(t)?rh(t):(e=Dm(o,s,n),t.stateNode=e,wn(t))}return Ve(t),null;case 5:if(xe(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&wn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Ve(t),null}if(h=P.current,Za(t))rh(t);else{var g=Qr(se.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?g.createElement("select",{is:s.is}):g.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?g.createElement(o,{is:s.is}):g.createElement(o)}}h[it]=t,h[pt]=s;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=h;e:switch(ut(h,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&wn(t)}}return Ve(t),pu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&wn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=se.current,Za(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,o=rt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[it]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||jm(e.nodeValue,n)),e||Ln(t,!0)}else e=Qr(e).createTextNode(s),e[it]=t,t.stateNode=e}return Ve(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=Za(t),n!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[it]=t}else pa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),e=!1}else n=Eo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Rt(t),t):(Rt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Ve(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Za(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[it]=t}else pa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),o=!1}else o=Eo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Rt(t),t):(Rt(t),null)}return Rt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==o&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Nr(t,t.updateQueue),Ve(t),null);case 4:return ie(),e===null&&zu(t.stateNode.containerInfo),Ve(t),null;case 10:return vn(t.type),Ve(t),null;case 19:if(V(Je),s=t.memoizedState,s===null)return Ve(t),null;if(o=(t.flags&128)!==0,h=s.rendering,h===null)if(o)oi(s,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=vr(e),h!==null){for(t.flags|=128,oi(s,!1),e=h.updateQueue,t.updateQueue=e,Nr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)th(n,e),n=n.sibling;return I(Je,Je.current&1|2),Oe&&pn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Et()>Dr&&(t.flags|=128,o=!0,oi(s,!1),t.lanes=4194304)}else{if(!o)if(e=vr(h),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Nr(t,e),oi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Oe)return Ve(t),null}else 2*Et()-s.renderingStartTime>Dr&&n!==536870912&&(t.flags|=128,o=!0,oi(s,!1),t.lanes=4194304);s.isBackwards?(h.sibling=t.child,t.child=h):(e=s.last,e!==null?e.sibling=h:t.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Et(),e.sibling=null,n=Je.current,I(Je,o?n&1|2:n&1),Oe&&pn(t,s.treeForkCount),e):(Ve(t),null);case 22:case 23:return Rt(t),qo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),n=t.updateQueue,n!==null&&Nr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&V(ya),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),vn(Ie),Ve(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function F0(e,t){switch(So(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vn(Ie),ie(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return xe(t),null;case 31:if(t.memoizedState!==null){if(Rt(t),t.alternate===null)throw Error(l(340));pa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Rt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));pa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(Je),null;case 4:return ie(),null;case 10:return vn(t.type),null;case 22:case 23:return Rt(t),qo(),e!==null&&V(ya),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return vn(Ie),null;case 25:return null;default:return null}}function Cf(e,t){switch(So(t),t.tag){case 3:vn(Ie),ie();break;case 26:case 27:case 5:xe(t);break;case 4:ie();break;case 31:t.memoizedState!==null&&Rt(t);break;case 13:Rt(t);break;case 19:V(Je);break;case 10:vn(t.type);break;case 22:case 23:Rt(t),qo(),e!==null&&V(ya);break;case 24:vn(Ie)}}function ui(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var o=s.next;n=o;do{if((n.tag&e)===e){s=void 0;var h=n.create,g=n.inst;s=h(),g.destroy=s}n=n.next}while(n!==o)}}catch(b){De(t,t.return,b)}}function Yn(e,t,n){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){var g=s.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,o=t;var S=n,B=b;try{B()}catch(H){De(o,S,H)}}}s=s.next}while(s!==h)}}catch(H){De(t,t.return,H)}}function Nf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{bh(t,n)}catch(s){De(e,e.return,s)}}}function Rf(e,t,n){n.props=Sa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){De(e,t,s)}}function ci(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(o){De(e,t,o)}}function rn(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(o){De(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){De(e,t,o)}else n.current=null}function kf(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(o){De(e,e.return,o)}}function gu(e,t,n){try{var s=e.stateNode;wy(s,e.type,n,t),s[pt]=t}catch(o){De(e,e.return,o)}}function Uf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fn(e.type)||e.tag===4}function vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Uf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hn));else if(s!==4&&(s===27&&Fn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(yu(e,t,n),e=e.sibling;e!==null;)yu(e,t,n),e=e.sibling}function Rr(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&Fn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Rr(e,t,n),e=e.sibling;e!==null;)Rr(e,t,n),e=e.sibling}function Mf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ut(t,s,n),t[it]=e,t[pt]=n}catch(h){De(e,e.return,h)}}var xn=!1,Fe=!1,bu=!1,Df=typeof WeakSet=="function"?WeakSet:Set,st=null;function ey(e,t){if(e=e.containerInfo,Hu=Wr,e=Yd(e),ho(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var g=0,b=-1,S=-1,B=0,H=0,G=e,q=null;t:for(;;){for(var L;G!==n||o!==0&&G.nodeType!==3||(b=g+o),G!==h||s!==0&&G.nodeType!==3||(S=g+s),G.nodeType===3&&(g+=G.nodeValue.length),(L=G.firstChild)!==null;)q=G,G=L;for(;;){if(G===e)break t;if(q===n&&++B===o&&(b=g),q===h&&++H===s&&(S=g),(L=G.nextSibling)!==null)break;G=q,q=G.parentNode}G=L}n=b===-1||S===-1?null:{start:b,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for($u={focusedElem:e,selectionRange:n},Wr=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,n=t,o=h.memoizedProps,h=h.memoizedState,s=n.stateNode;try{var ae=Sa(n.type,o);e=s.getSnapshotBeforeUpdate(ae,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(fe){De(n,n.return,fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Pu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function Bf(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:jn(e,n),s&4&&ui(5,n);break;case 1:if(jn(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(g){De(n,n.return,g)}else{var o=Sa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){De(n,n.return,g)}}s&64&&Nf(n),s&512&&ci(n,n.return);break;case 3:if(jn(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{bh(e,t)}catch(g){De(n,n.return,g)}}break;case 27:t===null&&s&4&&Mf(n);case 26:case 5:jn(e,n),t===null&&s&4&&kf(n),s&512&&ci(n,n.return);break;case 12:jn(e,n);break;case 31:jn(e,n),s&4&&Lf(e,n);break;case 13:jn(e,n),s&4&&Hf(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=uy.bind(null,n),Cy(e,n))));break;case 22:if(s=n.memoizedState!==null||xn,!s){t=t!==null&&t.memoizedState!==null||Fe,o=xn;var h=Fe;xn=s,(Fe=t)&&!h?En(e,n,(n.subtreeFlags&8772)!==0):jn(e,n),xn=o,Fe=h}break;case 30:break;default:jn(e,n)}}function zf(e){var t=e.alternate;t!==null&&(e.alternate=null,zf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Jl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,vt=!1;function Sn(e,t,n){for(n=n.child;n!==null;)qf(e,t,n),n=n.sibling}function qf(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Ms,n)}catch{}switch(n.tag){case 26:Fe||rn(n,t),Sn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Fe||rn(n,t);var s=Ge,o=vt;Fn(n.type)&&(Ge=n.stateNode,vt=!1),Sn(e,t,n),bi(n.stateNode),Ge=s,vt=o;break;case 5:Fe||rn(n,t);case 6:if(s=Ge,o=vt,Ge=null,Sn(e,t,n),Ge=s,vt=o,Ge!==null)if(vt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(n.stateNode)}catch(h){De(n,t,h)}else try{Ge.removeChild(n.stateNode)}catch(h){De(n,t,h)}break;case 18:Ge!==null&&(vt?(e=Ge,Nm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ys(e)):Nm(Ge,n.stateNode));break;case 4:s=Ge,o=vt,Ge=n.stateNode.containerInfo,vt=!0,Sn(e,t,n),Ge=s,vt=o;break;case 0:case 11:case 14:case 15:Yn(2,n,t),Fe||Yn(4,n,t),Sn(e,t,n);break;case 1:Fe||(rn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Rf(n,t,s)),Sn(e,t,n);break;case 21:Sn(e,t,n);break;case 22:Fe=(s=Fe)||n.memoizedState!==null,Sn(e,t,n),Fe=s;break;default:Sn(e,t,n)}}function Lf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ys(e)}catch(n){De(t,t.return,n)}}}function Hf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ys(e)}catch(n){De(t,t.return,n)}}function ty(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Df),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Df),t;default:throw Error(l(435,e.tag))}}function kr(e,t){var n=ty(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var o=cy.bind(null,e,s);s.then(o,o)}})}function yt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s],h=e,g=t,b=g;e:for(;b!==null;){switch(b.tag){case 27:if(Fn(b.type)){Ge=b.stateNode,vt=!1;break e}break;case 5:Ge=b.stateNode,vt=!1;break e;case 3:case 4:Ge=b.stateNode.containerInfo,vt=!0;break e}b=b.return}if(Ge===null)throw Error(l(160));qf(h,g,o),Ge=null,vt=!1,h=o.alternate,h!==null&&(h.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)$f(t,e),t=t.sibling}var Zt=null;function $f(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yt(t,e),bt(e),s&4&&(Yn(3,e,e.return),ui(3,e),Yn(5,e,e.return));break;case 1:yt(t,e),bt(e),s&512&&(Fe||n===null||rn(n,n.return)),s&64&&xn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var o=Zt;if(yt(t,e),bt(e),s&512&&(Fe||n===null||rn(n,n.return)),s&4){var h=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":h=o.getElementsByTagName("title")[0],(!h||h[zs]||h[it]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=o.createElement(s),o.head.insertBefore(h,o.querySelector("head > title"))),ut(h,s,n),h[it]=e,at(h),s=h;break e;case"link":var g=$m("link","href",o).get(s+(n.href||""));if(g){for(var b=0;b<g.length;b++)if(h=g[b],h.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&h.getAttribute("rel")===(n.rel==null?null:n.rel)&&h.getAttribute("title")===(n.title==null?null:n.title)&&h.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){g.splice(b,1);break t}}h=o.createElement(s),ut(h,s,n),o.head.appendChild(h);break;case"meta":if(g=$m("meta","content",o).get(s+(n.content||""))){for(b=0;b<g.length;b++)if(h=g[b],h.getAttribute("content")===(n.content==null?null:""+n.content)&&h.getAttribute("name")===(n.name==null?null:n.name)&&h.getAttribute("property")===(n.property==null?null:n.property)&&h.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&h.getAttribute("charset")===(n.charSet==null?null:n.charSet)){g.splice(b,1);break t}}h=o.createElement(s),ut(h,s,n),o.head.appendChild(h);break;default:throw Error(l(468,s))}h[it]=e,at(h),s=h}e.stateNode=s}else Vm(o,e.type,e.stateNode);else e.stateNode=Hm(o,s,e.memoizedProps);else h!==s?(h===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):h.count--,s===null?Vm(o,e.type,e.stateNode):Hm(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&gu(e,e.memoizedProps,n.memoizedProps)}break;case 27:yt(t,e),bt(e),s&512&&(Fe||n===null||rn(n,n.return)),n!==null&&s&4&&gu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(yt(t,e),bt(e),s&512&&(Fe||n===null||rn(n,n.return)),e.flags&32){o=e.stateNode;try{$a(o,"")}catch(ae){De(e,e.return,ae)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,gu(e,o,n!==null?n.memoizedProps:o)),s&1024&&(bu=!0);break;case 6:if(yt(t,e),bt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(ae){De(e,e.return,ae)}}break;case 3:if(Jr=null,o=Zt,Zt=Yr(t.containerInfo),yt(t,e),Zt=o,bt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ys(t.containerInfo)}catch(ae){De(e,e.return,ae)}bu&&(bu=!1,Vf(e));break;case 4:s=Zt,Zt=Yr(e.stateNode.containerInfo),yt(t,e),bt(e),Zt=s;break;case 12:yt(t,e),bt(e);break;case 31:yt(t,e),bt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,kr(e,s)));break;case 13:yt(t,e),bt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Mr=Et()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,kr(e,s)));break;case 22:o=e.memoizedState!==null;var S=n!==null&&n.memoizedState!==null,B=xn,H=Fe;if(xn=B||o,Fe=H||S,yt(t,e),Fe=H,xn=B,bt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||S||xn||Fe||ja(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){S=n=t;try{if(h=S.stateNode,o)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=S.stateNode;var G=S.memoizedProps.style,q=G!=null&&G.hasOwnProperty("display")?G.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ae){De(S,S.return,ae)}}}else if(t.tag===6){if(n===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(ae){De(S,S.return,ae)}}}else if(t.tag===18){if(n===null){S=t;try{var L=S.stateNode;o?Rm(L,!0):Rm(S.stateNode,!1)}catch(ae){De(S,S.return,ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,kr(e,n))));break;case 19:yt(t,e),bt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,kr(e,s)));break;case 30:break;case 21:break;default:yt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(Uf(s)){n=s;break}s=s.return}if(n==null)throw Error(l(160));switch(n.tag){case 27:var o=n.stateNode,h=vu(e);Rr(e,h,o);break;case 5:var g=n.stateNode;n.flags&32&&($a(g,""),n.flags&=-33);var b=vu(e);Rr(e,b,g);break;case 3:case 4:var S=n.stateNode.containerInfo,B=vu(e);yu(e,B,S);break;default:throw Error(l(161))}}catch(H){De(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Vf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function jn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bf(e,t.alternate,t),t=t.sibling}function ja(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Yn(4,t,t.return),ja(t);break;case 1:rn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Rf(t,t.return,n),ja(t);break;case 27:bi(t.stateNode);case 26:case 5:rn(t,t.return),ja(t);break;case 22:t.memoizedState===null&&ja(t);break;case 30:ja(t);break;default:ja(t)}e=e.sibling}}function En(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,h=t,g=h.flags;switch(h.tag){case 0:case 11:case 15:En(o,h,n),ui(4,h);break;case 1:if(En(o,h,n),s=h,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(B){De(s,s.return,B)}if(s=h,o=s.updateQueue,o!==null){var b=s.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)yh(S[o],b)}catch(B){De(s,s.return,B)}}n&&g&64&&Nf(h),ci(h,h.return);break;case 27:Mf(h);case 26:case 5:En(o,h,n),n&&s===null&&g&4&&kf(h),ci(h,h.return);break;case 12:En(o,h,n);break;case 31:En(o,h,n),n&&g&4&&Lf(o,h);break;case 13:En(o,h,n),n&&g&4&&Hf(o,h);break;case 22:h.memoizedState===null&&En(o,h,n),ci(h,h.return);break;case 30:break;default:En(o,h,n)}t=t.sibling}}function _u(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Is(n))}function wu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Is(e))}function Wt(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gf(e,t,n,s),t=t.sibling}function Gf(e,t,n,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Wt(e,t,n,s),o&2048&&ui(9,t);break;case 1:Wt(e,t,n,s);break;case 3:Wt(e,t,n,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Is(e)));break;case 12:if(o&2048){Wt(e,t,n,s),e=t.stateNode;try{var h=t.memoizedProps,g=h.id,b=h.onPostCommit;typeof b=="function"&&b(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){De(t,t.return,S)}}else Wt(e,t,n,s);break;case 31:Wt(e,t,n,s);break;case 13:Wt(e,t,n,s);break;case 23:break;case 22:h=t.stateNode,g=t.alternate,t.memoizedState!==null?h._visibility&2?Wt(e,t,n,s):di(e,t):h._visibility&2?Wt(e,t,n,s):(h._visibility|=2,ls(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&_u(g,t);break;case 24:Wt(e,t,n,s),o&2048&&wu(t.alternate,t);break;default:Wt(e,t,n,s)}}function ls(e,t,n,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,g=t,b=n,S=s,B=g.flags;switch(g.tag){case 0:case 11:case 15:ls(h,g,b,S,o),ui(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?ls(h,g,b,S,o):di(h,g):(H._visibility|=2,ls(h,g,b,S,o)),o&&B&2048&&_u(g.alternate,g);break;case 24:ls(h,g,b,S,o),o&&B&2048&&wu(g.alternate,g);break;default:ls(h,g,b,S,o)}t=t.sibling}}function di(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,o=s.flags;switch(s.tag){case 22:di(n,s),o&2048&&_u(s.alternate,s);break;case 24:di(n,s),o&2048&&wu(s.alternate,s);break;default:di(n,s)}t=t.sibling}}var hi=8192;function os(e,t,n){if(e.subtreeFlags&hi)for(e=e.child;e!==null;)Pf(e,t,n),e=e.sibling}function Pf(e,t,n){switch(e.tag){case 26:os(e,t,n),e.flags&hi&&e.memoizedState!==null&&$y(n,Zt,e.memoizedState,e.memoizedProps);break;case 5:os(e,t,n);break;case 3:case 4:var s=Zt;Zt=Yr(e.stateNode.containerInfo),os(e,t,n),Zt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=hi,hi=16777216,os(e,t,n),hi=s):os(e,t,n));break;default:os(e,t,n)}}function Qf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function fi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];st=s,Kf(s,e)}Qf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yf(e),e=e.sibling}function Yf(e){switch(e.tag){case 0:case 11:case 15:fi(e),e.flags&2048&&Yn(9,e,e.return);break;case 3:fi(e);break;case 12:fi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ur(e)):fi(e);break;default:fi(e)}}function Ur(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];st=s,Kf(s,e)}Qf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Yn(8,t,t.return),Ur(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ur(t));break;default:Ur(t)}e=e.sibling}}function Kf(e,t){for(;st!==null;){var n=st;switch(n.tag){case 0:case 11:case 15:Yn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Is(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,st=s;else e:for(n=e;st!==null;){s=st;var o=s.sibling,h=s.return;if(zf(s),s===n){st=null;break e}if(o!==null){o.return=h,st=o;break e}st=h}}}var ny={getCacheForType:function(e){var t=lt(Ie),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return lt(Ie).controller.signal}},ay=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Le=null,Se=null,Ee=0,Me=0,kt=null,Kn=!1,us=!1,xu=!1,Tn=0,Ke=0,Jn=0,Ea=0,Su=0,Ut=0,cs=0,mi=null,_t=null,ju=!1,Mr=0,Jf=0,Dr=1/0,Br=null,Xn=null,nt=0,In=null,ds=null,An=0,Eu=0,Tu=null,Xf=null,pi=0,Au=null;function Mt(){return(Ue&2)!==0&&Ee!==0?Ee&-Ee:z.T!==null?Uu():cd()}function If(){if(Ut===0)if((Ee&536870912)===0||Oe){var e=Pi;Pi<<=1,(Pi&3932160)===0&&(Pi=262144),Ut=e}else Ut=536870912;return e=Nt.current,e!==null&&(e.flags|=32),Ut}function wt(e,t,n){(e===Le&&(Me===2||Me===9)||e.cancelPendingCommit!==null)&&(hs(e,0),Zn(e,Ee,Ut,!1)),Bs(e,n),((Ue&2)===0||e!==Le)&&(e===Le&&((Ue&2)===0&&(Ea|=n),Ke===4&&Zn(e,Ee,Ut,!1)),ln(e))}function Zf(e,t,n){if((Ue&6)!==0)throw Error(l(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ds(e,t),o=s?ry(e,t):Cu(e,t,!0),h=s;do{if(o===0){us&&!s&&Zn(e,t,0,!1);break}else{if(n=e.current.alternate,h&&!sy(n)){o=Cu(e,t,!1),h=!1;continue}if(o===2){if(h=t,e.errorRecoveryDisabledLanes&h)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var b=e;o=mi;var S=b.current.memoizedState.isDehydrated;if(S&&(hs(b,g).flags|=256),g=Cu(b,g,!1),g!==2){if(xu&&!S){b.errorRecoveryDisabledLanes|=h,Ea|=h,o=4;break e}h=_t,_t=o,h!==null&&(_t===null?_t=h:_t.push.apply(_t,h))}o=g}if(h=!1,o!==2)continue}}if(o===1){hs(e,0),Zn(e,t,0,!0);break}e:{switch(s=e,h=o,h){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Zn(s,t,Ut,!Kn);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Mr+300-Et(),10<o)){if(Zn(s,t,Ut,!Kn),Yi(s,0,!0)!==0)break e;An=t,s.timeoutHandle=Om(Wf.bind(null,s,n,_t,Br,ju,t,Ut,Ea,cs,Kn,h,"Throttled",-0,0),o);break e}Wf(s,n,_t,Br,ju,t,Ut,Ea,cs,Kn,h,null,-0,0)}}break}while(!0);ln(e)}function Wf(e,t,n,s,o,h,g,b,S,B,H,G,q,L){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hn},Pf(t,h,G);var ae=(h&62914560)===h?Mr-Et():(h&4194048)===h?Jf-Et():0;if(ae=Vy(G,ae),ae!==null){An=h,e.cancelPendingCommit=ae(rm.bind(null,e,t,h,n,s,o,g,b,S,H,G,null,q,L)),Zn(e,h,g,!B);return}}rm(e,t,h,n,s,o,g,b,S)}function sy(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var o=n[s],h=o.getSnapshot;o=o.value;try{if(!Ot(h(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zn(e,t,n,s){t&=~Su,t&=~Ea,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var h=31-At(o),g=1<<h;s[h]=-1,o&=~g}n!==0&&ld(e,n,t)}function zr(){return(Ue&6)===0?(gi(0),!1):!0}function Ou(){if(Se!==null){if(Me===0)var e=Se.return;else e=Se,gn=ga=null,Po(e),ns=null,Ws=0,e=Se;for(;e!==null;)Cf(e.alternate,e),e=e.return;Se=null}}function hs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,jy(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),An=0,Ou(),Le=e,Se=n=mn(e.current,null),Ee=t,Me=0,kt=null,Kn=!1,us=Ds(e,t),xu=!1,cs=Ut=Su=Ea=Jn=Ke=0,_t=mi=null,ju=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-At(s),h=1<<o;t|=e[o],s&=~h}return Tn=t,sr(),n}function Ff(e,t){ve=null,z.H=ri,t===ts||t===hr?(t=mh(),Me=3):t===ko?(t=mh(),Me=4):Me=t===ru?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,Se===null&&(Ke=1,Tr(e,Ht(t,e.current)))}function em(){var e=Nt.current;return e===null?!0:(Ee&4194048)===Ee?Pt===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===Pt:!1}function tm(){var e=z.H;return z.H=ri,e===null?ri:e}function nm(){var e=z.A;return z.A=ny,e}function qr(){Ke=4,Kn||(Ee&4194048)!==Ee&&Nt.current!==null||(us=!0),(Jn&134217727)===0&&(Ea&134217727)===0||Le===null||Zn(Le,Ee,Ut,!1)}function Cu(e,t,n){var s=Ue;Ue|=2;var o=tm(),h=nm();(Le!==e||Ee!==t)&&(Br=null,hs(e,t)),t=!1;var g=Ke;e:do try{if(Me!==0&&Se!==null){var b=Se,S=kt;switch(Me){case 8:Ou(),g=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(t=!0);var B=Me;if(Me=0,kt=null,fs(e,b,S,B),n&&us){g=0;break e}break;default:B=Me,Me=0,kt=null,fs(e,b,S,B)}}iy(),g=Ke;break}catch(H){Ff(e,H)}while(!0);return t&&e.shellSuspendCounter++,gn=ga=null,Ue=s,z.H=o,z.A=h,Se===null&&(Le=null,Ee=0,sr()),g}function iy(){for(;Se!==null;)am(Se)}function ry(e,t){var n=Ue;Ue|=2;var s=tm(),o=nm();Le!==e||Ee!==t?(Br=null,Dr=Et()+500,hs(e,t)):us=Ds(e,t);e:do try{if(Me!==0&&Se!==null){t=Se;var h=kt;t:switch(Me){case 1:Me=0,kt=null,fs(e,t,h,1);break;case 2:case 9:if(hh(h)){Me=0,kt=null,sm(t);break}t=function(){Me!==2&&Me!==9||Le!==e||(Me=7),ln(e)},h.then(t,t);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:hh(h)?(Me=0,kt=null,sm(t)):(Me=0,kt=null,fs(e,t,h,7));break;case 5:var g=null;switch(Se.tag){case 26:g=Se.memoizedState;case 5:case 27:var b=Se;if(g?Gm(g):b.stateNode.complete){Me=0,kt=null;var S=b.sibling;if(S!==null)Se=S;else{var B=b.return;B!==null?(Se=B,Lr(B)):Se=null}break t}}Me=0,kt=null,fs(e,t,h,5);break;case 6:Me=0,kt=null,fs(e,t,h,6);break;case 8:Ou(),Ke=6;break e;default:throw Error(l(462))}}ly();break}catch(H){Ff(e,H)}while(!0);return gn=ga=null,z.H=s,z.A=o,Ue=n,Se!==null?0:(Le=null,Ee=0,sr(),Ke)}function ly(){for(;Se!==null&&!Nv();)am(Se)}function am(e){var t=Af(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,t===null?Lr(e):Se=t}function sm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=wf(n,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=wf(n,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:Po(t);default:Cf(n,t),t=Se=th(t,Tn),t=Af(n,t,Tn)}e.memoizedProps=e.pendingProps,t===null?Lr(e):Se=t}function fs(e,t,n,s){gn=ga=null,Po(t),ns=null,Ws=0;var o=t.return;try{if(X0(e,o,t,n,Ee)){Ke=1,Tr(e,Ht(n,e.current)),Se=null;return}}catch(h){if(o!==null)throw Se=o,h;Ke=1,Tr(e,Ht(n,e.current)),Se=null;return}t.flags&32768?(Oe||s===1?e=!0:us||(Ee&536870912)!==0?e=!1:(Kn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Nt.current,s!==null&&s.tag===13&&(s.flags|=16384))),im(t,e)):Lr(t)}function Lr(e){var t=e;do{if((t.flags&32768)!==0){im(t,Kn);return}e=t.return;var n=W0(t.alternate,t,Tn);if(n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Ke===0&&(Ke=5)}function im(e,t){do{var n=F0(e.alternate,e);if(n!==null){n.flags&=32767,Se=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=n}while(e!==null);Ke=6,Se=null}function rm(e,t,n,s,o,h,g,b,S){e.cancelPendingCommit=null;do Hr();while(nt!==0);if((Ue&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(h=t.lanes|t.childLanes,h|=vo,Hv(e,n,h,g,b,S),e===Le&&(Se=Le=null,Ee=0),ds=t,In=e,An=n,Eu=h,Tu=o,Xf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dy(Vi,function(){return dm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=z.T,z.T=null,o=J.p,J.p=2,g=Ue,Ue|=4;try{ey(e,t,n)}finally{Ue=g,J.p=o,z.T=s}}nt=1,lm(),om(),um()}}function lm(){if(nt===1){nt=0;var e=In,t=ds,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=z.T,z.T=null;var s=J.p;J.p=2;var o=Ue;Ue|=4;try{$f(t,e);var h=$u,g=Yd(e.containerInfo),b=h.focusedElem,S=h.selectionRange;if(g!==b&&b&&b.ownerDocument&&Qd(b.ownerDocument.documentElement,b)){if(S!==null&&ho(b)){var B=S.start,H=S.end;if(H===void 0&&(H=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(H,b.value.length);else{var G=b.ownerDocument||document,q=G&&G.defaultView||window;if(q.getSelection){var L=q.getSelection(),ae=b.textContent.length,fe=Math.min(S.start,ae),qe=S.end===void 0?fe:Math.min(S.end,ae);!L.extend&&fe>qe&&(g=qe,qe=fe,fe=g);var R=Pd(b,fe),A=Pd(b,qe);if(R&&A&&(L.rangeCount!==1||L.anchorNode!==R.node||L.anchorOffset!==R.offset||L.focusNode!==A.node||L.focusOffset!==A.offset)){var D=G.createRange();D.setStart(R.node,R.offset),L.removeAllRanges(),fe>qe?(L.addRange(D),L.extend(A.node,A.offset)):(D.setEnd(A.node,A.offset),L.addRange(D))}}}}for(G=[],L=b;L=L.parentNode;)L.nodeType===1&&G.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<G.length;b++){var $=G[b];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Wr=!!Hu,$u=Hu=null}finally{Ue=o,J.p=s,z.T=n}}e.current=t,nt=2}}function om(){if(nt===2){nt=0;var e=In,t=ds,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=z.T,z.T=null;var s=J.p;J.p=2;var o=Ue;Ue|=4;try{Bf(e,t.alternate,t)}finally{Ue=o,J.p=s,z.T=n}}nt=3}}function um(){if(nt===4||nt===3){nt=0,Rv();var e=In,t=ds,n=An,s=Xf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?nt=5:(nt=0,ds=In=null,cm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Xn=null),Yl(n),t=t.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Ms,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=z.T,o=J.p,J.p=2,z.T=null;try{for(var h=e.onRecoverableError,g=0;g<s.length;g++){var b=s[g];h(b.value,{componentStack:b.stack})}}finally{z.T=t,J.p=o}}(An&3)!==0&&Hr(),ln(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===Au?pi++:(pi=0,Au=e):pi=0,gi(0)}}function cm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Is(t)))}function Hr(){return lm(),om(),um(),dm()}function dm(){if(nt!==5)return!1;var e=In,t=Eu;Eu=0;var n=Yl(An),s=z.T,o=J.p;try{J.p=32>n?32:n,z.T=null,n=Tu,Tu=null;var h=In,g=An;if(nt=0,ds=In=null,An=0,(Ue&6)!==0)throw Error(l(331));var b=Ue;if(Ue|=4,Yf(h.current),Gf(h,h.current,g,n),Ue=b,gi(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Ms,h)}catch{}return!0}finally{J.p=o,z.T=s,cm(e,t)}}function hm(e,t,n){t=Ht(n,t),t=iu(e.stateNode,t,2),e=Gn(e,t,2),e!==null&&(Bs(e,2),ln(e))}function De(e,t,n){if(e.tag===3)hm(e,e,n);else for(;t!==null;){if(t.tag===3){hm(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Xn===null||!Xn.has(s))){e=Ht(n,e),n=ff(2),s=Gn(t,n,2),s!==null&&(mf(n,s,t,e),Bs(s,2),ln(s));break}}t=t.return}}function Nu(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new ay;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(xu=!0,o.add(n),e=oy.bind(null,e,t,n),t.then(e,e))}function oy(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Le===e&&(Ee&n)===n&&(Ke===4||Ke===3&&(Ee&62914560)===Ee&&300>Et()-Mr?(Ue&2)===0&&hs(e,0):Su|=n,cs===Ee&&(cs=0)),ln(e)}function fm(e,t){t===0&&(t=rd()),e=fa(e,t),e!==null&&(Bs(e,t),ln(e))}function uy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fm(e,n)}function cy(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),fm(e,n)}function dy(e,t){return Vl(e,t)}var $r=null,ms=null,Ru=!1,Vr=!1,ku=!1,Wn=0;function ln(e){e!==ms&&e.next===null&&(ms===null?$r=ms=e:ms=ms.next=e),Vr=!0,Ru||(Ru=!0,fy())}function gi(e,t){if(!ku&&Vr){ku=!0;do for(var n=!1,s=$r;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var h=0;else{var g=s.suspendedLanes,b=s.pingedLanes;h=(1<<31-At(42|e)+1)-1,h&=o&~(g&~b),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(n=!0,vm(s,h))}else h=Ee,h=Yi(s,s===Le?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||Ds(s,h)||(n=!0,vm(s,h));s=s.next}while(n);ku=!1}}function hy(){mm()}function mm(){Vr=Ru=!1;var e=0;Wn!==0&&Sy()&&(e=Wn);for(var t=Et(),n=null,s=$r;s!==null;){var o=s.next,h=pm(s,t);h===0?(s.next=null,n===null?$r=o:n.next=o,o===null&&(ms=n)):(n=s,(e!==0||(h&3)!==0)&&(Vr=!0)),s=o}nt!==0&&nt!==5||gi(e),Wn!==0&&(Wn=0)}function pm(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var g=31-At(h),b=1<<g,S=o[g];S===-1?((b&n)===0||(b&s)!==0)&&(o[g]=Lv(b,t)):S<=t&&(e.expiredLanes|=b),h&=~b}if(t=Le,n=Ee,n=Yi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Me===2||Me===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Gl(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ds(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&Gl(s),Yl(n)){case 2:case 8:n=sd;break;case 32:n=Vi;break;case 268435456:n=id;break;default:n=Vi}return s=gm.bind(null,e),n=Vl(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&Gl(s),e.callbackPriority=2,e.callbackNode=null,2}function gm(e,t){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Hr()&&e.callbackNode!==n)return null;var s=Ee;return s=Yi(e,e===Le?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Zf(e,s,t),pm(e,Et()),e.callbackNode!=null&&e.callbackNode===n?gm.bind(null,e):null)}function vm(e,t){if(Hr())return null;Zf(e,t,!0)}function fy(){Ey(function(){(Ue&6)!==0?Vl(ad,hy):mm()})}function Uu(){if(Wn===0){var e=Fa;e===0&&(e=Gi,Gi<<=1,(Gi&261888)===0&&(Gi=256)),Wn=e}return Wn}function ym(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ii(""+e)}function bm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function my(e,t,n,s,o){if(t==="submit"&&n&&n.stateNode===o){var h=ym((o[pt]||null).action),g=s.submitter;g&&(t=(t=g[pt]||null)?ym(t.formAction):g.getAttribute("formAction"),t!==null&&(h=t,g=null));var b=new er("action","action",null,s,o);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Wn!==0){var S=g?bm(o,g):new FormData(o);Fo(n,{pending:!0,data:S,method:o.method,action:h},null,S)}}else typeof h=="function"&&(b.preventDefault(),S=g?bm(o,g):new FormData(o),Fo(n,{pending:!0,data:S,method:o.method,action:h},h,S))},currentTarget:o}]})}}for(var Mu=0;Mu<go.length;Mu++){var Du=go[Mu],py=Du.toLowerCase(),gy=Du[0].toUpperCase()+Du.slice(1);It(py,"on"+gy)}It(Xd,"onAnimationEnd"),It(Id,"onAnimationIteration"),It(Zd,"onAnimationStart"),It("dblclick","onDoubleClick"),It("focusin","onFocus"),It("focusout","onBlur"),It(k0,"onTransitionRun"),It(U0,"onTransitionStart"),It(M0,"onTransitionCancel"),It(Wd,"onTransitionEnd"),La("onMouseEnter",["mouseout","mouseover"]),La("onMouseLeave",["mouseout","mouseover"]),La("onPointerEnter",["pointerout","pointerover"]),La("onPointerLeave",["pointerout","pointerover"]),ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vi));function _m(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var h=void 0;if(t)for(var g=s.length-1;0<=g;g--){var b=s[g],S=b.instance,B=b.currentTarget;if(b=b.listener,S!==h&&o.isPropagationStopped())break e;h=b,o.currentTarget=B;try{h(o)}catch(H){ar(H)}o.currentTarget=null,h=S}else for(g=0;g<s.length;g++){if(b=s[g],S=b.instance,B=b.currentTarget,b=b.listener,S!==h&&o.isPropagationStopped())break e;h=b,o.currentTarget=B;try{h(o)}catch(H){ar(H)}o.currentTarget=null,h=S}}}}function je(e,t){var n=t[Kl];n===void 0&&(n=t[Kl]=new Set);var s=e+"__bubble";n.has(s)||(wm(t,e,2,!1),n.add(s))}function Bu(e,t,n){var s=0;t&&(s|=4),wm(n,e,s,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[Gr]){e[Gr]=!0,fd.forEach(function(n){n!=="selectionchange"&&(vy.has(n)||Bu(n,!1,e),Bu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gr]||(t[Gr]=!0,Bu("selectionchange",!1,t))}}function wm(e,t,n,s){switch(Im(t)){case 2:var o=Qy;break;case 8:o=Yy;break;default:o=Wu}n=o.bind(null,t,n,e),o=void 0,!no||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function qu(e,t,n,s,o){var h=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var g=s.tag;if(g===3||g===4){var b=s.stateNode.containerInfo;if(b===o)break;if(g===4)for(g=s.return;g!==null;){var S=g.tag;if((S===3||S===4)&&g.stateNode.containerInfo===o)return;g=g.return}for(;b!==null;){if(g=Ba(b),g===null)return;if(S=g.tag,S===5||S===6||S===26||S===27){s=h=g;continue e}b=b.parentNode}}s=s.return}Ed(function(){var B=h,H=eo(n),G=[];e:{var q=Fd.get(e);if(q!==void 0){var L=er,ae=e;switch(e){case"keypress":if(Wi(n)===0)break e;case"keydown":case"keyup":L=c0;break;case"focusin":ae="focus",L=ro;break;case"focusout":ae="blur",L=ro;break;case"beforeblur":case"afterblur":L=ro;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Wv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=f0;break;case Xd:case Id:case Zd:L=t0;break;case Wd:L=p0;break;case"scroll":case"scrollend":L=Iv;break;case"wheel":L=v0;break;case"copy":case"cut":case"paste":L=a0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Nd;break;case"toggle":case"beforetoggle":L=b0}var fe=(t&4)!==0,qe=!fe&&(e==="scroll"||e==="scrollend"),R=fe?q!==null?q+"Capture":null:q;fe=[];for(var A=B,D;A!==null;){var $=A;if(D=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||D===null||R===null||($=Ls(A,R),$!=null&&fe.push(yi(A,$,D))),qe)break;A=A.return}0<fe.length&&(q=new L(q,ae,null,n,H),G.push({event:q,listeners:fe}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",q&&n!==Fl&&(ae=n.relatedTarget||n.fromElement)&&(Ba(ae)||ae[Da]))break e;if((L||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,L?(ae=n.relatedTarget||n.toElement,L=B,ae=ae?Ba(ae):null,ae!==null&&(qe=d(ae),fe=ae.tag,ae!==qe||fe!==5&&fe!==27&&fe!==6)&&(ae=null)):(L=null,ae=B),L!==ae)){if(fe=Od,$="onMouseLeave",R="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(fe=Nd,$="onPointerLeave",R="onPointerEnter",A="pointer"),qe=L==null?q:qs(L),D=ae==null?q:qs(ae),q=new fe($,A+"leave",L,n,H),q.target=qe,q.relatedTarget=D,$=null,Ba(H)===B&&(fe=new fe(R,A+"enter",ae,n,H),fe.target=D,fe.relatedTarget=qe,$=fe),qe=$,L&&ae)t:{for(fe=yy,R=L,A=ae,D=0,$=R;$;$=fe($))D++;$=0;for(var he=A;he;he=fe(he))$++;for(;0<D-$;)R=fe(R),D--;for(;0<$-D;)A=fe(A),$--;for(;D--;){if(R===A||A!==null&&R===A.alternate){fe=R;break t}R=fe(R),A=fe(A)}fe=null}else fe=null;L!==null&&xm(G,q,L,fe,!1),ae!==null&&qe!==null&&xm(G,qe,ae,fe,!0)}}e:{if(q=B?qs(B):window,L=q.nodeName&&q.nodeName.toLowerCase(),L==="select"||L==="input"&&q.type==="file")var Re=qd;else if(Bd(q))if(Ld)Re=C0;else{Re=A0;var re=T0}else L=q.nodeName,!L||L.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Wl(B.elementType)&&(Re=qd):Re=O0;if(Re&&(Re=Re(e,B))){zd(G,Re,n,H);break e}re&&re(e,q,B),e==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Zl(q,"number",q.value)}switch(re=B?qs(B):window,e){case"focusin":(Bd(re)||re.contentEditable==="true")&&(Qa=re,fo=B,Ks=null);break;case"focusout":Ks=fo=Qa=null;break;case"mousedown":mo=!0;break;case"contextmenu":case"mouseup":case"dragend":mo=!1,Kd(G,n,H);break;case"selectionchange":if(R0)break;case"keydown":case"keyup":Kd(G,n,H)}var be;if(oo)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Pa?Md(e,n)&&(Te="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Te="onCompositionStart");Te&&(Rd&&n.locale!=="ko"&&(Pa||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Pa&&(be=Td()):(Bn=H,ao="value"in Bn?Bn.value:Bn.textContent,Pa=!0)),re=Pr(B,Te),0<re.length&&(Te=new Cd(Te,e,null,n,H),G.push({event:Te,listeners:re}),be?Te.data=be:(be=Dd(n),be!==null&&(Te.data=be)))),(be=w0?x0(e,n):S0(e,n))&&(Te=Pr(B,"onBeforeInput"),0<Te.length&&(re=new Cd("onBeforeInput","beforeinput",null,n,H),G.push({event:re,listeners:Te}),re.data=be)),my(G,e,B,n,H)}_m(G,t)})}function yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Pr(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,h=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||h===null||(o=Ls(e,n),o!=null&&s.unshift(yi(e,o,h)),o=Ls(e,t),o!=null&&s.push(yi(e,o,h))),e.tag===3)return s;e=e.return}return[]}function yy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xm(e,t,n,s,o){for(var h=t._reactName,g=[];n!==null&&n!==s;){var b=n,S=b.alternate,B=b.stateNode;if(b=b.tag,S!==null&&S===s)break;b!==5&&b!==26&&b!==27||B===null||(S=B,o?(B=Ls(n,h),B!=null&&g.unshift(yi(n,B,S))):o||(B=Ls(n,h),B!=null&&g.push(yi(n,B,S)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var by=/\r\n?/g,_y=/\u0000|\uFFFD/g;function Sm(e){return(typeof e=="string"?e:""+e).replace(by,`
`).replace(_y,"")}function jm(e,t){return t=Sm(t),Sm(e)===t}function ze(e,t,n,s,o,h){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||$a(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&$a(e,""+s);break;case"className":Ji(e,"class",s);break;case"tabIndex":Ji(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ji(e,n,s);break;case"style":Sd(e,s,h);break;case"data":if(t!=="object"){Ji(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Ii(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(n==="formAction"?(t!=="input"&&ze(e,t,"name",o.name,o,null),ze(e,t,"formEncType",o.formEncType,o,null),ze(e,t,"formMethod",o.formMethod,o,null),ze(e,t,"formTarget",o.formTarget,o,null)):(ze(e,t,"encType",o.encType,o,null),ze(e,t,"method",o.method,o,null),ze(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Ii(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=hn);break;case"onScroll":s!=null&&je("scroll",e);break;case"onScrollEnd":s!=null&&je("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=Ii(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":je("beforetoggle",e),je("toggle",e),Ki(e,"popover",s);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ki(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Jv.get(n)||n,Ki(e,n,s))}}function Lu(e,t,n,s,o,h){switch(n){case"style":Sd(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(n=s.__html,n!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=n}}break;case"children":typeof s=="string"?$a(e,s):(typeof s=="number"||typeof s=="bigint")&&$a(e,""+s);break;case"onScroll":s!=null&&je("scroll",e);break;case"onScrollEnd":s!=null&&je("scrollend",e);break;case"onClick":s!=null&&(e.onclick=hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!md.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),h=e[pt]||null,h=h!=null?h[n]:null,typeof h=="function"&&e.removeEventListener(t,h,o),typeof s=="function")){typeof h!="function"&&h!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,o);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Ki(e,n,s)}}}function ut(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",e),je("load",e);var s=!1,o=!1,h;for(h in n)if(n.hasOwnProperty(h)){var g=n[h];if(g!=null)switch(h){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,h,g,n,null)}}o&&ze(e,t,"srcSet",n.srcSet,n,null),s&&ze(e,t,"src",n.src,n,null);return;case"input":je("invalid",e);var b=h=g=o=null,S=null,B=null;for(s in n)if(n.hasOwnProperty(s)){var H=n[s];if(H!=null)switch(s){case"name":o=H;break;case"type":g=H;break;case"checked":S=H;break;case"defaultChecked":B=H;break;case"value":h=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,t));break;default:ze(e,t,s,H,n,null)}}bd(e,h,b,S,B,g,o,!1);return;case"select":je("invalid",e),s=g=h=null;for(o in n)if(n.hasOwnProperty(o)&&(b=n[o],b!=null))switch(o){case"value":h=b;break;case"defaultValue":g=b;break;case"multiple":s=b;default:ze(e,t,o,b,n,null)}t=h,n=g,e.multiple=!!s,t!=null?Ha(e,!!s,t,!1):n!=null&&Ha(e,!!s,n,!0);return;case"textarea":je("invalid",e),h=o=s=null;for(g in n)if(n.hasOwnProperty(g)&&(b=n[g],b!=null))switch(g){case"value":s=b;break;case"defaultValue":o=b;break;case"children":h=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:ze(e,t,g,b,n,null)}wd(e,s,o,h);return;case"option":for(S in n)if(n.hasOwnProperty(S)&&(s=n[S],s!=null))switch(S){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ze(e,t,S,s,n,null)}return;case"dialog":je("beforetoggle",e),je("toggle",e),je("cancel",e),je("close",e);break;case"iframe":case"object":je("load",e);break;case"video":case"audio":for(s=0;s<vi.length;s++)je(vi[s],e);break;case"image":je("error",e),je("load",e);break;case"details":je("toggle",e);break;case"embed":case"source":case"link":je("error",e),je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in n)if(n.hasOwnProperty(B)&&(s=n[B],s!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,B,s,n,null)}return;default:if(Wl(t)){for(H in n)n.hasOwnProperty(H)&&(s=n[H],s!==void 0&&Lu(e,t,H,s,n,void 0));return}}for(b in n)n.hasOwnProperty(b)&&(s=n[b],s!=null&&ze(e,t,b,s,n,null))}function wy(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,h=null,g=null,b=null,S=null,B=null,H=null;for(L in n){var G=n[L];if(n.hasOwnProperty(L)&&G!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":S=G;default:s.hasOwnProperty(L)||ze(e,t,L,null,s,G)}}for(var q in s){var L=s[q];if(G=n[q],s.hasOwnProperty(q)&&(L!=null||G!=null))switch(q){case"type":h=L;break;case"name":o=L;break;case"checked":B=L;break;case"defaultChecked":H=L;break;case"value":g=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,t));break;default:L!==G&&ze(e,t,q,L,s,G)}}Il(e,g,b,S,B,H,h,o);return;case"select":L=g=b=q=null;for(h in n)if(S=n[h],n.hasOwnProperty(h)&&S!=null)switch(h){case"value":break;case"multiple":L=S;default:s.hasOwnProperty(h)||ze(e,t,h,null,s,S)}for(o in s)if(h=s[o],S=n[o],s.hasOwnProperty(o)&&(h!=null||S!=null))switch(o){case"value":q=h;break;case"defaultValue":b=h;break;case"multiple":g=h;default:h!==S&&ze(e,t,o,h,s,S)}t=b,n=g,s=L,q!=null?Ha(e,!!n,q,!1):!!s!=!!n&&(t!=null?Ha(e,!!n,t,!0):Ha(e,!!n,n?[]:"",!1));return;case"textarea":L=q=null;for(b in n)if(o=n[b],n.hasOwnProperty(b)&&o!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ze(e,t,b,null,s,o)}for(g in s)if(o=s[g],h=n[g],s.hasOwnProperty(g)&&(o!=null||h!=null))switch(g){case"value":q=o;break;case"defaultValue":L=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==h&&ze(e,t,g,o,s,h)}_d(e,q,L);return;case"option":for(var ae in n)if(q=n[ae],n.hasOwnProperty(ae)&&q!=null&&!s.hasOwnProperty(ae))switch(ae){case"selected":e.selected=!1;break;default:ze(e,t,ae,null,s,q)}for(S in s)if(q=s[S],L=n[S],s.hasOwnProperty(S)&&q!==L&&(q!=null||L!=null))switch(S){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ze(e,t,S,q,s,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in n)q=n[fe],n.hasOwnProperty(fe)&&q!=null&&!s.hasOwnProperty(fe)&&ze(e,t,fe,null,s,q);for(B in s)if(q=s[B],L=n[B],s.hasOwnProperty(B)&&q!==L&&(q!=null||L!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,t));break;default:ze(e,t,B,q,s,L)}return;default:if(Wl(t)){for(var qe in n)q=n[qe],n.hasOwnProperty(qe)&&q!==void 0&&!s.hasOwnProperty(qe)&&Lu(e,t,qe,void 0,s,q);for(H in s)q=s[H],L=n[H],!s.hasOwnProperty(H)||q===L||q===void 0&&L===void 0||Lu(e,t,H,q,s,L);return}}for(var R in n)q=n[R],n.hasOwnProperty(R)&&q!=null&&!s.hasOwnProperty(R)&&ze(e,t,R,null,s,q);for(G in s)q=s[G],L=n[G],!s.hasOwnProperty(G)||q===L||q==null&&L==null||ze(e,t,G,q,s,L)}function Em(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var o=n[s],h=o.transferSize,g=o.initiatorType,b=o.duration;if(h&&b&&Em(g)){for(g=0,b=o.responseEnd,s+=1;s<n.length;s++){var S=n[s],B=S.startTime;if(B>b)break;var H=S.transferSize,G=S.initiatorType;H&&Em(G)&&(S=S.responseEnd,g+=H*(S<b?1:(b-B)/(S-B)))}if(--s,t+=8*(h+g)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hu=null,$u=null;function Qr(e){return e.nodeType===9?e:e.ownerDocument}function Tm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Am(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gu=null;function Sy(){var e=window.event;return e&&e.type==="popstate"?e===Gu?!1:(Gu=e,!0):(Gu=null,!1)}var Om=typeof setTimeout=="function"?setTimeout:void 0,jy=typeof clearTimeout=="function"?clearTimeout:void 0,Cm=typeof Promise=="function"?Promise:void 0,Ey=typeof queueMicrotask=="function"?queueMicrotask:typeof Cm<"u"?function(e){return Cm.resolve(null).then(e).catch(Ty)}:Om;function Ty(e){setTimeout(function(){throw e})}function Fn(e){return e==="head"}function Nm(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(o),ys(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")bi(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,bi(n);for(var h=n.firstChild;h;){var g=h.nextSibling,b=h.nodeName;h[zs]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&h.rel.toLowerCase()==="stylesheet"||n.removeChild(h),h=g}}else n==="body"&&bi(e.ownerDocument.body);n=o}while(n);ys(t)}function Rm(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function Pu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pu(n),Jl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Ay(e,t,n,s){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[zs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Qt(e.nextSibling),e===null)break}return null}function Oy(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qt(e.nextSibling),e===null))return null;return e}function km(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Qt(e.nextSibling),e===null))return null;return e}function Qu(e){return e.data==="$?"||e.data==="$~"}function Yu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Cy(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ku=null;function Um(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Qt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Mm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Dm(e,t,n){switch(t=Qr(n),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function bi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Jl(e)}var Yt=new Map,Bm=new Set;function Yr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var On=J.d;J.d={f:Ny,r:Ry,D:ky,C:Uy,L:My,m:Dy,X:zy,S:By,M:qy};function Ny(){var e=On.f(),t=zr();return e||t}function Ry(e){var t=za(e);t!==null&&t.tag===5&&t.type==="form"?Wh(t):On.r(e)}var ps=typeof document>"u"?null:document;function zm(e,t,n){var s=ps;if(s&&typeof t=="string"&&t){var o=qt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Bm.has(o)||(Bm.add(o),e={rel:e,crossOrigin:n,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),ut(t,"link",e),at(t),s.head.appendChild(t)))}}function ky(e){On.D(e),zm("dns-prefetch",e,null)}function Uy(e,t){On.C(e,t),zm("preconnect",e,t)}function My(e,t,n){On.L(e,t,n);var s=ps;if(s&&e&&t){var o='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+qt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+qt(n.imageSizes)+'"]')):o+='[href="'+qt(e)+'"]';var h=o;switch(t){case"style":h=gs(e);break;case"script":h=vs(e)}Yt.has(h)||(e=_({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Yt.set(h,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(_i(h))||t==="script"&&s.querySelector(wi(h))||(t=s.createElement("link"),ut(t,"link",e),at(t),s.head.appendChild(t)))}}function Dy(e,t){On.m(e,t);var n=ps;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+qt(s)+'"][href="'+qt(e)+'"]',h=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=vs(e)}if(!Yt.has(h)&&(e=_({rel:"modulepreload",href:e},t),Yt.set(h,e),n.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wi(h)))return}s=n.createElement("link"),ut(s,"link",e),at(s),n.head.appendChild(s)}}}function By(e,t,n){On.S(e,t,n);var s=ps;if(s&&e){var o=qa(s).hoistableStyles,h=gs(e);t=t||"default";var g=o.get(h);if(!g){var b={loading:0,preload:null};if(g=s.querySelector(_i(h)))b.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Yt.get(h))&&Ju(e,n);var S=g=s.createElement("link");at(S),ut(S,"link",e),S._p=new Promise(function(B,H){S.onload=B,S.onerror=H}),S.addEventListener("load",function(){b.loading|=1}),S.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Kr(g,t,s)}g={type:"stylesheet",instance:g,count:1,state:b},o.set(h,g)}}}function zy(e,t){On.X(e,t);var n=ps;if(n&&e){var s=qa(n).hoistableScripts,o=vs(e),h=s.get(o);h||(h=n.querySelector(wi(o)),h||(e=_({src:e,async:!0},t),(t=Yt.get(o))&&Xu(e,t),h=n.createElement("script"),at(h),ut(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(o,h))}}function qy(e,t){On.M(e,t);var n=ps;if(n&&e){var s=qa(n).hoistableScripts,o=vs(e),h=s.get(o);h||(h=n.querySelector(wi(o)),h||(e=_({src:e,async:!0,type:"module"},t),(t=Yt.get(o))&&Xu(e,t),h=n.createElement("script"),at(h),ut(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(o,h))}}function qm(e,t,n,s){var o=(o=se.current)?Yr(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=gs(n.href),n=qa(o).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=gs(n.href);var h=qa(o).hoistableStyles,g=h.get(e);if(g||(o=o.ownerDocument||o,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,g),(h=o.querySelector(_i(e)))&&!h._p&&(g.instance=h,g.state.loading=5),Yt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Yt.set(e,n),h||Ly(o,e,n,g.state))),t&&s===null)throw Error(l(528,""));return g}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=vs(n),n=qa(o).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function gs(e){return'href="'+qt(e)+'"'}function _i(e){return'link[rel="stylesheet"]['+e+"]"}function Lm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Ly(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ut(t,"link",n),at(t),e.head.appendChild(t))}function vs(e){return'[src="'+qt(e)+'"]'}function wi(e){return"script[async]"+e}function Hm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+qt(n.href)+'"]');if(s)return t.instance=s,at(s),s;var o=_({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),at(s),ut(s,"style",o),Kr(s,n.precedence,e),t.instance=s;case"stylesheet":o=gs(n.href);var h=e.querySelector(_i(o));if(h)return t.state.loading|=4,t.instance=h,at(h),h;s=Lm(n),(o=Yt.get(o))&&Ju(s,o),h=(e.ownerDocument||e).createElement("link"),at(h);var g=h;return g._p=new Promise(function(b,S){g.onload=b,g.onerror=S}),ut(h,"link",s),t.state.loading|=4,Kr(h,n.precedence,e),t.instance=h;case"script":return h=vs(n.src),(o=e.querySelector(wi(h)))?(t.instance=o,at(o),o):(s=n,(o=Yt.get(h))&&(s=_({},n),Xu(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),at(o),ut(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Kr(s,n.precedence,e));return t.instance}function Kr(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,h=o,g=0;g<s.length;g++){var b=s[g];if(b.dataset.precedence===t)h=b;else if(h!==o)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Jr=null;function $m(e,t,n){if(Jr===null){var s=new Map,o=Jr=new Map;o.set(n,s)}else o=Jr,s=o.get(n),s||(s=new Map,o.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var h=n[o];if(!(h[zs]||h[it]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(t)||"";g=e+g;var b=s.get(g);b?b.push(h):s.set(g,[h])}}return s}function Vm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Hy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Gm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $y(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=gs(s.href),h=t.querySelector(_i(o));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Xr.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=h,at(h);return}h=t.ownerDocument||t,s=Lm(s),(o=Yt.get(o))&&Ju(s,o),h=h.createElement("link"),at(h);var g=h;g._p=new Promise(function(b,S){g.onload=b,g.onerror=S}),ut(h,"link",s),n.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Xr.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Iu=0;function Vy(e,t){return e.stylesheets&&e.count===0&&Zr(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&Zr(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&Iu===0&&(Iu=62500*xy());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zr(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Iu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function Xr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ir=null;function Zr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ir=new Map,t.forEach(Gy,e),Ir=null,Xr.call(e))}function Gy(e,t){if(!(t.state.loading&4)){var n=Ir.get(e);if(n)var s=n.get(null);else{n=new Map,Ir.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<o.length;h++){var g=o[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(n.set(g.dataset.precedence,g),s=g)}s&&n.set(null,s)}o=t.instance,g=o.getAttribute("data-precedence"),h=n.get(g)||s,h===s&&n.set(null,o),n.set(g,o),this.count++,s=Xr.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),h?h.parentNode.insertBefore(o,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var xi={$$typeof:M,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Py(e,t,n,s,o,h,g,b,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.hiddenUpdates=Pl(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Pm(e,t,n,s,o,h,g,b,S,B,H,G){return e=new Py(e,t,n,g,S,B,H,G,b),t=1,h===!0&&(t|=24),h=Ct(3,null,null,t),e.current=h,h.stateNode=e,t=Co(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:s,isDehydrated:n,cache:t},Uo(h),e}function Qm(e){return e?(e=Ja,e):Ja}function Ym(e,t,n,s,o,h){o=Qm(o),s.context===null?s.context=o:s.pendingContext=o,s=Vn(t),s.payload={element:n},h=h===void 0?null:h,h!==null&&(s.callback=h),n=Gn(e,s,t),n!==null&&(wt(n,e,t),ei(n,e,t))}function Km(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zu(e,t){Km(e,t),(e=e.alternate)&&Km(e,t)}function Jm(e){if(e.tag===13||e.tag===31){var t=fa(e,67108864);t!==null&&wt(t,e,67108864),Zu(e,67108864)}}function Xm(e){if(e.tag===13||e.tag===31){var t=Mt();t=Ql(t);var n=fa(e,t);n!==null&&wt(n,e,t),Zu(e,t)}}var Wr=!0;function Qy(e,t,n,s){var o=z.T;z.T=null;var h=J.p;try{J.p=2,Wu(e,t,n,s)}finally{J.p=h,z.T=o}}function Yy(e,t,n,s){var o=z.T;z.T=null;var h=J.p;try{J.p=8,Wu(e,t,n,s)}finally{J.p=h,z.T=o}}function Wu(e,t,n,s){if(Wr){var o=Fu(s);if(o===null)qu(e,t,s,Fr,n),Zm(e,s);else if(Jy(o,e,t,n,s))s.stopPropagation();else if(Zm(e,s),t&4&&-1<Ky.indexOf(e)){for(;o!==null;){var h=za(o);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=oa(h.pendingLanes);if(g!==0){var b=h;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var S=1<<31-At(g);b.entanglements[1]|=S,g&=~S}ln(h),(Ue&6)===0&&(Dr=Et()+500,gi(0))}}break;case 31:case 13:b=fa(h,2),b!==null&&wt(b,h,2),zr(),Zu(h,2)}if(h=Fu(s),h===null&&qu(e,t,s,Fr,n),h===o)break;o=h}o!==null&&s.stopPropagation()}else qu(e,t,s,null,n)}}function Fu(e){return e=eo(e),ec(e)}var Fr=null;function ec(e){if(Fr=null,e=Ba(e),e!==null){var t=d(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Fr=e,null}function Im(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kv()){case ad:return 2;case sd:return 8;case Vi:case Uv:return 32;case id:return 268435456;default:return 32}default:return 32}}var tc=!1,ea=null,ta=null,na=null,Si=new Map,ji=new Map,aa=[],Ky="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zm(e,t){switch(e){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":Si.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(t.pointerId)}}function Ei(e,t,n,s,o,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:h,targetContainers:[o]},t!==null&&(t=za(t),t!==null&&Jm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Jy(e,t,n,s,o){switch(t){case"focusin":return ea=Ei(ea,e,t,n,s,o),!0;case"dragenter":return ta=Ei(ta,e,t,n,s,o),!0;case"mouseover":return na=Ei(na,e,t,n,s,o),!0;case"pointerover":var h=o.pointerId;return Si.set(h,Ei(Si.get(h)||null,e,t,n,s,o)),!0;case"gotpointercapture":return h=o.pointerId,ji.set(h,Ei(ji.get(h)||null,e,t,n,s,o)),!0}return!1}function Wm(e){var t=Ba(e.target);if(t!==null){var n=d(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,dd(e.priority,function(){Xm(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,dd(e.priority,function(){Xm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fu(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Fl=s,n.target.dispatchEvent(s),Fl=null}else return t=za(n),t!==null&&Jm(t),e.blockedOn=n,!1;t.shift()}return!0}function Fm(e,t,n){el(e)&&n.delete(t)}function Xy(){tc=!1,ea!==null&&el(ea)&&(ea=null),ta!==null&&el(ta)&&(ta=null),na!==null&&el(na)&&(na=null),Si.forEach(Fm),ji.forEach(Fm)}function tl(e,t){e.blockedOn===t&&(e.blockedOn=null,tc||(tc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Xy)))}var nl=null;function ep(e){nl!==e&&(nl=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){nl===e&&(nl=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(ec(s||n)===null)continue;break}var h=za(n);h!==null&&(e.splice(t,3),t-=3,Fo(h,{pending:!0,data:o,method:n.method,action:s},s,o))}}))}function ys(e){function t(S){return tl(S,e)}ea!==null&&tl(ea,e),ta!==null&&tl(ta,e),na!==null&&tl(na,e),Si.forEach(t),ji.forEach(t);for(var n=0;n<aa.length;n++){var s=aa[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<aa.length&&(n=aa[0],n.blockedOn===null);)Wm(n),n.blockedOn===null&&aa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var o=n[s],h=n[s+1],g=o[pt]||null;if(typeof h=="function")g||ep(n);else if(g){var b=null;if(h&&h.hasAttribute("formAction")){if(o=h,g=h[pt]||null)b=g.formAction;else if(ec(o)!==null)continue}else b=g.action;typeof b=="function"?n[s+1]=b:(n.splice(s,3),s-=3),ep(n)}}}function tp(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return o=g})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function nc(e){this._internalRoot=e}al.prototype.render=nc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var n=t.current,s=Mt();Ym(n,s,e,t,null,null)},al.prototype.unmount=nc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ym(e.current,2,null,e,null,null),zr(),t[Da]=null}};function al(e){this._internalRoot=e}al.prototype.unstable_scheduleHydration=function(e){if(e){var t=cd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<aa.length&&t!==0&&t<aa[n].priority;n++);aa.splice(n,0,e),n===0&&Wm(e)}};var np=a.version;if(np!=="19.2.1")throw Error(l(527,np,"19.2.1"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=v(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Iy={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{Ms=sl.inject(Iy),Tt=sl}catch{}}return Ai.createRoot=function(e,t){if(!u(e))throw Error(l(299));var n=!1,s="",o=uf,h=cf,g=df;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Pm(e,1,!1,null,null,n,s,null,o,h,g,tp),e[Da]=t.current,zu(e),new nc(t)},Ai.hydrateRoot=function(e,t,n){if(!u(e))throw Error(l(299));var s=!1,o="",h=uf,g=cf,b=df,S=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.formState!==void 0&&(S=n.formState)),t=Pm(e,1,!0,t,n??null,s,o,S,h,g,b,tp),t.context=Qm(null),n=t.current,s=Mt(),s=Ql(s),o=Vn(s),o.callback=null,Gn(n,o,s),n=s,t.current.lanes=n,Bs(t,n),ln(t),e[Da]=t.current,zu(e),new al(t)},Ai.version="19.2.1",Ai}var hp;function ob(){if(hp)return ic.exports;hp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),ic.exports=lb(),ic.exports}var ub=ob();var fp="popstate";function cb(r={}){function a(l,u){let{pathname:d,search:f,hash:p}=l.location;return bc("",{pathname:d,search:f,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){return typeof u=="string"?u:Mi(u)}return hb(a,i,null,r)}function Qe(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function Kt(r,a){if(!r){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function db(){return Math.random().toString(36).substring(2,10)}function mp(r,a){return{usr:r.state,key:r.key,idx:a}}function bc(r,a,i=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof a=="string"?Cs(a):a,state:i,key:a&&a.key||l||db()}}function Mi({pathname:r="/",search:a="",hash:i=""}){return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Cs(r){let a={};if(r){let i=r.indexOf("#");i>=0&&(a.hash=r.substring(i),r=r.substring(0,i));let l=r.indexOf("?");l>=0&&(a.search=r.substring(l),r=r.substring(0,l)),r&&(a.pathname=r)}return a}function hb(r,a,i,l={}){let{window:u=document.defaultView,v5Compat:d=!1}=l,f=u.history,p="POP",m=null,v=y();v==null&&(v=0,f.replaceState({...f.state,idx:v},""));function y(){return(f.state||{idx:null}).idx}function _(){p="POP";let j=y(),k=j==null?null:j-v;v=j,m&&m({action:p,location:O.location,delta:k})}function x(j,k){p="PUSH";let U=bc(O.location,j,k);v=y()+1;let M=mp(U,v),Q=O.createHref(U);try{f.pushState(M,"",Q)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;u.location.assign(Q)}d&&m&&m({action:p,location:O.location,delta:1})}function w(j,k){p="REPLACE";let U=bc(O.location,j,k);v=y();let M=mp(U,v),Q=O.createHref(U);f.replaceState(M,"",Q),d&&m&&m({action:p,location:O.location,delta:0})}function E(j){return fb(j)}let O={get action(){return p},get location(){return r(u,f)},listen(j){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(fp,_),m=j,()=>{u.removeEventListener(fp,_),m=null}},createHref(j){return a(u,j)},createURL:E,encodeLocation(j){let k=E(j);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:x,replace:w,go(j){return f.go(j)}};return O}function fb(r,a=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(i,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:Mi(r);return l=l.replace(/ $/,"%20"),!a&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function Zp(r,a,i="/"){return mb(r,a,i,!1)}function mb(r,a,i,l){let u=typeof a=="string"?Cs(a):a,d=kn(u.pathname||"/",i);if(d==null)return null;let f=Wp(r);pb(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let v=Tb(d);p=jb(f[m],v,l)}return p}function Wp(r,a=[],i=[],l="",u=!1){let d=(f,p,m=u,v)=>{let y={relativePath:v===void 0?f.path||"":v,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(l)&&m)return;Qe(y.relativePath.startsWith(l),`Absolute route path "${y.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(l.length)}let _=Rn([l,y.relativePath]),x=i.concat(y);f.children&&f.children.length>0&&(Qe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Wp(f.children,a,x,_,m)),!(f.path==null&&!f.index)&&a.push({path:_,score:xb(_,f.index),routesMeta:x})};return r.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))d(f,p);else for(let m of Fp(f.path))d(f,p,!0,m)}),a}function Fp(r){let a=r.split("/");if(a.length===0)return[];let[i,...l]=a,u=i.endsWith("?"),d=i.replace(/\?$/,"");if(l.length===0)return u?[d,""]:[d];let f=Fp(l.join("/")),p=[];return p.push(...f.map(m=>m===""?d:[d,m].join("/"))),u&&p.push(...f),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function pb(r){r.sort((a,i)=>a.score!==i.score?i.score-a.score:Sb(a.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var gb=/^:[\w-]+$/,vb=3,yb=2,bb=1,_b=10,wb=-2,pp=r=>r==="*";function xb(r,a){let i=r.split("/"),l=i.length;return i.some(pp)&&(l+=wb),a&&(l+=yb),i.filter(u=>!pp(u)).reduce((u,d)=>u+(gb.test(d)?vb:d===""?bb:_b),l)}function Sb(r,a){return r.length===a.length&&r.slice(0,-1).every((l,u)=>l===a[u])?r[r.length-1]-a[a.length-1]:0}function jb(r,a,i=!1){let{routesMeta:l}=r,u={},d="/",f=[];for(let p=0;p<l.length;++p){let m=l[p],v=p===l.length-1,y=d==="/"?a:a.slice(d.length)||"/",_=xl({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},y),x=m.route;if(!_&&v&&i&&!l[l.length-1].route.index&&(_=xl({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(u,_.params),f.push({params:u,pathname:Rn([d,_.pathname]),pathnameBase:Rb(Rn([d,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(d=Rn([d,_.pathnameBase]))}return f}function xl(r,a){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,l]=Eb(r.path,r.caseSensitive,r.end),u=a.match(i);if(!u)return null;let d=u[0],f=d.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:l.reduce((v,{paramName:y,isOptional:_},x)=>{if(y==="*"){let E=p[x]||"";f=d.slice(0,d.length-E.length).replace(/(.)\/+$/,"$1")}const w=p[x];return _&&!w?v[y]=void 0:v[y]=(w||"").replace(/%2F/g,"/"),v},{}),pathname:d,pathnameBase:f,pattern:r}}function Eb(r,a=!1,i=!0){Kt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(l.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(l.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),l]}function Tb(r){try{return r.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Kt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),r}}function kn(r,a){if(a==="/")return r;if(!r.toLowerCase().startsWith(a.toLowerCase()))return null;let i=a.endsWith("/")?a.length-1:a.length,l=r.charAt(i);return l&&l!=="/"?null:r.slice(i)||"/"}var Ab=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ob=r=>Ab.test(r);function Cb(r,a="/"){let{pathname:i,search:l="",hash:u=""}=typeof r=="string"?Cs(r):r,d;if(i)if(Ob(i))d=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),Kt(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?d=gp(i.substring(1),"/"):d=gp(i,a)}else d=a;return{pathname:d,search:kb(l),hash:Ub(u)}}function gp(r,a){let i=a.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function uc(r,a,i,l){return`Cannot include a '${r}' character in a manually specified \`to.${a}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nb(r){return r.filter((a,i)=>i===0||a.route.path&&a.route.path.length>0)}function Lc(r){let a=Nb(r);return a.map((i,l)=>l===a.length-1?i.pathname:i.pathnameBase)}function Hc(r,a,i,l=!1){let u;typeof r=="string"?u=Cs(r):(u={...r},Qe(!u.pathname||!u.pathname.includes("?"),uc("?","pathname","search",u)),Qe(!u.pathname||!u.pathname.includes("#"),uc("#","pathname","hash",u)),Qe(!u.search||!u.search.includes("#"),uc("#","search","hash",u)));let d=r===""||u.pathname==="",f=d?"/":u.pathname,p;if(f==null)p=i;else{let _=a.length-1;if(!l&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),_-=1;u.pathname=x.join("/")}p=_>=0?a[_]:"/"}let m=Cb(u,p),v=f&&f!=="/"&&f.endsWith("/"),y=(d||f===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(v||y)&&(m.pathname+="/"),m}var Rn=r=>r.join("/").replace(/\/\/+/g,"/"),Rb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),kb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Ub=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Mb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Db(r){return r.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eg=["POST","PUT","PATCH","DELETE"];new Set(eg);var Bb=["GET",...eg];new Set(Bb);var Ns=T.createContext(null);Ns.displayName="DataRouter";var kl=T.createContext(null);kl.displayName="DataRouterState";T.createContext(!1);var tg=T.createContext({isTransitioning:!1});tg.displayName="ViewTransition";var zb=T.createContext(new Map);zb.displayName="Fetchers";var qb=T.createContext(null);qb.displayName="Await";var Jt=T.createContext(null);Jt.displayName="Navigation";var qi=T.createContext(null);qi.displayName="Location";var un=T.createContext({outlet:null,matches:[],isDataRoute:!1});un.displayName="Route";var $c=T.createContext(null);$c.displayName="RouteError";function Lb(r,{relative:a}={}){Qe(Rs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=T.useContext(Jt),{hash:u,pathname:d,search:f}=Li(r,{relative:a}),p=d;return i!=="/"&&(p=d==="/"?i:Rn([i,d])),l.createHref({pathname:p,search:f,hash:u})}function Rs(){return T.useContext(qi)!=null}function cn(){return Qe(Rs(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(qi).location}var ng="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ag(r){T.useContext(Jt).static||T.useLayoutEffect(r)}function Xt(){let{isDataRoute:r}=T.useContext(un);return r?Wb():Hb()}function Hb(){Qe(Rs(),"useNavigate() may be used only in the context of a <Router> component.");let r=T.useContext(Ns),{basename:a,navigator:i}=T.useContext(Jt),{matches:l}=T.useContext(un),{pathname:u}=cn(),d=JSON.stringify(Lc(l)),f=T.useRef(!1);return ag(()=>{f.current=!0}),T.useCallback((m,v={})=>{if(Kt(f.current,ng),!f.current)return;if(typeof m=="number"){i.go(m);return}let y=Hc(m,JSON.parse(d),u,v.relative==="path");r==null&&a!=="/"&&(y.pathname=y.pathname==="/"?a:Rn([a,y.pathname])),(v.replace?i.replace:i.push)(y,v.state,v)},[a,i,d,u,r])}T.createContext(null);function Li(r,{relative:a}={}){let{matches:i}=T.useContext(un),{pathname:l}=cn(),u=JSON.stringify(Lc(i));return T.useMemo(()=>Hc(r,JSON.parse(u),l,a==="path"),[r,u,l,a])}function $b(r,a){return sg(r,a)}function sg(r,a,i,l,u){Qe(Rs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=T.useContext(Jt),{matches:f}=T.useContext(un),p=f[f.length-1],m=p?p.params:{},v=p?p.pathname:"/",y=p?p.pathnameBase:"/",_=p&&p.route;{let U=_&&_.path||"";ig(v,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let x=cn(),w;if(a){let U=typeof a=="string"?Cs(a):a;Qe(y==="/"||U.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${U.pathname}" was given in the \`location\` prop.`),w=U}else w=x;let E=w.pathname||"/",O=E;if(y!=="/"){let U=y.replace(/^\//,"").split("/");O="/"+E.replace(/^\//,"").split("/").slice(U.length).join("/")}let j=Zp(r,{pathname:O});Kt(_||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Kt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Yb(j&&j.map(U=>Object.assign({},U,{params:Object.assign({},m,U.params),pathname:Rn([y,d.encodeLocation?d.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:Rn([y,d.encodeLocation?d.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),f,i,l,u);return a&&k?T.createElement(qi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},k):k}function Vb(){let r=Zb(),a=Mb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:d},"ErrorBoundary")," or"," ",T.createElement("code",{style:d},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},a),i?T.createElement("pre",{style:u},i):null,f)}var Gb=T.createElement(Vb,null),Pb=class extends T.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){this.props.onError?this.props.onError(r,a):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?T.createElement(un.Provider,{value:this.props.routeContext},T.createElement($c.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Qb({routeContext:r,match:a,children:i}){let l=T.useContext(Ns);return l&&l.static&&l.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=a.route.id),T.createElement(un.Provider,{value:r},i)}function Yb(r,a=[],i=null,l=null,u=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(a.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let d=r,f=i?.errors;if(f!=null){let y=d.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);Qe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),d=d.slice(0,Math.min(d.length,y+1))}let p=!1,m=-1;if(i)for(let y=0;y<d.length;y++){let _=d[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:x,errors:w}=i,E=_.route.loader&&!x.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||E){p=!0,m>=0?d=d.slice(0,m+1):d=[d[0]];break}}}let v=i&&l?(y,_)=>{l(y,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Db(i.matches),errorInfo:_})}:void 0;return d.reduceRight((y,_,x)=>{let w,E=!1,O=null,j=null;i&&(w=f&&_.route.id?f[_.route.id]:void 0,O=_.route.errorElement||Gb,p&&(m<0&&x===0?(ig("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,j=null):m===x&&(E=!0,j=_.route.hydrateFallbackElement||null)));let k=a.concat(d.slice(0,x+1)),U=()=>{let M;return w?M=O:E?M=j:_.route.Component?M=T.createElement(_.route.Component,null):_.route.element?M=_.route.element:M=y,T.createElement(Qb,{match:_,routeContext:{outlet:y,matches:k,isDataRoute:i!=null},children:M})};return i&&(_.route.ErrorBoundary||_.route.errorElement||x===0)?T.createElement(Pb,{location:i.location,revalidation:i.revalidation,component:O,error:w,children:U(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:v}):U()},null)}function Vc(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kb(r){let a=T.useContext(Ns);return Qe(a,Vc(r)),a}function Jb(r){let a=T.useContext(kl);return Qe(a,Vc(r)),a}function Xb(r){let a=T.useContext(un);return Qe(a,Vc(r)),a}function Gc(r){let a=Xb(r),i=a.matches[a.matches.length-1];return Qe(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function Ib(){return Gc("useRouteId")}function Zb(){let r=T.useContext($c),a=Jb("useRouteError"),i=Gc("useRouteError");return r!==void 0?r:a.errors?.[i]}function Wb(){let{router:r}=Kb("useNavigate"),a=Gc("useNavigate"),i=T.useRef(!1);return ag(()=>{i.current=!0}),T.useCallback(async(u,d={})=>{Kt(i.current,ng),i.current&&(typeof u=="number"?await r.navigate(u):await r.navigate(u,{fromRouteId:a,...d}))},[r,a])}var vp={};function ig(r,a,i){!a&&!vp[r]&&(vp[r]=!0,Kt(!1,i))}T.memo(Fb);function Fb({routes:r,future:a,state:i,unstable_onError:l}){return sg(r,void 0,i,l,a)}function Ma({to:r,replace:a,state:i,relative:l}){Qe(Rs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=T.useContext(Jt);Kt(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=T.useContext(un),{pathname:f}=cn(),p=Xt(),m=Hc(r,Lc(d),f,l==="path"),v=JSON.stringify(m);return T.useEffect(()=>{p(JSON.parse(v),{replace:a,state:i,relative:l})},[p,v,l,a,i]),null}function xt(r){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function e_({basename:r="/",children:a=null,location:i,navigationType:l="POP",navigator:u,static:d=!1,unstable_useTransitions:f}){Qe(!Rs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),m=T.useMemo(()=>({basename:p,navigator:u,static:d,unstable_useTransitions:f,future:{}}),[p,u,d,f]);typeof i=="string"&&(i=Cs(i));let{pathname:v="/",search:y="",hash:_="",state:x=null,key:w="default"}=i,E=T.useMemo(()=>{let O=kn(v,p);return O==null?null:{location:{pathname:O,search:y,hash:_,state:x,key:w},navigationType:l}},[p,v,y,_,x,w,l]);return Kt(E!=null,`<Router basename="${p}"> is not able to match the URL "${v}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:T.createElement(Jt.Provider,{value:m},T.createElement(qi.Provider,{children:a,value:E}))}function t_({children:r,location:a}){return $b(_c(r),a)}function _c(r,a=[]){let i=[];return T.Children.forEach(r,(l,u)=>{if(!T.isValidElement(l))return;let d=[...a,u];if(l.type===T.Fragment){i.push.apply(i,_c(l.props.children,d));return}Qe(l.type===xt,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=_c(l.props.children,d)),i.push(f)}),i}var gl="get",vl="application/x-www-form-urlencoded";function Ul(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function n_(r){return Ul(r)&&r.tagName.toLowerCase()==="button"}function a_(r){return Ul(r)&&r.tagName.toLowerCase()==="form"}function s_(r){return Ul(r)&&r.tagName.toLowerCase()==="input"}function i_(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function r_(r,a){return r.button===0&&(!a||a==="_self")&&!i_(r)}var il=null;function l_(){if(il===null)try{new FormData(document.createElement("form"),0),il=!1}catch{il=!0}return il}var o_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cc(r){return r!=null&&!o_.has(r)?(Kt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vl}"`),null):r}function u_(r,a){let i,l,u,d,f;if(a_(r)){let p=r.getAttribute("action");l=p?kn(p,a):null,i=r.getAttribute("method")||gl,u=cc(r.getAttribute("enctype"))||vl,d=new FormData(r)}else if(n_(r)||s_(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(l=m?kn(m,a):null,i=r.getAttribute("formmethod")||p.getAttribute("method")||gl,u=cc(r.getAttribute("formenctype"))||cc(p.getAttribute("enctype"))||vl,d=new FormData(p,r),!l_()){let{name:v,type:y,value:_}=r;if(y==="image"){let x=v?`${v}.`:"";d.append(`${x}x`,"0"),d.append(`${x}y`,"0")}else v&&d.append(v,_)}}else{if(Ul(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=gl,l=null,u=vl,f=r}return d&&u==="text/plain"&&(f=d,d=void 0),{action:l,method:i.toLowerCase(),encType:u,formData:d,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pc(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function c_(r,a,i){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return l.pathname==="/"?l.pathname=`_root.${i}`:a&&kn(l.pathname,a)==="/"?l.pathname=`${a.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function d_(r,a){if(r.id in a)return a[r.id];try{let i=await import(r.module);return a[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h_(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function f_(r,a,i){let l=await Promise.all(r.map(async u=>{let d=a.routes[u.route.id];if(d){let f=await d_(d,i);return f.links?f.links():[]}return[]}));return v_(l.flat(1).filter(h_).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function yp(r,a,i,l,u,d){let f=(m,v)=>i[v]?m.route.id!==i[v].route.id:!0,p=(m,v)=>i[v].pathname!==m.pathname||i[v].route.path?.endsWith("*")&&i[v].params["*"]!==m.params["*"];return d==="assets"?a.filter((m,v)=>f(m,v)||p(m,v)):d==="data"?a.filter((m,v)=>{let y=l.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(f(m,v)||p(m,v))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function m_(r,a,{includeHydrateFallback:i}={}){return p_(r.map(l=>{let u=a.routes[l.route.id];if(!u)return[];let d=[u.module];return u.clientActionModule&&(d=d.concat(u.clientActionModule)),u.clientLoaderModule&&(d=d.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(d=d.concat(u.hydrateFallbackModule)),u.imports&&(d=d.concat(u.imports)),d}).flat(1))}function p_(r){return[...new Set(r)]}function g_(r){let a={},i=Object.keys(r).sort();for(let l of i)a[l]=r[l];return a}function v_(r,a){let i=new Set;return new Set(a),r.reduce((l,u)=>{let d=JSON.stringify(g_(u));return i.has(d)||(i.add(d),l.push({key:d,link:u})),l},[])}function rg(){let r=T.useContext(Ns);return Pc(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function y_(){let r=T.useContext(kl);return Pc(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Qc=T.createContext(void 0);Qc.displayName="FrameworkContext";function lg(){let r=T.useContext(Qc);return Pc(r,"You must render this element inside a <HydratedRouter> element"),r}function b_(r,a){let i=T.useContext(Qc),[l,u]=T.useState(!1),[d,f]=T.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:v,onMouseLeave:y,onTouchStart:_}=a,x=T.useRef(null);T.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let O=k=>{k.forEach(U=>{f(U.isIntersecting)})},j=new IntersectionObserver(O,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[r]),T.useEffect(()=>{if(l){let O=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(O)}}},[l]);let w=()=>{u(!0)},E=()=>{u(!1),f(!1)};return i?r!=="intent"?[d,x,{}]:[d,x,{onFocus:Oi(p,w),onBlur:Oi(m,E),onMouseEnter:Oi(v,w),onMouseLeave:Oi(y,E),onTouchStart:Oi(_,w)}]:[!1,x,{}]}function Oi(r,a){return i=>{r&&r(i),i.defaultPrevented||a(i)}}function __({page:r,...a}){let{router:i}=rg(),l=T.useMemo(()=>Zp(i.routes,r,i.basename),[i.routes,r,i.basename]);return l?T.createElement(x_,{page:r,matches:l,...a}):null}function w_(r){let{manifest:a,routeModules:i}=lg(),[l,u]=T.useState([]);return T.useEffect(()=>{let d=!1;return f_(r,a,i).then(f=>{d||u(f)}),()=>{d=!0}},[r,a,i]),l}function x_({page:r,matches:a,...i}){let l=cn(),{manifest:u,routeModules:d}=lg(),{basename:f}=rg(),{loaderData:p,matches:m}=y_(),v=T.useMemo(()=>yp(r,a,m,u,l,"data"),[r,a,m,u,l]),y=T.useMemo(()=>yp(r,a,m,u,l,"assets"),[r,a,m,u,l]),_=T.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let E=new Set,O=!1;if(a.forEach(k=>{let U=u.routes[k.route.id];!U||!U.hasLoader||(!v.some(M=>M.route.id===k.route.id)&&k.route.id in p&&d[k.route.id]?.shouldRevalidate||U.hasClientLoader?O=!0:E.add(k.route.id))}),E.size===0)return[];let j=c_(r,f,"data");return O&&E.size>0&&j.searchParams.set("_routes",a.filter(k=>E.has(k.route.id)).map(k=>k.route.id).join(",")),[j.pathname+j.search]},[f,p,l,u,v,a,r,d]),x=T.useMemo(()=>m_(y,u),[y,u]),w=w_(y);return T.createElement(T.Fragment,null,_.map(E=>T.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...i})),x.map(E=>T.createElement("link",{key:E,rel:"modulepreload",href:E,...i})),w.map(({key:E,link:O})=>T.createElement("link",{key:E,nonce:i.nonce,...O})))}function S_(...r){return a=>{r.forEach(i=>{typeof i=="function"?i(a):i!=null&&(i.current=a)})}}var og=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{og&&(window.__reactRouterVersion="7.10.1")}catch{}function j_({basename:r,children:a,unstable_useTransitions:i,window:l}){let u=T.useRef();u.current==null&&(u.current=cb({window:l,v5Compat:!0}));let d=u.current,[f,p]=T.useState({action:d.action,location:d.location}),m=T.useCallback(v=>{i===!1?p(v):T.startTransition(()=>p(v))},[i]);return T.useLayoutEffect(()=>d.listen(m),[d,m]),T.createElement(e_,{basename:r,children:a,location:f.location,navigationType:f.action,navigator:d,unstable_useTransitions:i===!0})}var ug=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nn=T.forwardRef(function({onClick:a,discover:i="render",prefetch:l="none",relative:u,reloadDocument:d,replace:f,state:p,target:m,to:v,preventScrollReset:y,viewTransition:_,...x},w){let{basename:E,unstable_useTransitions:O}=T.useContext(Jt),j=typeof v=="string"&&ug.test(v),k,U=!1;if(typeof v=="string"&&j&&(k=v,og))try{let _e=new URL(window.location.href),ye=v.startsWith("//")?new URL(_e.protocol+v):new URL(v),Y=kn(ye.pathname,E);ye.origin===_e.origin&&Y!=null?v=Y+ye.search+ye.hash:U=!0}catch{Kt(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=Lb(v,{relative:u}),[Q,X,W]=b_(l,x),K=O_(v,{replace:f,state:p,target:m,preventScrollReset:y,relative:u,viewTransition:_,unstable_useTransitions:O});function F(_e){a&&a(_e),_e.defaultPrevented||K(_e)}let ue=T.createElement("a",{...x,...W,href:k||M,onClick:U||d?a:F,ref:S_(w,X),target:m,"data-discover":!j&&i==="render"?"true":void 0});return Q&&!j?T.createElement(T.Fragment,null,ue,T.createElement(__,{page:M})):ue});nn.displayName="Link";var E_=T.forwardRef(function({"aria-current":a="page",caseSensitive:i=!1,className:l="",end:u=!1,style:d,to:f,viewTransition:p,children:m,...v},y){let _=Li(f,{relative:v.relative}),x=cn(),w=T.useContext(kl),{navigator:E,basename:O}=T.useContext(Jt),j=w!=null&&U_(_)&&p===!0,k=E.encodeLocation?E.encodeLocation(_).pathname:_.pathname,U=x.pathname,M=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(U=U.toLowerCase(),M=M?M.toLowerCase():null,k=k.toLowerCase()),M&&O&&(M=kn(M,O)||M);const Q=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let X=U===k||!u&&U.startsWith(k)&&U.charAt(Q)==="/",W=M!=null&&(M===k||!u&&M.startsWith(k)&&M.charAt(k.length)==="/"),K={isActive:X,isPending:W,isTransitioning:j},F=X?a:void 0,ue;typeof l=="function"?ue=l(K):ue=[l,X?"active":null,W?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let _e=typeof d=="function"?d(K):d;return T.createElement(nn,{...v,"aria-current":F,className:ue,ref:y,style:_e,to:f,viewTransition:p},typeof m=="function"?m(K):m)});E_.displayName="NavLink";var T_=T.forwardRef(({discover:r="render",fetcherKey:a,navigate:i,reloadDocument:l,replace:u,state:d,method:f=gl,action:p,onSubmit:m,relative:v,preventScrollReset:y,viewTransition:_,...x},w)=>{let{unstable_useTransitions:E}=T.useContext(Jt),O=R_(),j=k_(p,{relative:v}),k=f.toLowerCase()==="get"?"get":"post",U=typeof p=="string"&&ug.test(p),M=Q=>{if(m&&m(Q),Q.defaultPrevented)return;Q.preventDefault();let X=Q.nativeEvent.submitter,W=X?.getAttribute("formmethod")||f,K=()=>O(X||Q.currentTarget,{fetcherKey:a,method:W,navigate:i,replace:u,state:d,relative:v,preventScrollReset:y,viewTransition:_});E&&i!==!1?T.startTransition(()=>K()):K()};return T.createElement("form",{ref:w,method:k,action:j,onSubmit:l?m:M,...x,"data-discover":!U&&r==="render"?"true":void 0})});T_.displayName="Form";function A_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cg(r){let a=T.useContext(Ns);return Qe(a,A_(r)),a}function O_(r,{target:a,replace:i,state:l,preventScrollReset:u,relative:d,viewTransition:f,unstable_useTransitions:p}={}){let m=Xt(),v=cn(),y=Li(r,{relative:d});return T.useCallback(_=>{if(r_(_,a)){_.preventDefault();let x=i!==void 0?i:Mi(v)===Mi(y),w=()=>m(r,{replace:x,state:l,preventScrollReset:u,relative:d,viewTransition:f});p?T.startTransition(()=>w()):w()}},[v,m,y,i,l,a,r,u,d,f,p])}var C_=0,N_=()=>`__${String(++C_)}__`;function R_(){let{router:r}=cg("useSubmit"),{basename:a}=T.useContext(Jt),i=Ib(),l=r.fetch,u=r.navigate;return T.useCallback(async(d,f={})=>{let{action:p,method:m,encType:v,formData:y,body:_}=u_(d,a);if(f.navigate===!1){let x=f.fetcherKey||N_();await l(x,i,f.action||p,{preventScrollReset:f.preventScrollReset,formData:y,body:_,formMethod:f.method||m,formEncType:f.encType||v,flushSync:f.flushSync})}else await u(f.action||p,{preventScrollReset:f.preventScrollReset,formData:y,body:_,formMethod:f.method||m,formEncType:f.encType||v,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[l,u,a,i])}function k_(r,{relative:a}={}){let{basename:i}=T.useContext(Jt),l=T.useContext(un);Qe(l,"useFormAction must be used inside a RouteContext");let[u]=l.matches.slice(-1),d={...Li(r||".",{relative:a})},f=cn();if(r==null){d.search=f.search;let p=new URLSearchParams(d.search),m=p.getAll("index");if(m.some(y=>y==="")){p.delete("index"),m.filter(_=>_).forEach(_=>p.append("index",_));let y=p.toString();d.search=y?`?${y}`:""}}return(!r||r===".")&&u.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:Rn([i,d.pathname])),Mi(d)}function U_(r,{relative:a}={}){let i=T.useContext(tg);Qe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=cg("useViewTransitionState"),u=Li(r,{relative:a});if(!i.isTransitioning)return!1;let d=kn(i.currentLocation.pathname,l)||i.currentLocation.pathname,f=kn(i.nextLocation.pathname,l)||i.nextLocation.pathname;return xl(u.pathname,f)!=null||xl(u.pathname,d)!=null}var Cn={},rl={},wc=function(r,a){return wc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,l){i.__proto__=l}||function(i,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(i[u]=l[u])},wc(r,a)};function dg(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");wc(r,a);function i(){this.constructor=r}r.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}var Sl=function(){return Sl=Object.assign||function(a){for(var i,l=1,u=arguments.length;l<u;l++){i=arguments[l];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(a[d]=i[d])}return a},Sl.apply(this,arguments)};function ks(r,a){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&a.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)a.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(i[l[u]]=r[l[u]]);return i}function hg(r,a,i,l){var u=arguments.length,d=u<3?a:l===null?l=Object.getOwnPropertyDescriptor(a,i):l,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(r,a,i,l);else for(var p=r.length-1;p>=0;p--)(f=r[p])&&(d=(u<3?f(d):u>3?f(a,i,d):f(a,i))||d);return u>3&&d&&Object.defineProperty(a,i,d),d}function fg(r,a){return function(i,l){a(i,l,r)}}function mg(r,a,i,l,u,d){function f(k){if(k!==void 0&&typeof k!="function")throw new TypeError("Function expected");return k}for(var p=l.kind,m=p==="getter"?"get":p==="setter"?"set":"value",v=!a&&r?l.static?r:r.prototype:null,y=a||(v?Object.getOwnPropertyDescriptor(v,l.name):{}),_,x=!1,w=i.length-1;w>=0;w--){var E={};for(var O in l)E[O]=O==="access"?{}:l[O];for(var O in l.access)E.access[O]=l.access[O];E.addInitializer=function(k){if(x)throw new TypeError("Cannot add initializers after decoration has completed");d.push(f(k||null))};var j=(0,i[w])(p==="accessor"?{get:y.get,set:y.set}:y[m],E);if(p==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(_=f(j.get))&&(y.get=_),(_=f(j.set))&&(y.set=_),(_=f(j.init))&&u.unshift(_)}else(_=f(j))&&(p==="field"?u.unshift(_):y[m]=_)}v&&Object.defineProperty(v,l.name,y),x=!0}function pg(r,a,i){for(var l=arguments.length>2,u=0;u<a.length;u++)i=l?a[u].call(r,i):a[u].call(r);return l?i:void 0}function gg(r){return typeof r=="symbol"?r:"".concat(r)}function vg(r,a,i){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:i?"".concat(i," ",a):a})}function yg(r,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,a)}function ne(r,a,i,l){function u(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(y){try{v(l.next(y))}catch(_){f(_)}}function m(y){try{v(l.throw(y))}catch(_){f(_)}}function v(y){y.done?d(y.value):u(y.value).then(p,m)}v((l=l.apply(r,a||[])).next())})}function bg(r,a){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},l,u,d,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=p(0),f.throw=p(1),f.return=p(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(v){return function(y){return m([v,y])}}function m(v){if(l)throw new TypeError("Generator is already executing.");for(;f&&(f=0,v[0]&&(i=0)),i;)try{if(l=1,u&&(d=v[0]&2?u.return:v[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,v[1])).done)return d;switch(u=0,d&&(v=[v[0]&2,d.value]),v[0]){case 0:case 1:d=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,u=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(v[0]===6||v[0]===2)){i=0;continue}if(v[0]===3&&(!d||v[1]>d[0]&&v[1]<d[3])){i.label=v[1];break}if(v[0]===6&&i.label<d[1]){i.label=d[1],d=v;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(v);break}d[2]&&i.ops.pop(),i.trys.pop();continue}v=a.call(r,i)}catch(y){v=[6,y],u=0}finally{l=d=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}var Ml=Object.create?(function(r,a,i,l){l===void 0&&(l=i);var u=Object.getOwnPropertyDescriptor(a,i);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(r,l,u)}):(function(r,a,i,l){l===void 0&&(l=i),r[l]=a[i]});function _g(r,a){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&Ml(a,r,i)}function jl(r){var a=typeof Symbol=="function"&&Symbol.iterator,i=a&&r[a],l=0;if(i)return i.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&l>=r.length&&(r=void 0),{value:r&&r[l++],done:!r}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yc(r,a){var i=typeof Symbol=="function"&&r[Symbol.iterator];if(!i)return r;var l=i.call(r),u,d=[],f;try{for(;(a===void 0||a-- >0)&&!(u=l.next()).done;)d.push(u.value)}catch(p){f={error:p}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(f)throw f.error}}return d}function wg(){for(var r=[],a=0;a<arguments.length;a++)r=r.concat(Yc(arguments[a]));return r}function xg(){for(var r=0,a=0,i=arguments.length;a<i;a++)r+=arguments[a].length;for(var l=Array(r),u=0,a=0;a<i;a++)for(var d=arguments[a],f=0,p=d.length;f<p;f++,u++)l[u]=d[f];return l}function Sg(r,a,i){if(i||arguments.length===2)for(var l=0,u=a.length,d;l<u;l++)(d||!(l in a))&&(d||(d=Array.prototype.slice.call(a,0,l)),d[l]=a[l]);return r.concat(d||Array.prototype.slice.call(a))}function As(r){return this instanceof As?(this.v=r,this):new As(r)}function jg(r,a,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=i.apply(r,a||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),u[Symbol.asyncIterator]=function(){return this},u;function f(w){return function(E){return Promise.resolve(E).then(w,_)}}function p(w,E){l[w]&&(u[w]=function(O){return new Promise(function(j,k){d.push([w,O,j,k])>1||m(w,O)})},E&&(u[w]=E(u[w])))}function m(w,E){try{v(l[w](E))}catch(O){x(d[0][3],O)}}function v(w){w.value instanceof As?Promise.resolve(w.value.v).then(y,_):x(d[0][2],w)}function y(w){m("next",w)}function _(w){m("throw",w)}function x(w,E){w(E),d.shift(),d.length&&m(d[0][0],d[0][1])}}function Eg(r){var a,i;return a={},l("next"),l("throw",function(u){throw u}),l("return"),a[Symbol.iterator]=function(){return this},a;function l(u,d){a[u]=r[u]?function(f){return(i=!i)?{value:As(r[u](f)),done:!1}:d?d(f):f}:d}}function Tg(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r[Symbol.asyncIterator],i;return a?a.call(r):(r=typeof jl=="function"?jl(r):r[Symbol.iterator](),i={},l("next"),l("throw"),l("return"),i[Symbol.asyncIterator]=function(){return this},i);function l(d){i[d]=r[d]&&function(f){return new Promise(function(p,m){f=r[d](f),u(p,m,f.done,f.value)})}}function u(d,f,p,m){Promise.resolve(m).then(function(v){d({value:v,done:p})},f)}}function Ag(r,a){return Object.defineProperty?Object.defineProperty(r,"raw",{value:a}):r.raw=a,r}var M_=Object.create?(function(r,a){Object.defineProperty(r,"default",{enumerable:!0,value:a})}):function(r,a){r.default=a},xc=function(r){return xc=Object.getOwnPropertyNames||function(a){var i=[];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[i.length]=l);return i},xc(r)};function Og(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var i=xc(r),l=0;l<i.length;l++)i[l]!=="default"&&Ml(a,r,i[l]);return M_(a,r),a}function Cg(r){return r&&r.__esModule?r:{default:r}}function Ng(r,a,i,l){if(i==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?r!==a||!l:!a.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?l:i==="a"?l.call(r):l?l.value:a.get(r)}function Rg(r,a,i,l,u){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?r!==a||!u:!a.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?u.call(r,i):u?u.value=i:a.set(r,i),i}function kg(r,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?a===r:r.has(a)}function Ug(r,a,i){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var l,u;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=a[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=a[Symbol.dispose],i&&(u=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");u&&(l=function(){try{u.call(this)}catch(d){return Promise.reject(d)}}),r.stack.push({value:a,dispose:l,async:i})}else i&&r.stack.push({async:!0});return a}var D_=typeof SuppressedError=="function"?SuppressedError:function(r,a,i){var l=new Error(i);return l.name="SuppressedError",l.error=r,l.suppressed=a,l};function Mg(r){function a(d){r.error=r.hasError?new D_(d,r.error,"An error was suppressed during disposal."):d,r.hasError=!0}var i,l=0;function u(){for(;i=r.stack.pop();)try{if(!i.async&&l===1)return l=0,r.stack.push(i),Promise.resolve().then(u);if(i.dispose){var d=i.dispose.call(i.value);if(i.async)return l|=2,Promise.resolve(d).then(u,function(f){return a(f),u()})}else l|=1}catch(f){a(f)}if(l===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return u()}function Dg(r,a){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,l,u,d,f){return l?a?".jsx":".js":u&&(!d||!f)?i:u+d+"."+f.toLowerCase()+"js"}):r}const B_={__extends:dg,__assign:Sl,__rest:ks,__decorate:hg,__param:fg,__esDecorate:mg,__runInitializers:pg,__propKey:gg,__setFunctionName:vg,__metadata:yg,__awaiter:ne,__generator:bg,__createBinding:Ml,__exportStar:_g,__values:jl,__read:Yc,__spread:wg,__spreadArrays:xg,__spreadArray:Sg,__await:As,__asyncGenerator:jg,__asyncDelegator:Eg,__asyncValues:Tg,__makeTemplateObject:Ag,__importStar:Og,__importDefault:Cg,__classPrivateFieldGet:Ng,__classPrivateFieldSet:Rg,__classPrivateFieldIn:kg,__addDisposableResource:Ug,__disposeResources:Mg,__rewriteRelativeImportExtension:Dg},z_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Ug,get __assign(){return Sl},__asyncDelegator:Eg,__asyncGenerator:jg,__asyncValues:Tg,__await:As,__awaiter:ne,__classPrivateFieldGet:Ng,__classPrivateFieldIn:kg,__classPrivateFieldSet:Rg,__createBinding:Ml,__decorate:hg,__disposeResources:Mg,__esDecorate:mg,__exportStar:_g,__extends:dg,__generator:bg,__importDefault:Cg,__importStar:Og,__makeTemplateObject:Ag,__metadata:yg,__param:fg,__propKey:gg,__read:Yc,__rest:ks,__rewriteRelativeImportExtension:Dg,__runInitializers:pg,__setFunctionName:vg,__spread:wg,__spreadArray:Sg,__spreadArrays:xg,__values:jl,default:B_},Symbol.toStringTag,{value:"Module"})),q_=r=>r?(...a)=>r(...a):(...a)=>fetch(...a);let Dl=class extends Error{constructor(a,i="FunctionsError",l){super(a),this.name=i,this.context=l}},Bg=class extends Dl{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}},Sc=class extends Dl{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}},jc=class extends Dl{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}};var El;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(El||(El={}));class L_{constructor(a,{headers:i={},customFetch:l,region:u=El.Any}={}){this.url=a,this.headers=i,this.region=u,this.fetch=q_(l)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return ne(this,arguments,void 0,function*(i,l={}){var u;let d,f;try{const{headers:p,method:m,body:v,signal:y,timeout:_}=l;let x={},{region:w}=l;w||(w=this.region);const E=new URL(`${this.url}/${i}`);w&&w!=="any"&&(x["x-region"]=w,E.searchParams.set("forceFunctionRegion",w));let O;v&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",O=v):typeof v=="string"?(x["Content-Type"]="text/plain",O=v):typeof FormData<"u"&&v instanceof FormData?O=v:(x["Content-Type"]="application/json",O=JSON.stringify(v)):O=v;let j=y;_&&(f=new AbortController,d=setTimeout(()=>f.abort(),_),y?(j=f.signal,y.addEventListener("abort",()=>f.abort())):j=f.signal);const k=yield this.fetch(E.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),p),body:O,signal:j}).catch(X=>{throw new Bg(X)}),U=k.headers.get("x-relay-error");if(U&&U==="true")throw new Sc(k);if(!k.ok)throw new jc(k);let M=((u=k.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),Q;return M==="application/json"?Q=yield k.json():M==="application/octet-stream"||M==="application/pdf"?Q=yield k.blob():M==="text/event-stream"?Q=k:M==="multipart/form-data"?Q=yield k.formData():Q=yield k.text(),{data:Q,error:null,response:k}}catch(p){return{data:null,error:p,response:p instanceof jc||p instanceof Sc?p.context:void 0}}finally{d&&clearTimeout(d)}})}}const H_=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return El},FunctionsClient:L_,FunctionsError:Dl,FunctionsFetchError:Bg,FunctionsHttpError:jc,FunctionsRelayError:Sc},Symbol.toStringTag,{value:"Module"})),zg=zi(H_);var ft={};const Us=zi(z_);var ll={},ol={},ul={},cl={},dl={},hl={},bp;function qg(){if(bp)return hl;bp=1,Object.defineProperty(hl,"__esModule",{value:!0});class r extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return hl.default=r,hl}var _p;function Lg(){if(_p)return dl;_p=1,Object.defineProperty(dl,"__esModule",{value:!0});const a=Us.__importDefault(qg());let i=class{constructor(u){var d,f;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(d=u.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=u.signal,this.isMaybeSingle=(f=u.isMaybeSingle)!==null&&f!==void 0?f:!1,u.fetch?this.fetch=u.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=new Headers(this.headers),this.headers.set(u,d),this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,y,_,x;let w=null,E=null,O=null,j=m.status,k=m.statusText;if(m.ok){if(this.method!=="HEAD"){const X=await m.text();X===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?E=X:E=JSON.parse(X))}const M=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),Q=(_=m.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");M&&Q&&Q.length>1&&(O=parseInt(Q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(w={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,O=null,j=406,k="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const M=await m.text();try{w=JSON.parse(M),Array.isArray(w)&&m.status===404&&(E=[],w=null,j=200,k="OK")}catch{m.status===404&&M===""?(j=204,k="No Content"):w={message:M}}if(w&&this.isMaybeSingle&&(!((x=w?.details)===null||x===void 0)&&x.includes("0 rows"))&&(w=null,j=200,k="OK"),w&&this.shouldThrowOnError)throw new a.default(w)}return{error:w,data:E,count:O,status:j,statusText:k}});return this.shouldThrowOnError||(p=p.catch(m=>{var v,y,_,x,w,E;let O="";const j=m?.cause;if(j){const k=(v=j?.message)!==null&&v!==void 0?v:"",U=(y=j?.code)!==null&&y!==void 0?y:"";O=`${(_=m?.name)!==null&&_!==void 0?_:"FetchError"}: ${m?.message}`,O+=`

Caused by: ${(x=j?.name)!==null&&x!==void 0?x:"Error"}: ${k}`,U&&(O+=` (${U})`),j?.stack&&(O+=`
${j.stack}`)}else O=(w=m?.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(E=m?.name)!==null&&E!==void 0?E:"FetchError"}: ${m?.message}`,details:O,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),p.then(u,d)}returns(){return this}overrideTypes(){return this}};return dl.default=i,dl}var wp;function Hg(){if(wp)return cl;wp=1,Object.defineProperty(cl,"__esModule",{value:!0});const a=Us.__importDefault(Lg());let i=class extends a.default{select(u){let d=!1;const f=(u??"*").split("").map(p=>/\s/.test(p)&&!d?"":(p==='"'&&(d=!d),p)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:d=!0,nullsFirst:f,foreignTable:p,referencedTable:m=p}={}){const v=m?`${m}.order`:"order",y=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${y?`${y},`:""}${u}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${u}`),this}range(u,d,{foreignTable:f,referencedTable:p=f}={}){const m=typeof p>"u"?"offset":`${p}.offset`,v=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${u}`),this.url.searchParams.set(v,`${d-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:d=!1,settings:f=!1,buffers:p=!1,wal:m=!1,format:v="text"}={}){var y;const _=[u?"analyze":null,d?"verbose":null,f?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),x=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${x}"; options=${_};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}};return cl.default=i,cl}var xp;function Kc(){if(xp)return ul;xp=1,Object.defineProperty(ul,"__esModule",{value:!0});const a=Us.__importDefault(Hg()),i=new RegExp("[,()]");let l=class extends a.default{eq(d,f){return this.url.searchParams.append(d,`eq.${f}`),this}neq(d,f){return this.url.searchParams.append(d,`neq.${f}`),this}gt(d,f){return this.url.searchParams.append(d,`gt.${f}`),this}gte(d,f){return this.url.searchParams.append(d,`gte.${f}`),this}lt(d,f){return this.url.searchParams.append(d,`lt.${f}`),this}lte(d,f){return this.url.searchParams.append(d,`lte.${f}`),this}like(d,f){return this.url.searchParams.append(d,`like.${f}`),this}likeAllOf(d,f){return this.url.searchParams.append(d,`like(all).{${f.join(",")}}`),this}likeAnyOf(d,f){return this.url.searchParams.append(d,`like(any).{${f.join(",")}}`),this}ilike(d,f){return this.url.searchParams.append(d,`ilike.${f}`),this}ilikeAllOf(d,f){return this.url.searchParams.append(d,`ilike(all).{${f.join(",")}}`),this}ilikeAnyOf(d,f){return this.url.searchParams.append(d,`ilike(any).{${f.join(",")}}`),this}regexMatch(d,f){return this.url.searchParams.append(d,`match.${f}`),this}regexIMatch(d,f){return this.url.searchParams.append(d,`imatch.${f}`),this}is(d,f){return this.url.searchParams.append(d,`is.${f}`),this}isDistinct(d,f){return this.url.searchParams.append(d,`isdistinct.${f}`),this}in(d,f){const p=Array.from(new Set(f)).map(m=>typeof m=="string"&&i.test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(d,`in.(${p})`),this}contains(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cs.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cs.{${f.join(",")}}`):this.url.searchParams.append(d,`cs.${JSON.stringify(f)}`),this}containedBy(d,f){return typeof f=="string"?this.url.searchParams.append(d,`cd.${f}`):Array.isArray(f)?this.url.searchParams.append(d,`cd.{${f.join(",")}}`):this.url.searchParams.append(d,`cd.${JSON.stringify(f)}`),this}rangeGt(d,f){return this.url.searchParams.append(d,`sr.${f}`),this}rangeGte(d,f){return this.url.searchParams.append(d,`nxl.${f}`),this}rangeLt(d,f){return this.url.searchParams.append(d,`sl.${f}`),this}rangeLte(d,f){return this.url.searchParams.append(d,`nxr.${f}`),this}rangeAdjacent(d,f){return this.url.searchParams.append(d,`adj.${f}`),this}overlaps(d,f){return typeof f=="string"?this.url.searchParams.append(d,`ov.${f}`):this.url.searchParams.append(d,`ov.{${f.join(",")}}`),this}textSearch(d,f,{config:p,type:m}={}){let v="";m==="plain"?v="pl":m==="phrase"?v="ph":m==="websearch"&&(v="w");const y=p===void 0?"":`(${p})`;return this.url.searchParams.append(d,`${v}fts${y}.${f}`),this}match(d){return Object.entries(d).forEach(([f,p])=>{this.url.searchParams.append(f,`eq.${p}`)}),this}not(d,f,p){return this.url.searchParams.append(d,`not.${f}.${p}`),this}or(d,{foreignTable:f,referencedTable:p=f}={}){const m=p?`${p}.or`:"or";return this.url.searchParams.append(m,`(${d})`),this}filter(d,f,p){return this.url.searchParams.append(d,`${f}.${p}`),this}};return ul.default=l,ul}var Sp;function $g(){if(Sp)return ol;Sp=1,Object.defineProperty(ol,"__esModule",{value:!0});const a=Us.__importDefault(Kc());let i=class{constructor(u,{headers:d={},schema:f,fetch:p}){this.url=u,this.headers=new Headers(d),this.schema=f,this.fetch=p}select(u,d){const{head:f=!1,count:p}=d??{},m=f?"HEAD":"GET";let v=!1;const y=(u??"*").split("").map(_=>/\s/.test(_)&&!v?"":(_==='"'&&(v=!v),_)).join("");return this.url.searchParams.set("select",y),p&&this.headers.append("Prefer",`count=${p}`),new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:d,defaultToNull:f=!0}={}){var p;const m="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const v=u.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(v.length>0){const y=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new a.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(u,{onConflict:d,ignoreDuplicates:f=!1,count:p,defaultToNull:m=!0}={}){var v;const y="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),p&&this.headers.append("Prefer",`count=${p}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const _=u.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(_.length>0){const x=[...new Set(_)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new a.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(u,{count:d}={}){var f;const p="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:u}={}){var d;const f="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new a.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return ol.default=i,ol}var jp;function $_(){if(jp)return ll;jp=1,Object.defineProperty(ll,"__esModule",{value:!0});const r=Us,a=r.__importDefault($g()),i=r.__importDefault(Kc());let l=class Vg{constructor(d,{headers:f={},schema:p,fetch:m}={}){this.url=d,this.headers=new Headers(f),this.schemaName=p,this.fetch=m}from(d){if(!d||typeof d!="string"||d.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const f=new URL(`${this.url}/${d}`);return new a.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new Vg(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:p=!1,get:m=!1,count:v}={}){var y;let _;const x=new URL(`${this.url}/rpc/${d}`);let w;p||m?(_=p?"HEAD":"GET",Object.entries(f).filter(([O,j])=>j!==void 0).map(([O,j])=>[O,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([O,j])=>{x.searchParams.append(O,j)})):(_="POST",w=f);const E=new Headers(this.headers);return v&&E.set("Prefer",`count=${v}`),new i.default({method:_,url:x,headers:E,schema:this.schemaName,body:w,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}};return ll.default=l,ll}var Ep;function Gg(){if(Ep)return ft;Ep=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.PostgrestError=ft.PostgrestBuilder=ft.PostgrestTransformBuilder=ft.PostgrestFilterBuilder=ft.PostgrestQueryBuilder=ft.PostgrestClient=void 0;const r=Us,a=r.__importDefault($_());ft.PostgrestClient=a.default;const i=r.__importDefault($g());ft.PostgrestQueryBuilder=i.default;const l=r.__importDefault(Kc());ft.PostgrestFilterBuilder=l.default;const u=r.__importDefault(Hg());ft.PostgrestTransformBuilder=u.default;const d=r.__importDefault(Lg());ft.PostgrestBuilder=d.default;const f=r.__importDefault(qg());return ft.PostgrestError=f.default,ft.default={PostgrestClient:a.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:d.default,PostgrestError:f.default},ft}class Pg{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const l=i.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let i=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(i+=`

Suggested solution: ${a.workaround}`),new Error(i)}static createWebSocket(a,i){const l=this.getWebSocketConstructor();return new l(a,i)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const V_="2.87.1",G_=`realtime-js/${V_}`,Qg="1.0.0",P_="2.0.0",Tp=Qg,Ec=1e4,Q_=1e3,Y_=100;var Ra;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Ra||(Ra={}));var et;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(et||(et={}));var tn;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(tn||(tn={}));var Tc;(function(r){r.websocket="websocket"})(Tc||(Tc={}));var ka;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ka||(ka={}));class K_{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,i){if(a.event===this.BROADCAST_EVENT&&!(a.payload instanceof ArrayBuffer)&&typeof a.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(a));let l=[a.join_ref,a.ref,a.topic,a.event,a.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(a){var i;return this._isArrayBuffer((i=a.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var i,l;const u=(l=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(a){var i,l;const u=(l=(i=a.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(a,i,l){var u,d;const f=a.topic,p=(u=a.ref)!==null&&u!==void 0?u:"",m=(d=a.join_ref)!==null&&d!==void 0?d:"",v=a.payload.event,y=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},_=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+f.length+v.length+_.length,w=new ArrayBuffer(this.HEADER_LENGTH+x);let E=new DataView(w),O=0;E.setUint8(O++,this.KINDS.userBroadcastPush),E.setUint8(O++,m.length),E.setUint8(O++,p.length),E.setUint8(O++,f.length),E.setUint8(O++,v.length),E.setUint8(O++,_.length),E.setUint8(O++,i),Array.from(m,k=>E.setUint8(O++,k.charCodeAt(0))),Array.from(p,k=>E.setUint8(O++,k.charCodeAt(0))),Array.from(f,k=>E.setUint8(O++,k.charCodeAt(0))),Array.from(v,k=>E.setUint8(O++,k.charCodeAt(0))),Array.from(_,k=>E.setUint8(O++,k.charCodeAt(0)));var j=new Uint8Array(w.byteLength+l.byteLength);return j.set(new Uint8Array(w),0),j.set(new Uint8Array(l),w.byteLength),j.buffer}decode(a,i){if(this._isArrayBuffer(a)){let l=this._binaryDecode(a);return i(l)}if(typeof a=="string"){const l=JSON.parse(a),[u,d,f,p,m]=l;return i({join_ref:u,ref:d,topic:f,event:p,payload:m})}return i({})}_binaryDecode(a){const i=new DataView(a),l=i.getUint8(0),u=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(a,i,u)}}_decodeUserBroadcast(a,i,l){const u=i.getUint8(1),d=i.getUint8(2),f=i.getUint8(3),p=i.getUint8(4);let m=this.HEADER_LENGTH+4;const v=l.decode(a.slice(m,m+u));m=m+u;const y=l.decode(a.slice(m,m+d));m=m+d;const _=l.decode(a.slice(m,m+f));m=m+f;const x=a.slice(m,a.byteLength),w=p===this.JSON_ENCODING?JSON.parse(l.decode(x)):x,E={type:this.BROADCAST_EVENT,event:y,payload:w};return f>0&&(E.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(a){var i;return a instanceof ArrayBuffer||((i=a?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(a,i){return!a||typeof a!="object"?{}:Object.fromEntries(Object.entries(a).filter(([l])=>i.includes(l)))}}class Yg{constructor(a,i){this.callback=a,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(He||(He={}));const Ap=(r,a,i={})=>{var l;const u=(l=i.skipTypes)!==null&&l!==void 0?l:[];return a?Object.keys(a).reduce((d,f)=>(d[f]=J_(f,r,a,u),d),{}):{}},J_=(r,a,i,l)=>{const u=a.find(p=>p.name===r),d=u?.type,f=i[r];return d&&!l.includes(d)?Kg(d,f):Ac(f)},Kg=(r,a)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return W_(a,i)}switch(r){case He.bool:return X_(a);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return I_(a);case He.json:case He.jsonb:return Z_(a);case He.timestamp:return F_(a);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return Ac(a);default:return Ac(a)}},Ac=r=>r,X_=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},I_=r=>{if(typeof r=="string"){const a=parseFloat(r);if(!Number.isNaN(a))return a}return r},Z_=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(a){return console.log(`JSON parse error: ${a}`),r}return r},W_=(r,a)=>{if(typeof r!="string")return r;const i=r.length-1,l=r[i];if(r[0]==="{"&&l==="}"){let d;const f=r.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(p=>Kg(a,p))}return r},F_=r=>typeof r=="string"?r.replace(" ","T"):r,Jg=r=>{const a=new URL(r);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class dc{constructor(a,i,l={},u=Ec){this.channel=a,this.event=i,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,i){var l;return this._hasReceived(a)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:a,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:i}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(i))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Oc;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Oc||(Oc={}));let Xg=class yl{constructor(a,i){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yl.syncState(this.state,u,d,f),this.pendingDiffs.forEach(m=>{this.state=yl.syncDiff(this.state,m,d,f)}),this.pendingDiffs=[],p()}),this.channel._on(l.diff,{},u=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=yl.syncDiff(this.state,u,d,f),p())}),this.onJoin((u,d,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:f})}),this.onLeave((u,d,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,i,l,u){const d=this.cloneDeep(a),f=this.transformState(i),p={},m={};return this.map(d,(v,y)=>{f[v]||(m[v]=y)}),this.map(f,(v,y)=>{const _=d[v];if(_){const x=y.map(j=>j.presence_ref),w=_.map(j=>j.presence_ref),E=y.filter(j=>w.indexOf(j.presence_ref)<0),O=_.filter(j=>x.indexOf(j.presence_ref)<0);E.length>0&&(p[v]=E),O.length>0&&(m[v]=O)}else p[v]=y}),this.syncDiff(d,{joins:p,leaves:m},l,u)}static syncDiff(a,i,l,u){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(d,(p,m)=>{var v;const y=(v=a[p])!==null&&v!==void 0?v:[];if(a[p]=this.cloneDeep(m),y.length>0){const _=a[p].map(w=>w.presence_ref),x=y.filter(w=>_.indexOf(w.presence_ref)<0);a[p].unshift(...x)}l(p,y,m)}),this.map(f,(p,m)=>{let v=a[p];if(!v)return;const y=m.map(_=>_.presence_ref);v=v.filter(_=>y.indexOf(_.presence_ref)<0),a[p]=v,u(p,v,m),v.length===0&&delete a[p]}),a}static map(a,i){return Object.getOwnPropertyNames(a).map(l=>i(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((i,l)=>{const u=a[l];return"metas"in u?i[l]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[l]=u,i},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Cc;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Cc||(Cc={}));var Es;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Es||(Es={}));var on;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(on||(on={}));const e2=et;let Ig=class Ri{constructor(a,i={config:{}},l){var u,d;if(this.topic=a,this.params=i,this.socket=l,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new dc(this,tn.join,this.params,this.timeout),this.rejoinTimer=new Yg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new Xg(this),this.broadcastEndpointURL=Jg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,i=this.timeout){var l,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==et.closed){const{config:{broadcast:f,presence:p,private:m}}=this.params,v=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(w=>w.filter))!==null&&u!==void 0?u:[],y=!!this.bindings[Es.PRESENCE]&&this.bindings[Es.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,_={},x={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(w=>a?.(on.CHANNEL_ERROR,w)),this._onClose(()=>a?.(on.CLOSED)),this.updateJoinPayload(Object.assign({config:x},_)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:w})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){a?.(on.SUBSCRIBED);return}else{const O=this.bindings.postgres_changes,j=(E=O?.length)!==null&&E!==void 0?E:0,k=[];for(let U=0;U<j;U++){const M=O[U],{filter:{event:Q,schema:X,table:W,filter:K}}=M,F=w&&w[U];if(F&&F.event===Q&&Ri.isFilterValueEqual(F.schema,X)&&Ri.isFilterValueEqual(F.table,W)&&Ri.isFilterValueEqual(F.filter,K))k.push(Object.assign(Object.assign({},M),{id:F.id}));else{this.unsubscribe(),this.state=et.errored,a?.(on.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,a&&a(on.SUBSCRIBED);return}}).receive("error",w=>{this.state=et.errored,a?.(on.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{a?.(on.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,i={}){return await this.send({type:"presence",event:"track",payload:a},i.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,i,l){return this.state===et.joined&&a===Es.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,i,l)}async httpSend(a,i,l={}){var u;const d=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:d,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const v=await p.json();m=v.error||v.message||m}catch{}return Promise.reject(new Error(m))}async send(a,i={}){var l,u;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=a,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=v.body)===null||u===void 0?void 0:u.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,p,m;const v=this._push(a.type,a,i.timeout||this.timeout);a.type==="broadcast"&&!(!((m=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&d("ok"),v.receive("ok",()=>d("ok")),v.receive("error",()=>d("error")),v.receive("timeout",()=>d("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=et.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new dc(this,tn.leave,{},a),l.receive("ok",()=>{i(),u("ok")}).receive("timeout",()=>{i(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=et.closed,this.bindings={}}async _fetchWithTimeout(a,i,l){const u=new AbortController,d=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(a,Object.assign(Object.assign({},i),{signal:u.signal}));return clearTimeout(d),f}_push(a,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new dc(this,a,i,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>Y_){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(a,i,l){return i}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,i,l){var u,d;const f=a.toLocaleLowerCase(),{close:p,error:m,leave:v,join:y}=tn;if(l&&[p,m,v,y].indexOf(f)>=0&&l!==this._joinRef())return;let x=this._onMessage(f,i,l);if(i&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(w=>{var E,O,j;return((E=w.filter)===null||E===void 0?void 0:E.event)==="*"||((j=(O=w.filter)===null||O===void 0?void 0:O.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===f}).map(w=>w.callback(x,l)):(d=this.bindings[f])===null||d===void 0||d.filter(w=>{var E,O,j,k,U,M;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in w){const Q=w.id,X=(E=w.filter)===null||E===void 0?void 0:E.event;return Q&&((O=i.ids)===null||O===void 0?void 0:O.includes(Q))&&(X==="*"||X?.toLocaleLowerCase()===((j=i.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const Q=(U=(k=w?.filter)===null||k===void 0?void 0:k.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return Q==="*"||Q===((M=i?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===f}).map(w=>{if(typeof x=="object"&&"ids"in x){const E=x.data,{schema:O,table:j,commit_timestamp:k,type:U,errors:M}=E;x=Object.assign(Object.assign({},{schema:O,table:j,commit_timestamp:k,eventType:U,new:{},old:{},errors:M}),this._getPayloadRecords(E))}w.callback(x,l)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,i,l){const u=a.toLocaleLowerCase(),d={type:u,filter:i,callback:l};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(a,i){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&Ri.isEqual(u.filter,i))})),this}static isEqual(a,i){if(Object.keys(a).length!==Object.keys(i).length)return!1;for(const l in a)if(a[l]!==i[l])return!1;return!0}static isFilterValueEqual(a,i){return(a??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(tn.close,{},a)}_onError(a){this._on(tn.error,{},i=>a(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const i={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(i.new=Ap(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(i.old=Ap(a.columns,a.old_record)),i}};const hc=()=>{},fl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},t2=[1e3,2e3,5e3,1e4],n2=1e4,a2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let s2=class{constructor(a,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ec,this.transport=null,this.heartbeatIntervalMs=fl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hc,this.ref=0,this.reconnectTimer=null,this.vsn=Tp,this.logger=hc,this.conn=null,this.sendBuffer=[],this.serializer=new K_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${a}/${Tc.websocket}`,this.httpEndpoint=Jg(a),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pg.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const i=a.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(a?this.conn.close(a,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const i=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const a=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,i,l){this.logger(a,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Ra.connecting:return ka.Connecting;case Ra.open:return ka.Open;case Ra.closing:return ka.Closing;default:return ka.Closed}}isConnected(){return this.connectionState()===ka.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,i={config:{}}){const l=`realtime:${a}`,u=this.getChannels().find(d=>d.topic===l);if(u)return u;{const d=new Ig(`realtime:${a}`,i,this);return this.channels.push(d),d}}push(a){const{topic:i,event:l,payload:u,ref:d}=a,f=()=>{this.encode(a,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${i} ${l} (${d})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Q_,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},fl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let i=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${a}"`),i.unsubscribe())}_remove(a){this.channels=this.channels.filter(i=>i.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:u,payload:d,ref:f}=i,p=f?`(${f})`:"",m=d.status||"";this.log("receive",`${m} ${l} ${u} ${p}`.trim(),d),this.channels.filter(v=>v._isMember(l)).forEach(v=>v._trigger(u,d,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(a){var i;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ra.open||this.conn.readyState===Ra.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var i;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(tn.error))}_appendParams(a,i){if(Object.keys(i).length===0)return a;const l=a.match(/\?/)?"&":"?",u=new URLSearchParams(i);return`${a}${l}${u}`}_workerObjectUrl(a){let i;if(a)i=a;else{const l=new Blob([a2],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(a,i=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(a=null){let i,l=!1;if(a)i=a,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(u=>{const d={access_token:i,version:G_};i&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(tn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${a}`,i)})}_triggerStateCallbacks(a,i){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(i)}catch(u){this.log("error",`error in ${a} callback`,u)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Yg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var i,l,u,d,f,p,m,v,y,_,x,w;switch(this.transport=(i=a?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=a?.timeout)!==null&&l!==void 0?l:Ec,this.heartbeatIntervalMs=(u=a?.heartbeatIntervalMs)!==null&&u!==void 0?u:fl.HEARTBEAT_INTERVAL,this.worker=(d=a?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=a?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=a?.heartbeatCallback)!==null&&p!==void 0?p:hc,this.vsn=(m=a?.vsn)!==null&&m!==void 0?m:Tp,a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=a?.reconnectAfterMs)!==null&&v!==void 0?v:(E=>t2[E-1]||n2),this.vsn){case Qg:this.encode=(y=a?.encode)!==null&&y!==void 0?y:((E,O)=>O(JSON.stringify(E))),this.decode=(_=a?.decode)!==null&&_!==void 0?_:((E,O)=>O(JSON.parse(E)));break;case P_:this.encode=(x=a?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(w=a?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}};const i2=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:e2,get REALTIME_LISTEN_TYPES(){return Es},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Cc},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Oc},get REALTIME_SUBSCRIBE_STATES(){return on},RealtimeChannel:Ig,RealtimeClient:s2,RealtimePresence:Xg,WebSocketFactory:Pg},Symbol.toStringTag,{value:"Module"})),Zg=zi(i2);class Hi extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Pe(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Wg extends Hi{constructor(a,i,l){super(a),this.name="StorageApiError",this.status=i,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tl extends Hi{constructor(a,i){super(a),this.name="StorageUnknownError",this.originalError=i}}const Jc=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),r2=()=>Response,Nc=r=>{if(Array.isArray(r))return r.map(i=>Nc(i));if(typeof r=="function"||r!==Object(r))return r;const a={};return Object.entries(r).forEach(([i,l])=>{const u=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));a[u]=Nc(l)}),a},l2=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},o2=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r),fc=r=>{var a;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(a=r.error)===null||a===void 0?void 0:a.message)||JSON.stringify(r)},u2=(r,a,i)=>ne(void 0,void 0,void 0,function*(){const l=yield r2();r instanceof l&&!i?.noResolveJson?r.json().then(u=>{const d=r.status||500,f=u?.statusCode||d+"";a(new Wg(fc(u),d,f))}).catch(u=>{a(new Tl(fc(u),u))}):a(new Tl(fc(r),r))}),c2=(r,a,i,l)=>{const u={method:r,headers:a?.headers||{}};return r==="GET"||!l?u:(l2(l)?(u.headers=Object.assign({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(l)):u.body=l,a?.duplex&&(u.duplex=a.duplex),Object.assign(Object.assign({},u),i))};function $i(r,a,i,l,u,d){return ne(this,void 0,void 0,function*(){return new Promise((f,p)=>{r(i,c2(a,l,u,d)).then(m=>{if(!m.ok)throw m;return l?.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>u2(m,p,l))})})}function Di(r,a,i,l){return ne(this,void 0,void 0,function*(){return $i(r,"GET",a,i,l)})}function en(r,a,i,l,u){return ne(this,void 0,void 0,function*(){return $i(r,"POST",a,l,u,i)})}function Rc(r,a,i,l,u){return ne(this,void 0,void 0,function*(){return $i(r,"PUT",a,l,u,i)})}function d2(r,a,i,l){return ne(this,void 0,void 0,function*(){return $i(r,"HEAD",a,Object.assign(Object.assign({},i),{noResolveJson:!0}),l)})}function Xc(r,a,i,l,u){return ne(this,void 0,void 0,function*(){return $i(r,"DELETE",a,l,u,i)})}class h2{constructor(a,i){this.downloadFn=a,this.shouldThrowOnError=i}then(a,i){return this.execute().then(a,i)}execute(){return ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}})}}var Fg;class f2{constructor(a,i){this.downloadFn=a,this.shouldThrowOnError=i,this[Fg]="BlobDownloadBuilder",this.promise=null}asStream(){return new h2(this.downloadFn,this.shouldThrowOnError)}then(a,i){return this.getPromise().then(a,i)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}})}}Fg=Symbol.toStringTag;const m2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Op={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class p2{constructor(a,i={},l,u){this.shouldThrowOnError=!1,this.url=a,this.headers=i,this.bucketId=l,this.fetch=Jc(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,i,l,u){return ne(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},Op),u);let p=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),m&&d.append("metadata",this.encodeMetadata(m)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),m&&!d.has("metadata")&&d.append("metadata",this.encodeMetadata(m))):(d=l,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),u?.headers&&(p=Object.assign(Object.assign({},p),u.headers));const v=this._removeEmptyFolders(i),y=this._getFinalPath(v),_=yield(a=="PUT"?Rc:en)(this.fetch,`${this.url}/object/${y}`,d,Object.assign({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:v,id:_.Id,fullPath:_.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Pe(d))return{data:null,error:d};throw d}})}upload(a,i,l){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,i,l)})}uploadToSignedUrl(a,i,l,u){return ne(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(a),f=this._getFinalPath(d),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",i);try{let m;const v=Object.assign({upsert:Op.upsert},u),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&l instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",l)):typeof FormData<"u"&&l instanceof FormData?(m=l,m.append("cacheControl",v.cacheControl)):(m=l,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType);const _=yield Rc(this.fetch,p.toString(),m,{headers:y});return{data:{path:d,fullPath:_.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Pe(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(a,i){return ne(this,void 0,void 0,function*(){try{let l=this._getFinalPath(a);const u=Object.assign({},this.headers);i?.upsert&&(u["x-upsert"]="true");const d=yield en(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(this.url+d.url),p=f.searchParams.get("token");if(!p)throw new Hi("No token returned by API");return{data:{signedUrl:f.toString(),path:a,token:p},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}update(a,i,l){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,i,l)})}move(a,i,l){return ne(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:i,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}copy(a,i,l){return ne(this,void 0,void 0,function*(){try{return{data:{path:(yield en(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:i,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}createSignedUrl(a,i,l){return ne(this,void 0,void 0,function*(){try{let u=this._getFinalPath(a),d=yield en(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:i},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const f=l?.download?`&download=${l.download===!0?"":l.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}createSignedUrls(a,i,l){return ne(this,void 0,void 0,function*(){try{const u=yield en(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:a},{headers:this.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}download(a,i){const u=typeof i?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(i?.transform||{}),f=d?`?${d}`:"",p=this._getFinalPath(a),m=()=>Di(this.fetch,`${this.url}/${u}/${p}${f}`,{headers:this.headers,noResolveJson:!0});return new f2(m,this.shouldThrowOnError)}info(a){return ne(this,void 0,void 0,function*(){const i=this._getFinalPath(a);try{const l=yield Di(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Nc(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}exists(a){return ne(this,void 0,void 0,function*(){const i=this._getFinalPath(a);try{return yield d2(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l)&&l instanceof Tl){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(a,i){const l=this._getFinalPath(a),u=[],d=i?.download?`download=${i.download===!0?"":i.download}`:"";d!==""&&u.push(d);const p=typeof i?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(i?.transform||{});m!==""&&u.push(m);let v=u.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${l}${v}`)}}}remove(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}list(a,i,l){return ne(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},m2),i),{prefix:a||""});return{data:yield en(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},l),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}listV2(a,i){return ne(this,void 0,void 0,function*(){try{const l=Object.assign({},a);return{data:yield en(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const i=[];return a.width&&i.push(`width=${a.width}`),a.height&&i.push(`height=${a.height}`),a.resize&&i.push(`resize=${a.resize}`),a.format&&i.push(`format=${a.format}`),a.quality&&i.push(`quality=${a.quality}`),i.join("&")}}const ev="2.87.1",tv={"X-Client-Info":`storage-js/${ev}`};class g2{constructor(a,i={},l,u){this.shouldThrowOnError=!1;const d=new URL(a);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tv),i),this.fetch=Jc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return ne(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(a);return{data:yield Di(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}getBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Di(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}createBucket(a){return ne(this,arguments,void 0,function*(i,l={public:!1}){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}updateBucket(a,i){return ne(this,void 0,void 0,function*(){try{return{data:yield Rc(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Pe(l))return{data:null,error:l};throw l}})}emptyBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}deleteBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(a){const i={};return a&&("limit"in a&&(i.limit=String(a.limit)),"offset"in a&&(i.offset=String(a.offset)),a.search&&(i.search=a.search),a.sortColumn&&(i.sortColumn=a.sortColumn),a.sortOrder&&(i.sortOrder=a.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var Bi=class extends Error{constructor(r,a){super(r),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown=a.icebergType==="CommitStateUnknownException"||[500,502,504].includes(a.status)&&a.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function v2(r,a,i){const l=new URL(a,r);if(i)for(const[u,d]of Object.entries(i))d!==void 0&&l.searchParams.set(u,d);return l.toString()}async function y2(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function b2(r){const a=r.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:u,body:d,headers:f}){const p=v2(r.baseUrl,l,u),m=await y2(r.auth),v=await a(p,{method:i,headers:{...d?{"Content-Type":"application/json"}:{},...m,...f},body:d?JSON.stringify(d):void 0}),y=await v.text(),_=(v.headers.get("content-type")||"").includes("application/json"),x=_&&y?JSON.parse(y):y;if(!v.ok){const w=_?x:void 0,E=w?.error;throw new Bi(E?.message??`Request failed with status ${v.status}`,{status:v.status,icebergType:E?.type,icebergCode:E?.code,details:w})}return{status:v.status,headers:v.headers,data:x}}}}function ml(r){return r.join("")}var _2=class{constructor(r,a=""){this.client=r,this.prefix=a}async listNamespaces(r){const a=r?{parent:ml(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:a})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,a){const i={namespace:r.namespace,properties:a?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ml(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ml(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ml(r.namespace)}`}),!0}catch(a){if(a instanceof Bi&&a.status===404)return!1;throw a}}async createNamespaceIfNotExists(r,a){try{return await this.createNamespace(r,a)}catch(i){if(i instanceof Bi&&i.status===409)return;throw i}}};function bs(r){return r.join("")}var w2=class{constructor(r,a="",i){this.client=r,this.prefix=a,this.accessDelegation=i}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bs(r.namespace)}/tables`})).data.identifiers}async createTable(r,a){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bs(r.namespace)}/tables`,body:a,headers:i})).data.metadata}async updateTable(r,a){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${bs(r.namespace)}/tables/${r.name}`,body:a});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(r,a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bs(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(a?.purge??!1)}})}async loadTable(r){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bs(r.namespace)}/tables/${r.name}`,headers:a})).data.metadata}async tableExists(r){const a={};this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bs(r.namespace)}/tables/${r.name}`,headers:a}),!0}catch(i){if(i instanceof Bi&&i.status===404)return!1;throw i}}async createTableIfNotExists(r,a){try{return await this.createTable(r,a)}catch(i){if(i instanceof Bi&&i.status===409)return await this.loadTable({namespace:r.namespace,name:a.name});throw i}}},x2=class{constructor(r){let a="v1";r.catalogName&&(a+=`/${r.catalogName}`);const i=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=b2({baseUrl:i,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new _2(this.client,a),this.tableOps=new w2(this.client,a,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,a){return this.namespaceOps.createNamespace(r,a)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,a){return this.tableOps.createTable(r,a)}async updateTable(r,a){return this.tableOps.updateTable(r,a)}async dropTable(r,a){await this.tableOps.dropTable(r,a)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,a){return this.namespaceOps.createNamespaceIfNotExists(r,a)}async createTableIfNotExists(r,a){return this.tableOps.createTableIfNotExists(r,a)}};class nv{constructor(a,i={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tv),i),this.fetch=Jc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}listBuckets(a){return ne(this,void 0,void 0,function*(){try{const i=new URLSearchParams;a?.limit!==void 0&&i.set("limit",a.limit.toString()),a?.offset!==void 0&&i.set("offset",a.offset.toString()),a?.sortColumn&&i.set("sortColumn",a.sortColumn),a?.sortOrder&&i.set("sortOrder",a.sortOrder),a?.search&&i.set("search",a.search);const l=i.toString(),u=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield Di(this.fetch,u,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}deleteBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Xc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}from(a){if(!o2(a))throw new Hi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new x2({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>ne(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(d,f){const p=d[f];return typeof p!="function"?p:(...m)=>ne(this,void 0,void 0,function*(){try{return{data:yield p.apply(d,m),error:null}}catch(v){if(l)throw v;return{data:null,error:v}}})}})}}const Ic={"X-Client-Info":`storage-js/${ev}`,"Content-Type":"application/json"};class Zc extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function jt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class bl extends Zc{constructor(a,i,l){super(a),this.name="StorageVectorsApiError",this.status=i,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class av extends Zc{constructor(a,i){super(a),this.name="StorageVectorsUnknownError",this.originalError=i}}var kc;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(kc||(kc={}));const Bl=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),S2=()=>Response,sv=r=>{if(typeof r!="object"||r===null)return!1;const a=Object.getPrototypeOf(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},j2=r=>Array.from(new Float32Array(r)),E2=(r,a)=>{if(a!==void 0&&r.float32.length!==a)throw new Error(`Vector dimension mismatch: expected ${a}, got ${r.float32.length}`)},Cp=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),T2=(r,a,i)=>ne(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!i?.noResolveJson){const u=r.status||500,d=r;if(typeof d.json=="function")d.json().then(f=>{const p=f?.statusCode||f?.code||u+"";a(new bl(Cp(f),u,p))}).catch(()=>{const f=u+"",p=d.statusText||`HTTP ${u} error`;a(new bl(p,u,f))});else{const f=u+"",p=d.statusText||`HTTP ${u} error`;a(new bl(p,u,f))}}else a(new av(Cp(r),r))}),A2=(r,a,i,l)=>{const u={method:r,headers:a?.headers||{}};return l?(sv(l)?(u.headers=Object.assign({"Content-Type":"application/json"},a?.headers),u.body=JSON.stringify(l)):u.body=l,Object.assign(Object.assign({},u),i)):u};function O2(r,a,i,l,u,d){return ne(this,void 0,void 0,function*(){return new Promise((f,p)=>{r(i,A2(a,l,u,d)).then(m=>{if(!m.ok)throw m;if(l?.noResolveJson)return m;const v=m.headers.get("content-type");return!v||!v.includes("application/json")?{}:m.json()}).then(m=>f(m)).catch(m=>T2(m,p,l))})})}function Dt(r,a,i,l,u){return ne(this,void 0,void 0,function*(){return O2(r,"POST",a,l,u,i)})}class iv{constructor(a,i={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ic),i),this.fetch=Bl(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return ne(this,void 0,void 0,function*(){try{return{data:(yield Dt(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}getIndex(a,i){return ne(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:i},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}})}listIndexes(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}deleteIndex(a,i){return ne(this,void 0,void 0,function*(){try{return{data:(yield Dt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:i},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}})}}class rv{constructor(a,i={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ic),i),this.fetch=Bl(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return ne(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Dt(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}getVectors(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}listVectors(a){return ne(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield Dt(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}queryVectors(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}deleteVectors(a){return ne(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Dt(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}}class lv{constructor(a,i={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ic),i),this.fetch=Bl(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:(yield Dt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}getBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}listBuckets(){return ne(this,arguments,void 0,function*(a={}){try{return{data:yield Dt(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}deleteBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:(yield Dt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(jt(i))return{data:null,error:i};throw i}})}}class ov extends lv{constructor(a,i={}){super(a,i.headers||{},i.fetch)}from(a){return new uv(this.url,this.headers,a,this.fetch)}createBucket(a){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ne(this,void 0,void 0,function*(){return i.createBucket.call(this,a)})}getBucket(a){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ne(this,void 0,void 0,function*(){return i.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ne(this,arguments,void 0,function*(i={}){return a.listBuckets.call(this,i)})}deleteBucket(a){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ne(this,void 0,void 0,function*(){return i.deleteBucket.call(this,a)})}}class uv extends iv{constructor(a,i,l,u){super(a,i,u),this.vectorBucketName=l}createIndex(a){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ne(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ne(this,arguments,void 0,function*(i={}){return a.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ne(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ne(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new cv(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class cv extends rv{constructor(a,i,l,u,d){super(a,i,d),this.vectorBucketName=l,this.indexName=u}putVectors(a){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ne(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ne(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ne(this,arguments,void 0,function*(i={}){return a.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ne(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ne(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class C2 extends g2{constructor(a,i={},l,u){super(a,i,l,u)}from(a){return new p2(this.url,this.headers,a,this.fetch)}get vectors(){return new ov(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nv(this.url+"/iceberg",this.headers,this.fetch)}}const N2=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:nv,StorageApiError:Wg,StorageClient:C2,StorageError:Hi,StorageUnknownError:Tl,StorageVectorsApiError:bl,StorageVectorsClient:ov,StorageVectorsError:Zc,get StorageVectorsErrorCode(){return kc},StorageVectorsUnknownError:av,VectorBucketApi:lv,VectorBucketScope:uv,VectorDataApi:rv,VectorIndexApi:iv,VectorIndexScope:cv,isPlainObject:sv,isStorageError:Pe,isStorageVectorsError:jt,normalizeToFloat32:j2,resolveFetch:Bl,resolveResponse:S2,validateVectorDimension:E2},Symbol.toStringTag,{value:"Module"})),R2=zi(N2);var mc={},Ci={},Np;function k2(){return Np||(Np=1,Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.version=void 0,Ci.version="2.87.1"),Ci}var Rp;function U2(){return Rp||(Rp=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_REALTIME_OPTIONS=r.DEFAULT_AUTH_OPTIONS=r.DEFAULT_DB_OPTIONS=r.DEFAULT_GLOBAL_OPTIONS=r.DEFAULT_HEADERS=void 0;const a=k2();let i="";typeof Deno<"u"?i="deno":typeof document<"u"?i="web":typeof navigator<"u"&&navigator.product==="ReactNative"?i="react-native":i="node",r.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${i}/${a.version}`},r.DEFAULT_GLOBAL_OPTIONS={headers:r.DEFAULT_HEADERS},r.DEFAULT_DB_OPTIONS={schema:"public"},r.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},r.DEFAULT_REALTIME_OPTIONS={}})(mc)),mc}var pc={},kp;function M2(){return kp||(kp=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.fetchWithAuth=r.resolveHeadersConstructor=r.resolveFetch=void 0;const a=u=>u?(...d)=>u(...d):(...d)=>fetch(...d);r.resolveFetch=a;const i=()=>Headers;r.resolveHeadersConstructor=i;const l=(u,d,f)=>{const p=(0,r.resolveFetch)(f),m=(0,r.resolveHeadersConstructor)();return async(v,y)=>{var _;const x=(_=await d())!==null&&_!==void 0?_:u;let w=new m(y?.headers);return w.has("apikey")||w.set("apikey",u),w.has("Authorization")||w.set("Authorization",`Bearer ${x}`),p(v,Object.assign(Object.assign({},y),{headers:w}))}};r.fetchWithAuth=l})(pc)),pc}var Nn={},Up;function D2(){if(Up)return Nn;Up=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.isBrowser=void 0,Nn.uuid=r,Nn.ensureTrailingSlash=a,Nn.applySettingDefaults=l,Nn.validateSupabaseUrl=u;function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var f=Math.random()*16|0,p=d=="x"?f:f&3|8;return p.toString(16)})}function a(d){return d.endsWith("/")?d:d+"/"}const i=()=>typeof window<"u";Nn.isBrowser=i;function l(d,f){var p,m;const{db:v,auth:y,realtime:_,global:x}=d,{db:w,auth:E,realtime:O,global:j}=f,k={db:Object.assign(Object.assign({},w),v),auth:Object.assign(Object.assign({},E),y),realtime:Object.assign(Object.assign({},O),_),storage:{},global:Object.assign(Object.assign(Object.assign({},j),x),{headers:Object.assign(Object.assign({},(p=j?.headers)!==null&&p!==void 0?p:{}),(m=x?.headers)!==null&&m!==void 0?m:{})}),accessToken:async()=>""};return d.accessToken?k.accessToken=d.accessToken:delete k.accessToken,k}function u(d){const f=d?.trim();if(!f)throw new Error("supabaseUrl is required.");if(!f.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(a(f))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Nn}var Ni={};const dv="2.87.1",Ss=30*1e3,Uc=3,gc=Uc*Ss,B2="http://localhost:9999",z2="supabase.auth.token",q2={"X-Client-Info":`gotrue-js/${dv}`},Mc="X-Supabase-Api-Version",hv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},L2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H2=600*1e3;let Os=class extends Error{constructor(a,i,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}};function oe(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}let fv=class extends Os{constructor(a,i,l){super(a,i,l),this.name="AuthApiError",this.status=i,this.code=l}};function mv(r){return oe(r)&&r.name==="AuthApiError"}let ia=class extends Os{constructor(a,i){super(a),this.name="AuthUnknownError",this.originalError=i}},Un=class extends Os{constructor(a,i,l,u){super(a,l,u),this.name=i,this.status=l}},St=class extends Un{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function pv(r){return oe(r)&&r.name==="AuthSessionMissingError"}let Oa=class extends Un{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ki=class extends Un{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}},Ui=class extends Un{constructor(a,i=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function gv(r){return oe(r)&&r.name==="AuthImplicitGrantRedirectError"}let Dc=class extends Un{constructor(a,i=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Al=class extends Un{constructor(a,i){super(a,"AuthRetryableFetchError",i,void 0)}};function _l(r){return oe(r)&&r.name==="AuthRetryableFetchError"}let Bc=class extends Un{constructor(a,i,l){super(a,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}};function $2(r){return oe(r)&&r.name==="AuthWeakPasswordError"}let Ol=class extends Un{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}};const Cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mp=` 	
\r=`.split(""),V2=(()=>{const r=new Array(128);for(let a=0;a<r.length;a+=1)r[a]=-1;for(let a=0;a<Mp.length;a+=1)r[Mp[a].charCodeAt(0)]=-2;for(let a=0;a<Cl.length;a+=1)r[Cl[a].charCodeAt(0)]=a;return r})();function Dp(r,a,i){if(r!==null)for(a.queue=a.queue<<8|r,a.queuedBits+=8;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;i(Cl[l]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const l=a.queue>>a.queuedBits-6&63;i(Cl[l]),a.queuedBits-=6}}function vv(r,a,i){const l=V2[r];if(l>-1)for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)i(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Bp(r){const a=[],i=f=>{a.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=f=>{Q2(f,l,i)};for(let f=0;f<r.length;f+=1)vv(r.charCodeAt(f),u,d);return a.join("")}function G2(r,a){if(r<=127){a(r);return}else if(r<=2047){a(192|r>>6),a(128|r&63);return}else if(r<=65535){a(224|r>>12),a(128|r>>6&63),a(128|r&63);return}else if(r<=1114111){a(240|r>>18),a(128|r>>12&63),a(128|r>>6&63),a(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function P2(r,a){for(let i=0;i<r.length;i+=1){let l=r.charCodeAt(i);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(r.charCodeAt(i+1)-56320&65535|u)+65536,i+=1}G2(l,a)}}function Q2(r,a,i){if(a.utf8seq===0){if(r<=127){i(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){a.utf8seq=l;break}if(a.utf8seq===2)a.codepoint=r&31;else if(a.utf8seq===3)a.codepoint=r&15;else if(a.utf8seq===4)a.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|r&63,a.utf8seq-=1,a.utf8seq===0&&i(a.codepoint)}}function Ts(r){const a=[],i={queue:0,queuedBits:0},l=u=>{a.push(u)};for(let u=0;u<r.length;u+=1)vv(r.charCodeAt(u),i,l);return new Uint8Array(a)}function Y2(r){const a=[];return P2(r,i=>a.push(i)),new Uint8Array(a)}function Ua(r){const a=[],i={queue:0,queuedBits:0},l=u=>{a.push(u)};return r.forEach(u=>Dp(u,i,l)),Dp(null,i,l),a.join("")}function K2(r){return Math.round(Date.now()/1e3)+r}function J2(){return Symbol("auth-callback")}const dt=()=>typeof window<"u"&&typeof document<"u",Ta={tested:!1,writable:!1},yv=()=>{if(!dt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ta.tested)return Ta.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Ta.tested=!0,Ta.writable=!0}catch{Ta.tested=!0,Ta.writable=!1}return Ta.writable};function X2(r){const a={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((u,d)=>{a[d]=u})}catch{}return i.searchParams.forEach((l,u)=>{a[u]=l}),a}const bv=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),I2=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",js=async(r,a,i)=>{await r.setItem(a,JSON.stringify(i))},Aa=async(r,a)=>{const i=await r.getItem(a);if(!i)return null;try{return JSON.parse(i)}catch{return i}},ct=async(r,a)=>{await r.removeItem(a)};class zl{constructor(){this.promise=new zl.promiseConstructor((a,i)=>{this.resolve=a,this.reject=i})}}zl.promiseConstructor=Promise;function vc(r){const a=r.split(".");if(a.length!==3)throw new Ol("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!L2.test(a[l]))throw new Ol("JWT not in base64url format");return{header:JSON.parse(Bp(a[0])),payload:JSON.parse(Bp(a[1])),signature:Ts(a[2]),raw:{header:a[0],payload:a[1]}}}async function Z2(r){return await new Promise(a=>{setTimeout(()=>a(null),r)})}function W2(r,a){return new Promise((l,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await r(d);if(!a(d,null,f)){l(f);return}}catch(f){if(!a(d,f)){u(f);return}}})()})}function F2(r){return("0"+r.toString(16)).substr(-2)}function e1(){const a=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let u="";for(let d=0;d<56;d++)u+=i.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(a),Array.from(a,F2).join("")}async function t1(r){const i=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",i),u=new Uint8Array(l);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function n1(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await t1(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _s(r,a,i=!1){const l=e1();let u=l;i&&(u+="/PASSWORD_RECOVERY"),await js(r,`${a}-code-verifier`,u);const d=await n1(l);return[d,l===d?"plain":"s256"]}const a1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function s1(r){const a=r.headers.get(Mc);if(!a||!a.match(a1))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function i1(r){if(!r)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(r<=a)throw new Error("JWT has expired")}function r1(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const l1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ws(r){if(!l1.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yc(){const r={};return new Proxy(r,{get:(a,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function o1(r,a){return new Proxy(r,{get:(i,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,u)}return!a.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(i,l,u)}})}function zp(r){return JSON.parse(JSON.stringify(r))}const Ca=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),u1=[502,503,504];async function qp(r){var a;if(!I2(r))throw new Al(Ca(r),0);if(u1.includes(r.status))throw new Al(Ca(r),r.status);let i;try{i=await r.json()}catch(d){throw new ia(Ca(d),d)}let l;const u=s1(r);if(u&&u.getTime()>=hv["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new Bc(Ca(i),r.status,((a=i.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(l==="session_not_found")throw new St}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Bc(Ca(i),r.status,i.weak_password.reasons);throw new fv(Ca(i),r.status||500,l)}const c1=(r,a,i,l)=>{const u={method:r,headers:a?.headers||{}};return r==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),i))};async function me(r,a,i,l){var u;const d=Object.assign({},l?.headers);d[Mc]||(d[Mc]=hv["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const f=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await d1(r,a,i+p,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function d1(r,a,i,l,u,d){const f=c1(a,l,u,d);let p;try{p=await r(i,Object.assign({},f))}catch(m){throw console.error(m),new Al(Ca(m),0)}if(p.ok||await qp(p),l?.noResolveJson)return p;try{return await p.json()}catch(m){await qp(m)}}function Ft(r){var a;let i=null;m1(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=K2(r.expires_in)));const l=(a=r.user)!==null&&a!==void 0?a:r;return{data:{session:i,user:l},error:null}}function Lp(r){const a=Ft(r);return!a.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(a.data.weak_password=r.weak_password),a}function ra(r){var a;return{data:{user:(a=r.user)!==null&&a!==void 0?a:r},error:null}}function h1(r){return{data:r,error:null}}function f1(r){const{action_link:a,email_otp:i,hashed_token:l,redirect_to:u,verification_type:d}=r,f=ks(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:a,email_otp:i,hashed_token:l,redirect_to:u,verification_type:d},m=Object.assign({},f);return{data:{properties:p,user:m},error:null}}function Hp(r){return r}function m1(r){return r.access_token&&r.refresh_token&&r.expires_in}const wl=["global","local","others"];let Wc=class{constructor({url:a="",headers:i={},fetch:l}){this.url=a,this.headers=i,this.fetch=bv(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,i=wl[0]){if(wl.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wl.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(l){if(oe(l))return{data:null,error:l};throw l}}async inviteUserByEmail(a,i={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:ra})}catch(l){if(oe(l))return{data:{user:null},error:l};throw l}}async generateLink(a){try{const{options:i}=a,l=ks(a,["options"]),u=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:f1,redirectTo:i?.redirectTo})}catch(i){if(oe(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(a){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:ra})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async listUsers(a){var i,l,u,d,f,p,m;try{const v={nextPage:null,lastPage:0,total:0},y=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:Hp});if(y.error)throw y.error;const _=await y.json(),x=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(E=>{const O=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(E.split(";")[1].split("=")[1]);v[`${j}Page`]=O}),v.total=parseInt(x)),{data:Object.assign(Object.assign({},_),v),error:null}}catch(v){if(oe(v))return{data:{users:[]},error:v};throw v}}async getUserById(a){ws(a);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:ra})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async updateUserById(a,i){ws(a);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:i,headers:this.headers,xform:ra})}catch(l){if(oe(l))return{data:{user:null},error:l};throw l}}async deleteUser(a,i=!1){ws(a);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:i},xform:ra})}catch(l){if(oe(l))return{data:{user:null},error:l};throw l}}async _listFactors(a){ws(a.userId);try{const{data:i,error:l}=await me(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:i,error:l}}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _deleteFactor(a){ws(a.userId),ws(a.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _listOAuthClients(a){var i,l,u,d,f,p,m;try{const v={nextPage:null,lastPage:0,total:0},y=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=a?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=a?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:Hp});if(y.error)throw y.error;const _=await y.json(),x=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,w=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(E=>{const O=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(E.split(";")[1].split("=")[1]);v[`${j}Page`]=O}),v.total=parseInt(x)),{data:Object.assign(Object.assign({},_),v),error:null}}catch(v){if(oe(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(a){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _getOAuthClient(a){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _updateOAuthClient(a,i){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(oe(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(a){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(a){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(oe(i))return{data:null,error:i};throw i}}};function $p(r={}){return{getItem:a=>r[a]||null,setItem:(a,i)=>{r[a]=i},removeItem:a=>{delete r[a]}}}const Na={debug:!!(globalThis&&yv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fc extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}let _v=class extends Fc{};class p1 extends Fc{}async function wv(r,a,i){Na.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),Na.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){Na.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,u.name);try{return await i()}finally{Na.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,u.name)}}else{if(a===0)throw Na.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new _v(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Na.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}const Vp={};async function g1(r,a,i){var l;const u=(l=Vp[r])!==null&&l!==void 0?l:Promise.resolve(),d=Promise.race([u.catch(()=>null),a>=0?new Promise((f,p)=>{setTimeout(()=>{p(new p1(`Acquring process lock with name "${r}" timed out`))},a)}):null].filter(f=>f)).catch(f=>{if(f&&f.isAcquireTimeout)throw f;return null}).then(async()=>await i());return Vp[r]=d.catch(async f=>{if(f&&f.isAcquireTimeout)return await u,null;throw f}),await d}function v1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xv(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function y1(r){return parseInt(r,16)}function b1(r){const a=new TextEncoder().encode(r);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}function _1(r){var a;const{chainId:i,domain:l,expirationTime:u,issuedAt:d=new Date,nonce:f,notBefore:p,requestId:m,resources:v,scheme:y,uri:_,version:x}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((a=r.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const w=xv(r.address),E=y?`${y}://${l}`:l,O=r.statement?`${r.statement}
`:"",j=`${E} wants you to sign in with your Ethereum account:
${w}

${O}`;let k=`URI: ${_}
Version: ${x}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(u&&(k+=`
Expiration Time: ${u.toISOString()}`),p&&(k+=`
Not Before: ${p.toISOString()}`),m&&(k+=`
Request ID: ${m}`),v){let U=`
Resources:`;for(const M of v){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);U+=`
- ${M}`}k+=U}return`${j}
${k}`}class tt extends Error{constructor({message:a,code:i,cause:l,name:u}){var d;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=u??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=i}}class Nl extends tt{constructor(a,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:a}),this.name="WebAuthnUnknownError",this.originalError=i}}function w1({error:r,options:a}){var i,l,u;const{publicKey:d}=a;if(!d)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=d.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(a.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new tt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return d.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const f=window.location.hostname;if(Sv(f)){if(d.rp.id!==f)return new tt({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function x1({error:r,options:a}){const{publicKey:i}=a;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(a.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new tt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(Sv(l)){if(i.rpId!==l)return new tt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class S1{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const j1=new S1;function E1(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:a,user:i,excludeCredentials:l}=r,u=ks(r,["challenge","user","excludeCredentials"]),d=Ts(a).buffer,f=Object.assign(Object.assign({},i),{id:Ts(i.id).buffer}),p=Object.assign(Object.assign({},u),{challenge:d,user:f});if(l&&l.length>0){p.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const v=l[m];p.excludeCredentials[m]=Object.assign(Object.assign({},v),{id:Ts(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return p}function T1(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:a,allowCredentials:i}=r,l=ks(r,["challenge","allowCredentials"]),u=Ts(a).buffer,d=Object.assign(Object.assign({},l),{challenge:u});if(i&&i.length>0){d.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const p=i[f];d.allowCredentials[f]=Object.assign(Object.assign({},p),{id:Ts(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function A1(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:Ua(new Uint8Array(r.response.attestationObject)),clientDataJSON:Ua(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function O1(r){var a;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,l=r.getClientExtensionResults(),u=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Ua(new Uint8Array(u.authenticatorData)),clientDataJSON:Ua(new Uint8Array(u.clientDataJSON)),signature:Ua(new Uint8Array(u.signature)),userHandle:u.userHandle?Ua(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(a=i.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Sv(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Gp(){var r,a;return!!(dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((a=navigator?.credentials)===null||a===void 0?void 0:a.get)=="function")}async function C1(r){try{const a=await navigator.credentials.create(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Nl("Browser returned unexpected credential type",a)}:{data:null,error:new Nl("Empty credential response",a)}}catch(a){return{data:null,error:w1({error:a,options:r})}}}async function N1(r){try{const a=await navigator.credentials.get(r);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Nl("Browser returned unexpected credential type",a)}:{data:null,error:new Nl("Empty credential response",a)}}catch(a){return{data:null,error:x1({error:a,options:r})}}}const R1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},k1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Rl(...r){const a=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),i=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of r)if(u)for(const d in u){const f=u[d];if(f!==void 0)if(Array.isArray(f))l[d]=f;else if(i(f))l[d]=f;else if(a(f)){const p=l[d];a(p)?l[d]=Rl(p,f):l[d]=Rl(f)}else l[d]=f}return l}function U1(r,a){return Rl(R1,r,a||{})}function M1(r,a){return Rl(k1,r,a||{})}class D1{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:i,friendlyName:l,signal:u},d){try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:a,webauthn:i});if(!f)return{data:null,error:p};const m=u??j1.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:v}=f.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${l}`),v.displayName||(v.displayName=v.name)}switch(f.webauthn.type){case"create":{const v=U1(f.webauthn.credential_options.publicKey,d?.create),{data:y,error:_}=await C1({publicKey:v,signal:m});return y?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}case"request":{const v=M1(f.webauthn.credential_options.publicKey,d?.request),{data:y,error:_}=await N1(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:v,signal:m}));return y?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}}}catch(f){return oe(f)?{data:null,error:f}:{data:null,error:new ia("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:a,webauthn:l})}async _authenticate({factorId:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!i)return{data:null,error:new Os("rpId is required for WebAuthn authentication")};try{if(!Gp())return{data:null,error:new ia("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:a,webauthn:{rpId:i,rpOrigins:l},signal:u},{request:d});if(!f)return{data:null,error:p};const{webauthn:m}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:m.type,rpId:i,rpOrigins:l,credential_response:m.credential_response}})}catch(f){return oe(f)?{data:null,error:f}:{data:null,error:new ia("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!i)return{data:null,error:new Os("rpId is required for WebAuthn registration")};try{if(!Gp())return{data:null,error:new ia("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(y=>{var _;return(_=y.data)===null||_===void 0?void 0:_.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===a&&x.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:p};const{data:m,error:v}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:u},{create:d});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:i,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:v}}catch(f){return oe(f)?{data:null,error:f}:{data:null,error:new ia("Unexpected error in register",f)}}}}v1();const B1={url:B2,storageKey:z2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:q2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Pp(r,a,i){return await i()}const xs={};let ed=class zc{get jwks(){var a,i;return(i=(a=xs[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(a){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,i;return(i=(a=xs[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{cachedAt:a})}constructor(a){var i,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},B1),a);if(this.storageKey=d.storageKey,this.instanceID=(i=zc.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,zc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&dt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new Wc({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=bv(d.fetch),this.lock=d.lock||Pp,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,d.lock?this.lock=d.lock:this.persistSession&&dt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=wv:this.lock=Pp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new D1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:yv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$p(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=$p(this.memoryStorage)),dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dv}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{let i={},l="none";if(dt()&&(i=X2(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),dt()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:d}=await this._getSessionFromURL(i,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),gv(d)){const m=(a=d.details)===null||a===void 0?void 0:a.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return oe(i)?this._returnResult({error:i}):this._returnResult({error:new ia("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var i,l,u;try{const d=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=a?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=a?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Ft}),{data:f,error:p}=d;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const m=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(d){if(oe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(a){var i,l,u;try{let d;if("email"in a){const{email:y,password:_,options:x}=a;let w=null,E=null;this.flowType==="pkce"&&([w,E]=await _s(this.storage,this.storageKey)),d=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:y,password:_,data:(i=x?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:w,code_challenge_method:E},xform:Ft})}else if("phone"in a){const{phone:y,password:_,options:x}=a;d=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(l=x?.data)!==null&&l!==void 0?l:{},channel:(u=x?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Ft})}else throw new ki("You must provide either an email or phone number and a password");const{data:f,error:p}=d;if(p||!f)return await ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const m=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(d){if(await ct(this.storage,`${this.storageKey}-code-verifier`),oe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(a){try{let i;if("email"in a){const{email:d,password:f,options:p}=a;i=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Lp})}else if("phone"in a){const{phone:d,password:f,options:p}=a;i=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Lp})}else throw new ki("You must provide either an email or phone number and a password");const{data:l,error:u}=i;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Oa;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(a){var i,l,u,d;return await this._handleProviderSignIn(a.provider,{redirectTo:(i=a.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=a.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=a.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=a.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:i}=a;switch(i){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(a){var i,l,u,d,f,p,m,v,y,_,x;let w,E;if("message"in a)w=a.message,E=a.signature;else{const{chain:O,wallet:j,statement:k,options:U}=a;let M;if(dt())if(typeof j=="object")M=j;else{const ue=window;if("ethereum"in ue&&typeof ue.ethereum=="object"&&"request"in ue.ethereum&&typeof ue.ethereum.request=="function")M=ue.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=j}const Q=new URL((i=U?.url)!==null&&i!==void 0?i:window.location.href),X=await M.request({method:"eth_requestAccounts"}).then(ue=>ue).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!X||X.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=xv(X[0]);let K=(l=U?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!K){const ue=await M.request({method:"eth_chainId"});K=y1(ue)}const F={domain:Q.host,address:W,statement:k,uri:Q.href,version:"1",chainId:K,nonce:(u=U?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(d=U?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=U?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=U?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(v=U?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(y=U?.signInWithEthereum)===null||y===void 0?void 0:y.resources};w=_1(F),E=await M.request({method:"personal_sign",params:[b1(w),W]})}try{const{data:O,error:j}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:E},!((_=a.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(x=a.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ft});if(j)throw j;if(!O||!O.session||!O.user){const k=new Oa;return this._returnResult({data:{user:null,session:null},error:k})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:j})}catch(O){if(oe(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async signInWithSolana(a){var i,l,u,d,f,p,m,v,y,_,x,w;let E,O;if("message"in a)E=a.message,O=a.signature;else{const{chain:j,wallet:k,statement:U,options:M}=a;let Q;if(dt())if(typeof k=="object")Q=k;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))Q=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=k}const X=new URL((i=M?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in Q&&Q.signIn){const W=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),U?{statement:U}:null));let K;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")K=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)K=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)E=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),O=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${X.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(u=(l=M?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=M?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((f=M?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((p=M?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((m=M?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((v=M?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((_=(y=M?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...M.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const W=await Q.signMessage(new TextEncoder().encode(E),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=W}}try{const{data:j,error:k}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Ua(O)},!((x=a.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=a.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ft});if(k)throw k;if(!j||!j.session||!j.user){const U=new Oa;return this._returnResult({data:{user:null,session:null},error:U})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:k})}catch(j){if(oe(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(a){const i=await Aa(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(i??"").split("/");try{const{data:d,error:f}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:l},xform:Ft});if(await ct(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const p=new Oa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:f})}catch(d){if(await ct(this.storage,`${this.storageKey}-code-verifier`),oe(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(a){try{const{options:i,provider:l,token:u,access_token:d,nonce:f}=a,p=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Ft}),{data:m,error:v}=p;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m||!m.session||!m.user){const y=new Oa;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:v})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(a){var i,l,u,d,f;try{if("email"in a){const{email:p,options:m}=a;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await _s(this.storage,this.storageKey));const{error:_}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(i=m?.data)!==null&&i!==void 0?i:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in a){const{phone:p,options:m}=a,{data:v,error:y}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=m?.data)!==null&&u!==void 0?u:{},create_user:(d=m?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(f=m?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:y})}throw new ki("You must provide either an email or phone number.")}catch(p){if(await ct(this.storage,`${this.storageKey}-code-verifier`),oe(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(a){var i,l;try{let u,d;"options"in a&&(u=(i=a.options)===null||i===void 0?void 0:i.redirectTo,d=(l=a.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:p}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:Ft});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,v=f.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(u){if(oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(a){var i,l,u,d,f;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await _s(this.storage,this.storageKey));const v=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(l=(i=a.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=a?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:h1});return!((d=v.data)===null||d===void 0)&&d.url&&dt()&&!(!((f=a.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(p){if(await ct(this.storage,`${this.storageKey}-code-verifier`),oe(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)throw l;if(!i)throw new St;const{error:u}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{const i=`${this.url}/resend`;if("email"in a){const{email:l,type:u,options:d}=a,{error:f}=await me(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in a){const{phone:l,type:u,options:d}=a,{data:f,error:p}=await me(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new ki("You must provide either an email or phone number and a type")}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(a,i){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await a(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const i=await Aa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?a=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const l=a.expires_at?a.expires_at*1e3-Date.now()<gc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",a.expires_at),!l){if(this.userStorage){const f=await Aa(this.userStorage,this.storageKey+"-user");f?.user?a.user=f.user:a.user=yc()}if(this.storage.isServer&&a.user&&!a.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};a.user=o1(a.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:a},error:null}}const{data:u,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;const i=await this._acquireLock(-1,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(a){try{return a?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:ra}):await this._useSession(async i=>{var l,u,d;const{data:f,error:p}=i;if(p)throw p;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:ra})})}catch(i){if(oe(i))return pv(i)&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(a,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,i))}async _updateUser(a,i={}){try{return await this._useSession(async l=>{const{data:u,error:d}=l;if(d)throw d;if(!u.session)throw new St;const f=u.session;let p=null,m=null;this.flowType==="pkce"&&a.email!=null&&([p,m]=await _s(this.storage,this.storageKey));const{data:v,error:y}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:p,code_challenge_method:m}),jwt:f.access_token,xform:ra});if(y)throw y;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await ct(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new St;const i=Date.now()/1e3;let l=i,u=!0,d=null;const{payload:f}=vc(a.access_token);if(f.exp&&(l=f.exp,u=l<=i),u){const{data:p,error:m}=await this._callRefreshToken(a.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};d=p}else{const{data:p,error:m}=await this._getUser(a.access_token);if(m)throw m;d={access_token:a.access_token,refresh_token:a.refresh_token,user:p.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(i){if(oe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async i=>{var l;if(!a){const{data:f,error:p}=i;if(p)throw p;a=(l=f.session)!==null&&l!==void 0?l:void 0}if(!a?.refresh_token)throw new St;const{data:u,error:d}=await this._callRefreshToken(a.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(a,i){try{if(!dt())throw new Ui("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Ui(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Dc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ui("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Dc("No code detected.");const{data:U,error:M}=await this._exchangeCodeForSession(a.code);if(M)throw M;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:d,refresh_token:f,expires_in:p,expires_at:m,token_type:v}=a;if(!d||!p||!f||!v)throw new Ui("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(p);let x=y+_;m&&(x=parseInt(m));const w=x-y;w*1e3<=Ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${_}s`);const E=x-_;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,x,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,x,y);const{data:O,error:j}=await this._getUser(d);if(j)throw j;const k={provider_token:l,provider_refresh_token:u,access_token:d,expires_in:_,expires_at:x,refresh_token:f,token_type:v,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:a.type},error:null})}catch(l){if(oe(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const i=await Aa(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&i)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:u,error:d}=i;if(d)return this._returnResult({error:d});const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:p}=await this.admin.signOut(f,a);if(p&&!(mv(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return a!=="others"&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){const i=J2(),l={id:i,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(a){return await this._useSession(async i=>{var l,u;try{const{data:{session:d},error:f}=i;if(f)throw f;await((l=this.stateChangeEmitters.get(a))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",d),console.error(d)}})}async resetPasswordForEmail(a,i={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await _s(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(await ct(this.storage,`${this.storageKey}-code-verifier`),oe(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var a;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(a=i.user.identities)!==null&&a!==void 0?a:[]},error:null})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var i;try{const{data:l,error:u}=await this._useSession(async d=>{var f,p,m,v,y;const{data:_,error:x}=d;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=a.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=a.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",w,{headers:this.headers,jwt:(y=(v=_.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(u)throw u;return dt()&&!(!((i=a.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:a.provider,url:l?.url},error:null})}catch(l){if(oe(l))return this._returnResult({data:{provider:a.provider,url:null},error:l});throw l}}async linkIdentityIdToken(a){return await this._useSession(async i=>{var l;try{const{error:u,data:{session:d}}=i;if(u)throw u;const{options:f,provider:p,token:m,access_token:v,nonce:y}=a,_=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:p,id_token:m,access_token:v,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ft}),{data:x,error:w}=_;return w?this._returnResult({data:{user:null,session:null},error:w}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Oa}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:w}))}catch(u){if(await ct(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(a){try{return await this._useSession(async i=>{var l,u;const{data:d,error:f}=i;if(f)throw f;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(a){const i=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await W2(async u=>(u>0&&await Z2(200*Math.pow(2,u-1)),this._debug(i,"refreshing attempt",u),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Ft})),(u,d)=>{const f=200*Math.pow(2,u);return d&&_l(d)&&Date.now()+f-l<Ss})}catch(l){if(this._debug(i,"error",l),oe(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",i,"url",l),dt()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:a,url:l},error:null}}async _recoverAndRefresh(){var a,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await Aa(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Aa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await js(this.userStorage,this.storageKey+"-user",f)),u.user=(a=f?.user)!==null&&a!==void 0?a:yc()}else if(u&&!u.user&&!u.user){const f=await Aa(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await ct(this.storage,this.storageKey+"-user"),await js(this.storage,this.storageKey,u)):u.user=yc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const d=((i=u.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<gc;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${gc}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),_l(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(u.access_token);!p&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(a){var i,l;if(!a)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new zl;const{data:d,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!d.session)throw new St;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const p={data:d.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(d){if(this._debug(u,"error",d),oe(d)){const f={data:null,error:d};return _l(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(a,i,l=!0){const u=`#_notifyAllSubscribers(${a})`;this._debug(u,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:a,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(a,i)}catch(m){d.push(m)}});if(await Promise.all(f),d.length>0){for(let p=0;p<d.length;p+=1)console.error(d[p]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await ct(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},a),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await js(this.userStorage,this.storageKey+"-user",{user:i.user});const u=Object.assign({},i);delete u.user;const d=zp(u);await js(this.storage,this.storageKey,d)}else{const u=zp(i);await js(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ct(this.storage,this.storageKey),await ct(this.storage,this.storageKey+"-code-verifier"),await ct(this.storage,this.storageKey+"-user"),this.userStorage&&await ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&dt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",a)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Ss);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-a)/Ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ss}ms, refresh threshold is ${Uc} ticks`),u<=Uc&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Fc)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const i=`#_onVisibilityChanged(${a})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,i,l){const u=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,f]=await _s(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(p.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);u.push(d.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${a}?${u.join("&")}`}async _unenroll(a){try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;return d?this._returnResult({data:null,error:d}):await me(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(a){try{return await this._useSession(async i=>{var l,u;const{data:d,error:f}=i;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:m,error:v}=await me(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return v?this._returnResult({data:null,error:v}):(a.factorType==="totp"&&m.type==="totp"&&(!((u=m?.totp)===null||u===void 0)&&u.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?A1(a.webauthn.credential_response):O1(a.webauthn.credential_response)})}:{code:a.code}),{data:p,error:m}=await me(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=await me(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:E1(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:T1(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(a){const{data:i,error:l}=await this._challenge({factorId:a.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:a.factorId,challengeId:i.id,code:a.code})}async _listFactors(){var a;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(a=i?.factors)!==null&&a!==void 0?a:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var a,i;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=vc(l.access_token);let f=null;d.aal&&(f=d.aal);let p=f;((i=(a=l.user.factors)===null||a===void 0?void 0:a.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const v=d.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;return u?this._returnResult({data:null,error:u}):l?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new St})})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(a,i){try{return await this._useSession(async l=>{const{data:{session:u},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new St});const f=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&dt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(oe(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(a,i){try{return await this._useSession(async l=>{const{data:{session:u},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new St});const f=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&dt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(oe(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;return l?this._returnResult({data:null,error:l}):i?await me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new St})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;return u?this._returnResult({data:null,error:u}):l?(await me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new St})})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(a,i={keys:[]}){let l=i.keys.find(p=>p.kid===a);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(p=>p.kid===a),l&&this.jwks_cached_at+H2>u)return l;const{data:d,error:f}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,l=d.keys.find(p=>p.kid===a),!l)?null:l}async getClaims(a,i={}){try{let l=a;if(!l){const{data:w,error:E}=await this.getSession();if(E||!w.session)return this._returnResult({data:null,error:E});l=w.session.access_token}const{header:u,payload:d,signature:f,raw:{header:p,payload:m}}=vc(l);i?.allowExpired||i1(d.exp);const v=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!v){const{error:w}=await this.getUser(l);if(w)throw w;return{data:{claims:d,header:u,signature:f},error:null}}const y=r1(u.alg),_=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,f,Y2(`${p}.${m}`)))throw new Ol("Invalid JWT signature");return{data:{claims:d,header:u,signature:f},error:null}}catch(l){if(oe(l))return this._returnResult({data:null,error:l});throw l}}};ed.nextInstanceID={};const z1=Wc,q1=ed,L1=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:z1,AuthApiError:fv,AuthClient:q1,AuthError:Os,AuthImplicitGrantRedirectError:Ui,AuthInvalidCredentialsError:ki,AuthInvalidJwtError:Ol,AuthInvalidTokenResponseError:Oa,AuthPKCEGrantCodeExchangeError:Dc,AuthRetryableFetchError:Al,AuthSessionMissingError:St,AuthUnknownError:ia,AuthWeakPasswordError:Bc,CustomAuthError:Un,GoTrueAdminApi:Wc,GoTrueClient:ed,NavigatorLockAcquireTimeoutError:_v,SIGN_OUT_SCOPES:wl,isAuthApiError:mv,isAuthError:oe,isAuthImplicitGrantRedirectError:gv,isAuthRetryableFetchError:_l,isAuthSessionMissingError:pv,isAuthWeakPasswordError:$2,lockInternals:Na,navigatorLock:wv,processLock:g1},Symbol.toStringTag,{value:"Module"})),jv=zi(L1);var Qp;function H1(){if(Qp)return Ni;Qp=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.SupabaseAuthClient=void 0;const r=jv;let a=class extends r.AuthClient{constructor(l){super(l)}};return Ni.SupabaseAuthClient=a,Ni}var Yp;function Kp(){if(Yp)return rl;Yp=1,Object.defineProperty(rl,"__esModule",{value:!0});const r=zg,a=Gg(),i=Zg,l=R2,u=U2(),d=M2(),f=D2(),p=H1();class m{constructor(y,_,x){var w,E,O;this.supabaseUrl=y,this.supabaseKey=_;const j=(0,f.validateSupabaseUrl)(y);if(!_)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",j),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",j),this.storageUrl=new URL("storage/v1",j),this.functionsUrl=new URL("functions/v1",j);const k=`sb-${j.hostname.split(".")[0]}-auth-token`,U={db:u.DEFAULT_DB_OPTIONS,realtime:u.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},u.DEFAULT_AUTH_OPTIONS),{storageKey:k}),global:u.DEFAULT_GLOBAL_OPTIONS},M=(0,f.applySettingDefaults)(x??{},U);this.storageKey=(w=M.auth.storageKey)!==null&&w!==void 0?w:"",this.headers=(E=M.global.headers)!==null&&E!==void 0?E:{},M.accessToken?(this.accessToken=M.accessToken,this.auth=new Proxy({},{get:(Q,X)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(X)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((O=M.auth)!==null&&O!==void 0?O:{},this.headers,M.global.fetch),this.fetch=(0,d.fetchWithAuth)(_,this._getAccessToken.bind(this),M.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},M.realtime)),this.accessToken&&this.accessToken().then(Q=>this.realtime.setAuth(Q)).catch(Q=>console.warn("Failed to set initial Realtime auth token:",Q)),this.rest=new a.PostgrestClient(new URL("rest/v1",j).href,{headers:this.headers,schema:M.db.schema,fetch:this.fetch}),this.storage=new l.StorageClient(this.storageUrl.href,this.headers,this.fetch,x?.storage),M.accessToken||this._listenForAuthEvents()}get functions(){return new r.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(y){return this.rest.from(y)}schema(y){return this.rest.schema(y)}rpc(y,_={},x={head:!1,get:!1,count:void 0}){return this.rest.rpc(y,_,x)}channel(y,_={config:{}}){return this.realtime.channel(y,_)}getChannels(){return this.realtime.getChannels()}removeChannel(y){return this.realtime.removeChannel(y)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var y,_;if(this.accessToken)return await this.accessToken();const{data:x}=await this.auth.getSession();return(_=(y=x.session)===null||y===void 0?void 0:y.access_token)!==null&&_!==void 0?_:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:y,persistSession:_,detectSessionInUrl:x,storage:w,userStorage:E,storageKey:O,flowType:j,lock:k,debug:U,throwOnError:M},Q,X){const W={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new p.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},W),Q),storageKey:O,autoRefreshToken:y,persistSession:_,detectSessionInUrl:x,storage:w,userStorage:E,flowType:j,lock:k,debug:U,throwOnError:M,fetch:X,hasCustomAuthorizationHeader:Object.keys(this.headers).some(K=>K.toLowerCase()==="authorization")})}_initRealtimeClient(y){return new i.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},y),{params:Object.assign({apikey:this.supabaseKey},y?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((_,x)=>{this._handleTokenChanged(_,"CLIENT",x?.access_token)})}_handleTokenChanged(y,_,x){(y==="TOKEN_REFRESHED"||y==="SIGNED_IN")&&this.changedAccessToken!==x?(this.changedAccessToken=x,this.realtime.setAuth(x)):y==="SIGNED_OUT"&&(this.realtime.setAuth(),_=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return rl.default=m,rl}var Jp;function $1(){return Jp||(Jp=1,(function(r){var a=Cn&&Cn.__createBinding||(Object.create?(function(y,_,x,w){w===void 0&&(w=x);var E=Object.getOwnPropertyDescriptor(_,x);(!E||("get"in E?!_.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return _[x]}}),Object.defineProperty(y,w,E)}):(function(y,_,x,w){w===void 0&&(w=x),y[w]=_[x]})),i=Cn&&Cn.__exportStar||function(y,_){for(var x in y)x!=="default"&&!Object.prototype.hasOwnProperty.call(_,x)&&a(_,y,x)},l=Cn&&Cn.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(r,"__esModule",{value:!0}),r.createClient=r.SupabaseClient=r.FunctionRegion=r.FunctionsError=r.FunctionsRelayError=r.FunctionsFetchError=r.FunctionsHttpError=r.PostgrestError=void 0;const u=l(Kp());i(jv,r);var d=Gg();Object.defineProperty(r,"PostgrestError",{enumerable:!0,get:function(){return d.PostgrestError}});var f=zg;Object.defineProperty(r,"FunctionsHttpError",{enumerable:!0,get:function(){return f.FunctionsHttpError}}),Object.defineProperty(r,"FunctionsFetchError",{enumerable:!0,get:function(){return f.FunctionsFetchError}}),Object.defineProperty(r,"FunctionsRelayError",{enumerable:!0,get:function(){return f.FunctionsRelayError}}),Object.defineProperty(r,"FunctionsError",{enumerable:!0,get:function(){return f.FunctionsError}}),Object.defineProperty(r,"FunctionRegion",{enumerable:!0,get:function(){return f.FunctionRegion}}),i(Zg,r);var p=Kp();Object.defineProperty(r,"SupabaseClient",{enumerable:!0,get:function(){return l(p).default}});const m=(y,_,x)=>new u.default(y,_,x);r.createClient=m;function v(){if(typeof window<"u"||typeof process>"u")return!1;const y=process.version;if(y==null)return!1;const _=y.match(/^v(\d+)\./);return _?parseInt(_[1],10)<=18:!1}v()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Cn)),Cn}var Ev=$1();const Tv=Fy(Ev),V1=Wy({__proto__:null,default:Tv},[Ev]),{PostgrestError:Mw,FunctionsHttpError:Dw,FunctionsFetchError:Bw,FunctionsRelayError:zw,FunctionsError:qw,FunctionRegion:Lw,SupabaseClient:Hw,createClient:G1,GoTrueAdminApi:$w,GoTrueClient:Vw,AuthAdminApi:Gw,AuthClient:Pw,navigatorLock:Qw,NavigatorLockAcquireTimeoutError:Yw,lockInternals:Kw,processLock:Jw,SIGN_OUT_SCOPES:Xw,AuthError:Iw,AuthApiError:Zw,AuthUnknownError:Ww,CustomAuthError:Fw,AuthSessionMissingError:ex,AuthInvalidTokenResponseError:tx,AuthInvalidCredentialsError:nx,AuthImplicitGrantRedirectError:ax,AuthPKCEGrantCodeExchangeError:sx,AuthRetryableFetchError:ix,AuthWeakPasswordError:rx,AuthInvalidJwtError:lx,isAuthError:ox,isAuthApiError:ux,isAuthSessionMissingError:cx,isAuthImplicitGrantRedirectError:dx,isAuthRetryableFetchError:hx,isAuthWeakPasswordError:fx,RealtimePresence:mx,RealtimeChannel:px,RealtimeClient:gx,REALTIME_LISTEN_TYPES:vx,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:yx,REALTIME_PRESENCE_LISTEN_EVENTS:bx,REALTIME_SUBSCRIBE_STATES:_x,REALTIME_CHANNEL_STATES:wx}=Tv||V1,P1="https://qwgpkedoasyeynfsizzc.supabase.co",Q1="sb_publishable_mAvBKHo-Erat54FiPYUnMw_hQ-pkx4c",te=G1(P1,Q1,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),Av=T.createContext(null);function Xp(r){const a=r?.user?.user_metadata?.role||r?.user?.app_metadata?.role;return typeof a=="string"?a:null}function Y1({children:r}){const[a,i]=T.useState(null),[l,u]=T.useState(null),[d,f]=T.useState(null),[p,m]=T.useState(!0),v=T.useCallback(async()=>{const{data:{session:_}}=await te.auth.getSession();if(_?.user?.id){const{data:x}=await te.from("user_details").select("role").eq("auth_id",_.user.id).single();return f(x?.role??null),x?.role??null}return null},[]);T.useEffect(()=>{let _=!0;async function x(){const{data:E,error:O}=await te.auth.getSession();if(!_)return;if(O){i(null),u(null),f(null),m(!1);return}i(E.session),u(E.session?.user??null);const j=Xp(E.session);if(j){f(j),m(!1);return}if(E.session?.user?.id){const{data:k}=await te.from("user_details").select("role").eq("auth_id",E.session.user.id).single();if(!_)return;f(k?.role??null)}else f(null);m(!1)}x();const{data:w}=te.auth.onAuthStateChange(async(E,O)=>{if(!_)return;i(O),u(O?.user??null);const j=Xp(O);if(j){f(j),m(!1);return}if(O?.user?.id){const{data:k}=await te.from("user_details").select("role").eq("auth_id",O.user.id).single();if(!_)return;f(k?.role??null)}else f(null);m(!1)});return()=>{_=!1,w?.subscription?.unsubscribe()}},[]);const y=T.useMemo(()=>({session:a,user:l,role:d,loading:p,isAdmin:d==="admin",signOut:()=>te.auth.signOut(),refreshRole:v}),[a,l,d,p,v]);return c.jsx(Av.Provider,{value:y,children:r})}function Bt(){const r=T.useContext(Av);if(!r)throw new Error("useAuth must be used within <AuthProvider>");return r}function ql(){return c.jsx("div",{style:{minHeight:"100vh",display:"grid",placeItems:"center",fontFamily:"system-ui, -apple-system, Segoe UI, Roboto, sans-serif"},children:c.jsx("div",{children:"Loading"})})}function pl({children:r}){const{loading:a,session:i,role:l,isAdmin:u}=Bt(),d=cn();return a?c.jsx(ql,{}):i?u?c.jsx(Ma,{to:"/admin",replace:!0}):r:c.jsx(Ma,{to:"/login",replace:!0,state:{from:d.pathname}})}function K1({children:r}){const{loading:a,session:i,isAdmin:l}=Bt(),u=cn();return a?c.jsx(ql,{}):i?l?r:c.jsx(Ma,{to:"/app",replace:!0}):c.jsx(Ma,{to:"/admin/login",replace:!0,state:{from:u.pathname}})}function J1(){const{loading:r,session:a,isAdmin:i}=Bt();return r?c.jsx(ql,{}):a?i?c.jsx(Ma,{to:"/admin",replace:!0}):c.jsx(Ma,{to:"/app",replace:!0}):c.jsx(Ma,{to:"/login",replace:!0})}function X1(){const r=Xt(),{session:a,role:i,loading:l}=Bt();return T.useEffect(()=>{if(!l){if(!a){r("/login",{replace:!0});return}r(i==="admin"?"/admin":"/app",{replace:!0})}},[l,a,i,r]),c.jsx(ql,{})}function I1(){const r=Xt(),{session:a,role:i,loading:l}=Bt(),[u,d]=T.useState(""),[f,p]=T.useState(""),[m,v]=T.useState(!1),[y,_]=T.useState(null);T.useEffect(()=>{if(!l&&a){if(i==="admin"){te.auth.signOut(),_("Admins cannot use Student Login. Redirecting to Admin Login..."),setTimeout(()=>r("/admin/login",{replace:!0}),1500);return}r("/Homepage",{replace:!0})}},[a,i,l,r]);async function x(w){w.preventDefault(),v(!0),_(null);const{data:E,error:O}=await te.auth.signInWithPassword({email:u,password:f});if(O){_(O.message),v(!1);return}if(E.user?.user_metadata?.role==="admin"){_("This is an admin account. Please use Admin Login instead."),await te.auth.signOut(),v(!1);return}v(!1)}return c.jsx("div",{className:"auth-page",children:c.jsxs("div",{className:"auth-container",children:[c.jsxs("div",{className:"auth-logo",children:[c.jsx("div",{className:"auth-logo-icon",children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",children:[c.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c1.5 0 3-.3 4.3-.9",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M17 8c-4 0-6 3-6 6s3 6 6 6 6-3 6-6",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M20 5l-3 3",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"})]})}),c.jsx("span",{className:"auth-logo-text",children:"EcoQuest"})]}),c.jsxs("div",{className:"auth-header",children:[c.jsx("h1",{className:"auth-title",children:"Welcome Back!"}),c.jsx("p",{className:"auth-subtitle",children:"Sign in to continue your eco journey"})]}),c.jsxs("form",{onSubmit:x,className:"auth-form",children:[c.jsxs("div",{className:"form-field",children:[c.jsx("label",{htmlFor:"email",children:"Email"}),c.jsx("input",{id:"email",value:u,onChange:w=>d(w.target.value),type:"email",autoComplete:"email",placeholder:"Enter your email",required:!0})]}),c.jsxs("div",{className:"form-field",children:[c.jsx("label",{htmlFor:"password",children:"Password"}),c.jsx("input",{id:"password",value:f,onChange:w=>p(w.target.value),type:"password",autoComplete:"current-password",placeholder:"Enter your password",required:!0,minLength:8})]}),y&&c.jsxs("div",{className:"auth-error",children:[c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),c.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),y]}),c.jsx("button",{type:"submit",disabled:m,className:"auth-submit-btn primary",children:m?"Signing in...":"Sign In"})]}),c.jsxs("div",{className:"auth-links",children:[c.jsxs("p",{children:["Don't have an account? ",c.jsx(nn,{to:"/signup",children:"Sign up"})]}),c.jsx("div",{className:"auth-divider",children:c.jsx("span",{children:"or"})}),c.jsxs("p",{children:["Admin? ",c.jsx(nn,{to:"/admin/login",className:"admin-link",children:"Admin Login"})]})]})]})})}function Z1(){const r=Xt(),{session:a,role:i,loading:l,refreshRole:u}=Bt(),[d,f]=T.useState(""),[p,m]=T.useState(""),[v,y]=T.useState(""),[_,x]=T.useState(!1),[w,E]=T.useState(null),[O,j]=T.useState(null);T.useEffect(()=>{if(!l&&a){if(i==="admin"){te.auth.signOut(),E("Admins cannot use Student Sign Up. Redirecting to Admin area..."),setTimeout(()=>r("/admin",{replace:!0}),1500);return}r("/HomePage",{replace:!0})}},[a,i,l,r]);async function k(U){U.preventDefault(),x(!0),E(null),j(null);const{data:M,error:Q}=await te.auth.signUp({email:d,password:p,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{full_name:v.trim()||null,role:"user"}}});if(Q){E(Q.message),x(!1);return}const X=M.session?.user?.id||M.user?.id;if(X){await new Promise(K=>setTimeout(K,500));const{error:W}=await te.from("user_details").update({role:"user",name:v.trim()||null}).eq("auth_id",X);W&&console.warn("Could not update user details:",W.message),M.session?(await u(),r("/HomePage",{replace:!0})):j("Check your email to confirm your account, then log in via Student Login.")}x(!1)}return c.jsx("div",{className:"auth-page",children:c.jsxs("div",{className:"auth-container",children:[c.jsxs("div",{className:"auth-logo",children:[c.jsx("div",{className:"auth-logo-icon",children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",children:[c.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c1.5 0 3-.3 4.3-.9",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M17 8c-4 0-6 3-6 6s3 6 6 6 6-3 6-6",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M20 5l-3 3",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"})]})}),c.jsx("span",{className:"auth-logo-text",children:"EcoQuest"})]}),c.jsxs("div",{className:"auth-header",children:[c.jsx("h1",{className:"auth-title",children:"Join EcoQuest!"}),c.jsx("p",{className:"auth-subtitle",children:"Create an account to start your eco journey"})]}),c.jsxs("form",{onSubmit:k,className:"auth-form",children:[c.jsxs("div",{className:"form-field",children:[c.jsx("label",{htmlFor:"fullName",children:"Full Name (optional)"}),c.jsx("input",{id:"fullName",value:v,onChange:U=>y(U.target.value),type:"text",autoComplete:"name",placeholder:"Enter your name"})]}),c.jsxs("div",{className:"form-field",children:[c.jsx("label",{htmlFor:"email",children:"Email"}),c.jsx("input",{id:"email",value:d,onChange:U=>f(U.target.value),type:"email",autoComplete:"email",placeholder:"Enter your email",required:!0})]}),c.jsxs("div",{className:"form-field",children:[c.jsx("label",{htmlFor:"password",children:"Password (min 8 characters)"}),c.jsx("input",{id:"password",value:p,onChange:U=>m(U.target.value),type:"password",autoComplete:"new-password",placeholder:"Create a password",required:!0,minLength:8})]}),w&&c.jsxs("div",{className:"auth-error",children:[c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),c.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),w]}),O&&c.jsxs("div",{className:"auth-info",children:[c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),c.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),O]}),c.jsx("button",{type:"submit",disabled:_,className:"auth-submit-btn primary",children:_?"Creating account...":"Create Account"})]}),c.jsxs("div",{className:"auth-links",children:[c.jsxs("p",{children:["Already have an account? ",c.jsx(nn,{to:"/login",children:"Sign in"})]}),c.jsx("div",{className:"auth-divider",children:c.jsx("span",{children:"or"})}),c.jsxs("p",{children:["Need an admin account? ",c.jsx(nn,{to:"/admin/signup",className:"admin-link",children:"Admin Sign Up"})]})]})]})})}function W1(){const r=Xt(),{session:a,role:i,loading:l}=Bt(),[u,d]=T.useState(""),[f,p]=T.useState(""),[m,v]=T.useState(!1),[y,_]=T.useState(null);T.useEffect(()=>{if(!l&&a){if(i!=="admin"){te.auth.signOut(),_("Students cannot use Admin Login. Redirecting to Student Login..."),setTimeout(()=>r("/login",{replace:!0}),1500);return}r("/admin",{replace:!0})}},[a,i,l,r]);async function x(w){w.preventDefault(),v(!0),_(null);const{data:E,error:O}=await te.auth.signInWithPassword({email:u,password:f});if(O){_(O.message),v(!1);return}let j=E.user?.user_metadata?.role==="admin";if(!j&&E.user?.id){const{data:k}=await te.from("user_details").select("role").eq("auth_id",E.user.id).single();j=k?.role==="admin"}if(!j){_("This account does not have admin privileges. Use Student Login instead."),await te.auth.signOut(),v(!1);return}v(!1)}return c.jsx("div",{className:"auth-page",children:c.jsxs("div",{className:"auth-container",children:[c.jsxs("div",{className:"auth-logo",children:[c.jsx("div",{className:"auth-logo-icon",children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",children:[c.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c1.5 0 3-.3 4.3-.9",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M17 8c-4 0-6 3-6 6s3 6 6 6 6-3 6-6",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M20 5l-3 3",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"})]})}),c.jsx("span",{className:"auth-logo-text",children:"EcoQuest"})]}),c.jsxs("div",{className:"auth-header",children:[c.jsxs("span",{className:"admin-badge",children:[c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),"Admin Access"]}),c.jsx("h1",{className:"auth-title",children:"Admin Login"}),c.jsx("p",{className:"auth-subtitle",children:"Sign in to manage EcoQuest"})]}),c.jsxs("form",{onSubmit:x,className:"auth-form",children:[c.jsxs("div",{className:"form-field",children:[c.jsx("label",{htmlFor:"email",children:"Email"}),c.jsx("input",{id:"email",value:u,onChange:w=>d(w.target.value),type:"email",autoComplete:"email",placeholder:"Enter admin email",required:!0})]}),c.jsxs("div",{className:"form-field",children:[c.jsx("label",{htmlFor:"password",children:"Password"}),c.jsx("input",{id:"password",value:f,onChange:w=>p(w.target.value),type:"password",autoComplete:"current-password",placeholder:"Enter your password",required:!0,minLength:8})]}),y&&c.jsxs("div",{className:"auth-error",children:[c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),c.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),y]}),c.jsx("button",{type:"submit",disabled:m,className:"auth-submit-btn admin",children:m?"Signing in...":"Sign In as Admin"})]}),c.jsxs("div",{className:"auth-links",children:[c.jsxs("p",{children:["Don't have an admin account? ",c.jsx(nn,{to:"/admin/signup",className:"admin-link",children:"Admin Sign Up"})]}),c.jsx("div",{className:"auth-divider",children:c.jsx("span",{children:"or"})}),c.jsxs("p",{children:["Student? ",c.jsx(nn,{to:"/login",children:"Student Login"})]})]})]})})}function F1(){const r=Xt(),{session:a,role:i,loading:l,refreshRole:u}=Bt(),[d,f]=T.useState(""),[p,m]=T.useState(""),[v,y]=T.useState(""),[_,x]=T.useState(!1),[w,E]=T.useState(null),[O,j]=T.useState(null);T.useEffect(()=>{if(!l&&a){if(i==="admin"){r("/admin",{replace:!0});return}if(i==="user"){te.auth.signOut(),E("Already logged in as student. Please sign out first to create an admin account.");return}}},[a,i,l,r]);async function k(U){U.preventDefault(),x(!0),E(null),j(null);const{data:M,error:Q}=await te.auth.signUp({email:d,password:p,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{full_name:v.trim()||null,role:"admin"}}});if(Q){E(Q.message),x(!1);return}const X=M.session?.user?.id||M.user?.id;if(X){await new Promise(K=>setTimeout(K,500));const{error:W}=await te.from("user_details").update({role:"admin",name:v.trim()||null}).eq("auth_id",X);W&&console.warn("Could not set admin role:",W.message),M.session?(await u(),r("/admin",{replace:!0})):j("Check your email to confirm your account. After confirmation, log in via Admin Login.")}x(!1)}return c.jsx("div",{className:"auth-page",children:c.jsxs("div",{className:"auth-container",children:[c.jsxs("div",{className:"auth-logo",children:[c.jsx("div",{className:"auth-logo-icon",children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",children:[c.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c1.5 0 3-.3 4.3-.9",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M17 8c-4 0-6 3-6 6s3 6 6 6 6-3 6-6",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M20 5l-3 3",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"})]})}),c.jsx("span",{className:"auth-logo-text",children:"EcoQuest"})]}),c.jsxs("div",{className:"auth-header",children:[c.jsxs("span",{className:"admin-badge",children:[c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),"Admin Access"]}),c.jsx("h1",{className:"auth-title",children:"Create Admin Account"}),c.jsx("p",{className:"auth-subtitle",children:"Set up your administrator account"})]}),c.jsxs("form",{onSubmit:k,className:"auth-form",children:[c.jsxs("div",{className:"form-field",children:[c.jsx("label",{htmlFor:"fullName",children:"Full Name (optional)"}),c.jsx("input",{id:"fullName",value:v,onChange:U=>y(U.target.value),type:"text",autoComplete:"name",placeholder:"Enter your name"})]}),c.jsxs("div",{className:"form-field",children:[c.jsx("label",{htmlFor:"email",children:"Email"}),c.jsx("input",{id:"email",value:d,onChange:U=>f(U.target.value),type:"email",autoComplete:"email",placeholder:"Enter admin email",required:!0})]}),c.jsxs("div",{className:"form-field",children:[c.jsx("label",{htmlFor:"password",children:"Password (min 8 characters)"}),c.jsx("input",{id:"password",value:p,onChange:U=>m(U.target.value),type:"password",autoComplete:"new-password",placeholder:"Create a password",required:!0,minLength:8})]}),w&&c.jsxs("div",{className:"auth-error",children:[c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),c.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),w]}),O&&c.jsxs("div",{className:"auth-info",children:[c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),c.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),O]}),c.jsx("button",{type:"submit",disabled:_,className:"auth-submit-btn admin",children:_?"Creating admin account...":"Create Admin Account"})]}),c.jsxs("div",{className:"auth-links",children:[c.jsxs("p",{children:["Already have an admin account? ",c.jsx(nn,{to:"/admin/login",className:"admin-link",children:"Admin Login"})]}),c.jsx("div",{className:"auth-divider",children:c.jsx("span",{children:"or"})}),c.jsxs("p",{children:["Need a regular account? ",c.jsx(nn,{to:"/signup",children:"Student Sign Up"})]})]})]})})}function ew(){const r=Xt(),{user:a,signOut:i,isAdmin:l,loading:u}=Bt(),[d,f]=T.useState([]),[p,m]=T.useState([]),[v,y]=T.useState([]),[_,x]=T.useState([]),[w,E]=T.useState(!0),[O,j]=T.useState(null),[k,U]=T.useState(null),[M,Q]=T.useState("submissions"),[X,W]=T.useState({id:null,title:"",description:"",points:10}),[K,F]=T.useState(!1),[ue,_e]=T.useState(""),[ye,Y]=T.useState([]),pe=T.useMemo(()=>d.filter(N=>N.role!=="admin"),[d]);T.useEffect(()=>{u||l||r("/app",{replace:!0})},[u,l,r]),T.useEffect(()=>{if(u||!l)return;let N=!1;async function ee(){E(!0),j(null);try{const[ie,we,xe,Ne]=await Promise.all([te.from("user_details").select("*").order("created_at",{ascending:!1}),te.from("quests").select("*").order("created_at",{ascending:!1}),te.from("quest_assignments").select("*, quests(id,title,points)").order("assigned_at",{ascending:!1}),te.from("quest_submissions").select("*, user_details!quest_submissions_user_id_fkey(user_id, name, username), quests(id, title, points)").order("submitted_at",{ascending:!1})]);if(N)return;ie.error&&console.error("Users error:",ie.error),we.error&&console.error("Quests error:",we.error),xe.error&&console.error("Assignments error:",xe.error),Ne.error&&console.error("Submissions error:",Ne.error),console.log("Submissions fetched:",Ne.data),console.log("Submissions count:",Ne.data?.length||0),f(ie.data||[]),m(we.data||[]),y(xe.data||[]),x(Ne.data||[])}catch(ie){console.error("Load error:",ie),N||j(ie.message)}N||E(!1)}return ee(),()=>{N=!0}},[u,l]);async function ce(){const[N,ee,ie,we]=await Promise.all([te.from("user_details").select("*").order("created_at",{ascending:!1}),te.from("quests").select("*").order("created_at",{ascending:!1}),te.from("quest_assignments").select("*, quests(id,title,points)").order("assigned_at",{ascending:!1}),te.from("quest_submissions").select("*, user_details!quest_submissions_user_id_fkey(user_id, name, username), quests(id, title, points)").order("submitted_at",{ascending:!1})]);f(N.data||[]),m(ee.data||[]),y(ie.data||[]),x(we.data||[])}T.useEffect(()=>{if(k){const N=setTimeout(()=>U(null),3e3);return()=>clearTimeout(N)}},[k]);async function le(N){if(N.preventDefault(),j(null),K&&X.id){const{error:ee}=await te.from("quests").update({title:X.title.trim(),description:X.description.trim(),points:Number(X.points)}).eq("id",X.id);if(ee){j(ee.message);return}m(ie=>ie.map(we=>we.id===X.id?{...we,title:X.title.trim(),description:X.description.trim(),points:Number(X.points)}:we)),U("Quest updated!")}else{const ee=d.find(xe=>xe.auth_id===a?.id),{data:ie,error:we}=await te.from("quests").insert([{title:X.title.trim(),description:X.description.trim(),points:Number(X.points),created_by:ee?.user_id||null}]).select("*").single();if(we){j(we.message);return}m(xe=>[ie,...xe]),U("Quest created!")}de()}function z(N){W({id:N.id,title:N.title,description:N.description||"",points:N.points}),F(!0),Q("quests")}async function J(N){if(!confirm("Are you sure you want to delete this quest? This will also delete all assignments."))return;j(null);const{error:ee}=await te.from("quests").delete().eq("id",N);if(ee){j(ee.message);return}m(ie=>ie.filter(we=>we.id!==N)),y(ie=>ie.filter(we=>we.quest_id!==N)),U("Quest deleted!")}function de(){W({id:null,title:"",description:"",points:10}),F(!1)}async function Ae(N){if(N.preventDefault(),j(null),!ue||ye.length===0){j("Select a quest and at least one student.");return}const ee=d.find(Ne=>Ne.auth_id===a?.id),ie=ye.map(Ne=>({quest_id:Number(ue),user_id:Ne,assigned_by:ee?.user_id||null,status:"assigned"})),{data:we,error:xe}=await te.from("quest_assignments").insert(ie).select("*");if(xe){j(xe.message);return}await ce(),_e(""),Y([]),U(`Quest assigned to ${ye.length} student(s)!`)}function Ce(N){Y(ee=>ee.includes(N)?ee.filter(ie=>ie!==N):[...ee,N])}function C(){ye.length===pe.length?Y([]):Y(pe.map(N=>N.user_id))}async function V(N,ee){j(null);const ie={status:ee};ee==="approved"&&(ie.completed_at=new Date().toISOString());const{error:we}=await te.from("quest_assignments").update(ie).eq("id",N);if(we){j(we.message);return}if(y(xe=>xe.map(Ne=>Ne.id===N?{...Ne,...ie}:Ne)),ee==="approved"){const xe=v.find(Ne=>Ne.id===N);if(xe?.quests?.points&&xe?.user_id){const{data:Ne}=await te.from("user_details").select("user_id, points, total_points_earned, quest_completed").eq("user_id",xe.user_id).single();Ne&&await te.from("user_details").update({points:(Ne.points||0)+xe.quests.points,total_points_earned:(Ne.total_points_earned||0)+xe.quests.points,quest_completed:(Ne.quest_completed||0)+1}).eq("user_id",Ne.user_id)}U("Quest approved and points awarded!")}else U(`Assignment ${ee}!`)}async function I(N){if(!confirm("Delete this assignment?"))return;const{error:ee}=await te.from("quest_assignments").delete().eq("id",N);if(ee){j(ee.message);return}y(ie=>ie.filter(we=>we.id!==N)),U("Assignment deleted!")}async function P(N){j(null);const ee=d.find(xe=>xe.auth_id===a?.id),{error:ie}=await te.from("quest_submissions").update({status:"approved",reviewed_at:new Date().toISOString(),reviewed_by:ee?.user_id||null}).eq("id",N.id);if(ie){j(ie.message);return}const{error:we}=await te.from("community_page").insert({user_id:N.user_id,quest_id:N.quest_id,post_title:N.post_title,post_caption:N.post_caption,image_url:N.image_url,number_of_likes:0,created_at:new Date().toISOString()});if(we&&(console.error("Error creating community post:",we),j("Submission approved but failed to create community post: "+we.message)),N.quests?.points){const{data:xe}=await te.from("user_details").select("user_id, points, total_points_earned, quest_completed").eq("user_id",N.user_id).single();xe&&await te.from("user_details").update({points:(xe.points||0)+N.quests.points,total_points_earned:(xe.total_points_earned||0)+N.quests.points,quest_completed:(xe.quest_completed||0)+1}).eq("user_id",xe.user_id)}x(xe=>xe.map(Ne=>Ne.id===N.id?{...Ne,status:"approved"}:Ne)),U("Submission approved! Points awarded and post created.")}async function Z(N,ee=""){j(null);const ie=d.find(xe=>xe.auth_id===a?.id),{error:we}=await te.from("quest_submissions").update({status:"rejected",reviewed_at:new Date().toISOString(),reviewed_by:ie?.user_id||null,rejection_reason:ee||"Submission did not meet requirements"}).eq("id",N);if(we){j(we.message);return}x(xe=>xe.map(Ne=>Ne.id===N?{...Ne,status:"rejected"}:Ne)),U("Submission rejected.")}const se=N=>({submissions:c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),c.jsx("polyline",{points:"14,2 14,8 20,8"}),c.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),c.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"})]}),quests:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"})}),assign:c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),c.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),c.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),assignments:c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M9 11l3 3L22 4"}),c.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),students:c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"9",cy:"7",r:"4"}),c.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),c.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})})[N]||null;return c.jsxs("div",{className:"admin-dashboard",children:[c.jsxs("header",{className:"admin-header",children:[c.jsx("div",{className:"admin-header-left",children:c.jsxs("div",{className:"admin-logo",children:[c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 100 100",fill:"none",children:[c.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"#22c55e"}),c.jsx("path",{d:"M30 50 L45 65 L70 35",stroke:"white",strokeWidth:"8",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]}),c.jsxs("div",{className:"admin-logo-text",children:[c.jsx("h1",{children:"EcoQuest Admin"}),c.jsx("span",{className:"admin-subtitle",children:"Manage quests, users & submissions"})]})]})}),c.jsxs("div",{className:"admin-header-right",children:[c.jsx("span",{className:"admin-user-email",children:a?.email}),c.jsxs("button",{onClick:i,className:"admin-signout-btn",children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),c.jsx("polyline",{points:"16,17 21,12 16,7"}),c.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Sign out"]})]})]}),O&&c.jsx("div",{className:"admin-message admin-message-error",children:O}),k&&c.jsx("div",{className:"admin-message admin-message-success",children:k}),c.jsxs("div",{className:"admin-stats",children:[c.jsxs("div",{className:"admin-stat-card",children:[c.jsx("div",{className:"stat-icon stat-icon-pending",children:c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("polyline",{points:"12,6 12,12 16,14"})]})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("span",{className:"stat-value",children:_.filter(N=>N.status==="pending").length}),c.jsx("span",{className:"stat-label",children:"Pending Reviews"})]})]}),c.jsxs("div",{className:"admin-stat-card",children:[c.jsx("div",{className:"stat-icon stat-icon-quests",children:c.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"})})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("span",{className:"stat-value",children:p.length}),c.jsx("span",{className:"stat-label",children:"Total Quests"})]})]}),c.jsxs("div",{className:"admin-stat-card",children:[c.jsx("div",{className:"stat-icon stat-icon-students",children:c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"9",cy:"7",r:"4"}),c.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),c.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("span",{className:"stat-value",children:pe.length}),c.jsx("span",{className:"stat-label",children:"Students"})]})]}),c.jsxs("div",{className:"admin-stat-card",children:[c.jsx("div",{className:"stat-icon stat-icon-assignments",children:c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M9 11l3 3L22 4"}),c.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("span",{className:"stat-value",children:v.length}),c.jsx("span",{className:"stat-label",children:"Assignments"})]})]})]}),c.jsxs("nav",{className:"admin-tabs",children:[c.jsxs("button",{className:`admin-tab ${M==="submissions"?"active":""}`,onClick:()=>Q("submissions"),children:[se("submissions"),c.jsx("span",{children:"Submissions"}),_.filter(N=>N.status==="pending").length>0&&c.jsx("span",{className:"tab-badge",children:_.filter(N=>N.status==="pending").length})]}),c.jsxs("button",{className:`admin-tab ${M==="quests"?"active":""}`,onClick:()=>Q("quests"),children:[se("quests"),c.jsx("span",{children:"Quests"})]}),c.jsxs("button",{className:`admin-tab ${M==="assign"?"active":""}`,onClick:()=>Q("assign"),children:[se("assign"),c.jsx("span",{children:"Assign"})]}),c.jsxs("button",{className:`admin-tab ${M==="assignments"?"active":""}`,onClick:()=>Q("assignments"),children:[se("assignments"),c.jsx("span",{children:"Assignments"})]}),c.jsxs("button",{className:`admin-tab ${M==="students"?"active":""}`,onClick:()=>Q("students"),children:[se("students"),c.jsx("span",{children:"Students"})]})]}),w&&c.jsx("div",{className:"admin-loading",children:"Loading..."}),!w&&M==="submissions"&&c.jsxs("div",{className:"admin-content",children:[c.jsxs("div",{className:"admin-section-header",children:[c.jsx("h2",{children:"Quest Submissions"}),c.jsx("p",{children:"Review and approve student quest completions."})]}),_.length===0?c.jsxs("div",{className:"admin-empty-state",children:[c.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[c.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),c.jsx("polyline",{points:"14,2 14,8 20,8"})]}),c.jsx("p",{children:"No submissions yet."})]}):c.jsxs("div",{className:"submissions-grid",children:[_.filter(N=>N.status==="pending").length>0&&c.jsxs("div",{className:"submission-section",children:[c.jsxs("h3",{className:"section-title section-title-pending",children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("polyline",{points:"12,6 12,12 16,14"})]}),"Pending Approval (",_.filter(N=>N.status==="pending").length,")"]}),_.filter(N=>N.status==="pending").map(N=>c.jsx("div",{className:"submission-card submission-pending",children:c.jsxs("div",{className:"submission-content",children:[N.image_url&&c.jsx("img",{src:N.image_url,alt:"Submission proof",className:"submission-image"}),c.jsxs("div",{className:"submission-details",children:[c.jsx("div",{className:"submission-title",children:N.post_title}),c.jsxs("div",{className:"submission-meta",children:["by ",c.jsx("strong",{children:N.user_details?.name||N.user_details?.username||"Unknown"}),"  Quest: ",c.jsx("strong",{children:N.quests?.title})," ",c.jsxs("span",{className:"submission-points",children:["+",N.quests?.points||0," pts"]})]}),N.post_caption&&c.jsxs("div",{className:"submission-caption",children:['"',N.post_caption,'"']}),c.jsxs("div",{className:"submission-date",children:["Submitted: ",new Date(N.submitted_at).toLocaleString()]})]}),c.jsxs("div",{className:"submission-actions",children:[c.jsxs("button",{onClick:()=>P(N),className:"action-btn action-btn-approve",children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:c.jsx("polyline",{points:"20,6 9,17 4,12"})}),"Approve"]}),c.jsxs("button",{onClick:()=>{const ee=prompt("Reason for rejection (optional):");Z(N.id,ee)},className:"action-btn action-btn-reject",children:[c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[c.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),"Reject"]})]})]})},N.id))]}),_.filter(N=>N.status==="approved").length>0&&c.jsxs("div",{className:"submission-section",children:[c.jsxs("h3",{className:"section-title section-title-approved",children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),c.jsx("polyline",{points:"22,4 12,14.01 9,11.01"})]}),"Approved (",_.filter(N=>N.status==="approved").length,")"]}),_.filter(N=>N.status==="approved").map(N=>c.jsx("div",{className:"submission-card submission-approved",children:c.jsxs("div",{className:"submission-row",children:[c.jsxs("div",{children:[c.jsx("div",{className:"submission-title-sm",children:N.post_title}),c.jsxs("div",{className:"submission-meta-sm",children:[N.user_details?.name||"Unknown","  ",N.quests?.title,"  +",N.quests?.points||0," pts"]})]}),c.jsx("span",{className:"status-badge status-approved",children:"Approved"})]})},N.id))]}),_.filter(N=>N.status==="rejected").length>0&&c.jsxs("div",{className:"submission-section",children:[c.jsxs("h3",{className:"section-title section-title-rejected",children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"12",r:"10"}),c.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),c.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),"Rejected (",_.filter(N=>N.status==="rejected").length,")"]}),_.filter(N=>N.status==="rejected").map(N=>c.jsx("div",{className:"submission-card submission-rejected",children:c.jsxs("div",{className:"submission-row",children:[c.jsxs("div",{children:[c.jsx("div",{className:"submission-title-sm",children:N.post_title}),c.jsxs("div",{className:"submission-meta-sm",children:[N.user_details?.name||"Unknown","  ",N.quests?.title]})]}),c.jsx("span",{className:"status-badge status-rejected",children:"Rejected"})]})},N.id))]})]})]}),!w&&M==="quests"&&c.jsxs("div",{className:"admin-content",children:[c.jsx("div",{className:"admin-section-header",children:c.jsx("h2",{children:K?"Edit Quest":"Create Quest"})}),c.jsxs("form",{onSubmit:le,className:"admin-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Quest Title"}),c.jsx("input",{value:X.title,onChange:N=>W(ee=>({...ee,title:N.target.value})),placeholder:"Enter quest title...",required:!0,className:"form-input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Description"}),c.jsx("textarea",{value:X.description,onChange:N=>W(ee=>({...ee,description:N.target.value})),placeholder:"Describe what users need to do...",rows:3,className:"form-textarea"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Points"}),c.jsx("input",{type:"number",value:X.points,onChange:N=>W(ee=>({...ee,points:N.target.value})),placeholder:"Points",min:0,className:"form-input form-input-small"})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"submit",className:"btn btn-primary",children:K?"Update Quest":"Create Quest"}),K&&c.jsx("button",{type:"button",onClick:de,className:"btn btn-secondary",children:"Cancel"})]})]}),c.jsx("div",{className:"admin-section-header",style:{marginTop:"2rem"},children:c.jsx("h3",{children:"All Quests"})}),p.length===0?c.jsxs("div",{className:"admin-empty-state",children:[c.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:c.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"})}),c.jsx("p",{children:"No quests yet. Create one above!"})]}):c.jsx("div",{className:"admin-table-wrapper",children:c.jsxs("table",{className:"admin-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Title"}),c.jsx("th",{children:"Description"}),c.jsx("th",{children:"Points"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:p.map(N=>c.jsxs("tr",{children:[c.jsx("td",{className:"table-title",children:N.title}),c.jsx("td",{className:"table-description",children:N.description||"-"}),c.jsx("td",{children:c.jsxs("span",{className:"points-badge",children:[N.points," pts"]})}),c.jsx("td",{children:c.jsxs("div",{className:"table-actions",children:[c.jsxs("button",{onClick:()=>z(N),className:"action-btn action-btn-edit",children:[c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),c.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Edit"]}),c.jsxs("button",{onClick:()=>J(N.id),className:"action-btn action-btn-delete",children:[c.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("polyline",{points:"3,6 5,6 21,6"}),c.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),"Delete"]})]})})]},N.id))})]})})]}),!w&&M==="assign"&&c.jsxs("div",{className:"admin-content",children:[c.jsxs("div",{className:"admin-section-header",children:[c.jsx("h2",{children:"Assign Quest to Students"}),c.jsx("p",{children:"Select a quest and students to assign it to."})]}),c.jsxs("form",{onSubmit:Ae,className:"admin-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Select Quest"}),c.jsxs("select",{value:ue,onChange:N=>_e(N.target.value),className:"form-select",children:[c.jsx("option",{value:"",children:"Choose a quest..."}),p.map(N=>c.jsxs("option",{value:N.id,children:[N.title," (",N.points," pts)"]},N.id))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsxs("div",{className:"form-label-row",children:[c.jsx("label",{children:"Select Students"}),c.jsx("button",{type:"button",onClick:C,className:"btn btn-text",children:ye.length===pe.length?"Deselect All":"Select All"})]}),c.jsx("div",{className:"student-selection-list",children:pe.length===0?c.jsx("div",{className:"student-empty",children:"No students found"}):pe.map(N=>c.jsxs("label",{className:`student-item ${ye.includes(N.user_id)?"selected":""}`,children:[c.jsx("input",{type:"checkbox",checked:ye.includes(N.user_id),onChange:()=>Ce(N.user_id)}),c.jsxs("div",{className:"student-info",children:[c.jsx("div",{className:"student-name",children:N.name||N.username}),c.jsx("div",{className:"student-username",children:N.username})]}),c.jsxs("div",{className:"student-points",children:[N.points||0," pts"]})]},N.user_id))}),c.jsxs("div",{className:"selection-count",children:[ye.length," student(s) selected"]})]}),c.jsxs("button",{type:"submit",disabled:!ue||ye.length===0,className:`btn btn-primary btn-large ${!ue||ye.length===0?"btn-disabled":""}`,children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),c.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),c.jsx("line",{x1:"23",y1:"11",x2:"17",y2:"11"})]}),"Assign Quest to ",ye.length," Student(s)"]})]})]}),!w&&M==="assignments"&&c.jsxs("div",{className:"admin-content",children:[c.jsxs("div",{className:"admin-section-header",children:[c.jsx("h2",{children:"Quest Assignments"}),c.jsx("p",{children:"View and manage all quest assignments."})]}),v.length===0?c.jsxs("div",{className:"admin-empty-state",children:[c.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[c.jsx("path",{d:"M9 11l3 3L22 4"}),c.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),c.jsx("p",{children:"No assignments yet."})]}):c.jsx("div",{className:"admin-table-wrapper",children:c.jsxs("table",{className:"admin-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Quest"}),c.jsx("th",{children:"Student"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Assigned"}),c.jsx("th",{children:"Actions"})]})}),c.jsx("tbody",{children:v.map(N=>{const ee=d.find(ie=>ie.user_id===N.user_id);return c.jsxs("tr",{children:[c.jsxs("td",{children:[c.jsx("div",{className:"table-title",children:N.quests?.title||"Unknown"}),c.jsxs("div",{className:"table-subtitle",children:[N.quests?.points||0," pts"]})]}),c.jsx("td",{children:ee?.name||ee?.username||N.user_id}),c.jsx("td",{children:c.jsx("span",{className:`status-badge status-${N.status}`,children:N.status})}),c.jsx("td",{className:"table-date",children:new Date(N.assigned_at).toLocaleDateString()}),c.jsx("td",{children:c.jsxs("div",{className:"table-actions",children:[N.status==="completed"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>V(N.id,"approved"),className:"action-btn action-btn-approve action-btn-sm",children:"Approve"}),c.jsx("button",{onClick:()=>V(N.id,"rejected"),className:"action-btn action-btn-reject action-btn-sm",children:"Reject"})]}),c.jsx("button",{onClick:()=>I(N.id),className:"action-btn action-btn-delete action-btn-sm",children:"Delete"})]})})]},N.id)})})]})})]}),!w&&M==="students"&&c.jsxs("div",{className:"admin-content",children:[c.jsxs("div",{className:"admin-section-header",children:[c.jsx("h2",{children:"Students"}),c.jsx("p",{children:"View all registered students and their progress."})]}),pe.length===0?c.jsxs("div",{className:"admin-empty-state",children:[c.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[c.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"9",cy:"7",r:"4"}),c.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),c.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),c.jsx("p",{children:"No students yet."})]}):c.jsx("div",{className:"admin-table-wrapper",children:c.jsxs("table",{className:"admin-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Name"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Points"}),c.jsx("th",{children:"Quests Completed"}),c.jsx("th",{children:"Joined"})]})}),c.jsx("tbody",{children:pe.map(N=>c.jsxs("tr",{children:[c.jsx("td",{className:"table-title",children:N.name||"-"}),c.jsx("td",{children:N.username}),c.jsx("td",{children:c.jsx("span",{className:"points-badge points-badge-primary",children:N.points||0})}),c.jsx("td",{children:N.quest_completed||0}),c.jsx("td",{className:"table-date",children:N.created_at?new Date(N.created_at).toLocaleDateString():"-"})]},N.user_id))})]})})]})]})}function tw(){return c.jsxs("div",{style:{maxWidth:720,margin:"64px auto",fontFamily:"system-ui"},children:[c.jsx("h1",{children:"404"}),c.jsx("p",{children:"Page not found."}),c.jsx(nn,{to:"/app",style:{color:"#06f"},children:"Go to app"})]})}const Ip=()=>{const{user:r,signOut:a}=Bt(),i=Xt(),[l,u]=T.useState(0),[d,f]=T.useState(null),[p,m]=T.useState([]),[v,y]=T.useState(!0),[_,x]=T.useState(null),[w,E]=T.useState([]),[O,j]=T.useState(!1),[k,U]=T.useState(null),[M,Q]=T.useState(""),[X,W]=T.useState(""),[K,F]=T.useState(!1),[ue,_e]=T.useState(null),[ye,Y]=T.useState(null),pe=async()=>{await a(),i("/login")},ce=T.useCallback(async P=>{if(!P)return;const{data:Z,error:se}=await te.from("quest_submissions").select("quest_id, status, submitted_at").eq("user_id",P).order("submitted_at",{ascending:!1});if(se)console.error("Error fetching submissions:",se);else{const N=[],ee=new Set;for(const ie of Z||[])ee.has(ie.quest_id)||(ee.add(ie.quest_id),N.push(ie));E(N)}},[]);T.useEffect(()=>{(async()=>{if(!r)return;const{data:Z,error:se}=await te.from("user_details").select("user_id, points").eq("auth_id",r.id).single();se?console.error("Error fetching user details:",se):Z&&(u(Z.points||0),f(Z.user_id),ce(Z.user_id))})()},[r,ce]),T.useEffect(()=>{const P=async()=>{if(document.visibilityState==="visible"&&d){const{data:Z}=await te.from("user_details").select("points").eq("user_id",d).single();Z&&u(Z.points||0),ce(d)}};return document.addEventListener("visibilitychange",P),()=>document.removeEventListener("visibilitychange",P)},[d,ce]),T.useEffect(()=>{(async()=>{y(!0),x(null);try{const{data:Z,error:se}=await te.from("quests").select("*").order("created_at",{ascending:!1});if(console.log("Quests fetch result:",{data:Z,error:se}),se)console.error("Error fetching quests:",se),x("Failed to load quests: "+se.message);else{const N=(Z||[]).map(ee=>({...ee,icon:ee.title?.toLowerCase().includes("quiz")?"quiz":"photo",type:ee.title?.toLowerCase().includes("quiz")?"Quiz":"Photo Challenge"}));console.log("Mapped quests:",N),m(N)}}catch(Z){console.error("Unexpected error:",Z),x("An unexpected error occurred")}y(!1)})()},[]);const le=P=>{if(!r){alert("Please log in to complete quests!");return}U(P),Q(`Completed: ${P.title}`),W(""),_e(null),Y(null),j(!0)},z=P=>{const Z=P.target.files[0];if(Z){if(!Z.type.startsWith("image/")){alert("Please select an image file");return}if(Z.size>5*1024*1024){alert("Image must be less than 5MB");return}_e(Z);const se=URL.createObjectURL(Z);Y(se)}},J=()=>{_e(null),ye&&URL.revokeObjectURL(ye),Y(null)},de=async()=>{if(!(!k||!d)){F(!0);try{let P=null;if(ue){const se=ue.name.split(".").pop(),N=`${r.id}/${Date.now()}.${se}`,{data:ee,error:ie}=await te.storage.from("quest-images").upload(N,ue);if(ie){console.error("Error uploading image:",ie),alert("Failed to upload image. Please try again."),F(!1);return}const{data:we}=te.storage.from("quest-images").getPublicUrl(N);P=we.publicUrl}const{error:Z}=await te.from("quest_submissions").insert({user_id:d,quest_id:k.id,post_title:M,post_caption:X||null,image_url:P,status:"pending",submitted_at:new Date().toISOString()});if(Z){console.error("Error creating submission:",Z),alert("Failed to submit quest. Please try again."),F(!1);return}E(se=>[...se.filter(ee=>ee.quest_id!==k.id),{quest_id:k.id,status:"pending"}]),j(!1),U(null),Q(""),W(""),J(),alert("Quest submitted for approval! You will earn points once an admin approves your submission.")}catch(P){console.error("Unexpected error:",P),alert("An unexpected error occurred.")}F(!1)}},Ae=[{id:"quests",label:"Quests",icon:"trophy",path:"/Homepage"},{id:"community",label:"Community",icon:"people",path:"/community"},{id:"redeem",label:"Redeem",icon:"gift",path:"/redeem"},{id:"profile",label:"Profile",icon:"person",path:"/profile"}],Ce=P=>w.find(se=>se.quest_id===P)?.status||null,C=P=>{switch(Ce(P)){case"pending":return{text:"Pending Approval",disabled:!0,className:"pending"};case"approved":return{text:"Completed ",disabled:!0,className:"completed"};case"rejected":return{text:"Rejected - Try Again",disabled:!1,className:"rejected"};default:return{text:"Start Quest",disabled:!1,className:""}}},V=P=>{switch(P){case"trophy":return c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),c.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),c.jsx("path",{d:"M4 22h16"}),c.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),c.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),c.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]});case"people":return c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"9",cy:"7",r:"4"}),c.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),c.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]});case"gift":return c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("rect",{x:"3",y:"8",width:"18",height:"4",rx:"1"}),c.jsx("path",{d:"M12 8v13"}),c.jsx("path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"}),c.jsx("path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"})]});case"person":return c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"8",r:"5"}),c.jsx("path",{d:"M20 21a8 8 0 0 0-16 0"})]});default:return null}},I=P=>P==="quiz"?c.jsx("div",{className:"quest-icon quiz-icon",children:c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#F59E0B",strokeWidth:"2",children:[c.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"}),c.jsx("path",{d:"M8 7h6"}),c.jsx("path",{d:"M8 11h8"})]})}):c.jsx("div",{className:"quest-icon photo-icon",children:c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#8B5CF6",strokeWidth:"2",children:[c.jsx("path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"}),c.jsx("circle",{cx:"12",cy:"13",r:"3"})]})});return c.jsxs("div",{className:"ecoquest-container",children:[c.jsxs("header",{className:"ecoquest-header",children:[c.jsxs("div",{className:"logo",children:[c.jsx("div",{className:"logo-icon",children:c.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",children:[c.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c1.5 0 3-.3 4.3-.9",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M17 8c-4 0-6 3-6 6s3 6 6 6 6-3 6-6",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M20 5l-3 3",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"})]})}),c.jsx("span",{className:"logo-text",children:"EcoQuest"})]}),c.jsxs("div",{className:"header-right",children:[c.jsxs("div",{className:"points-badge",children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#F59E0B",strokeWidth:"2",children:[c.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),c.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),c.jsx("path",{d:"M4 22h16"}),c.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),c.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),c.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),c.jsxs("span",{children:[l," pts"]})]}),c.jsx("div",{className:"profile-avatar",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:[c.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),c.jsxs("button",{className:"logout-btn",onClick:pe,children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),c.jsx("polyline",{points:"16 17 21 12 16 7"}),c.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),c.jsx("span",{children:"Logout"})]})]})]}),c.jsx("nav",{className:"nav-tabs",children:Ae.map(P=>c.jsxs("button",{className:`nav-tab ${P.id==="quests"?"active":""}`,onClick:()=>i(P.path),children:[V(P.icon),c.jsx("span",{children:P.label})]},P.id))}),c.jsx("main",{className:"main-content",children:c.jsxs("div",{className:"quests-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("div",{className:"section-icon",children:c.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"#F59E0B",children:[c.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),c.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),c.jsx("path",{d:"M4 22h16"}),c.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),c.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),c.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]})}),c.jsxs("div",{children:[c.jsx("h1",{className:"section-title",children:"Weekly Quests"}),c.jsx("p",{className:"section-subtitle",children:"Complete quests to earn points and make a difference!"})]})]}),v?c.jsx("div",{className:"loading-state",children:c.jsx("p",{children:"Loading quests..."})}):_?c.jsx("div",{className:"error-state",children:c.jsx("p",{children:_})}):p.length===0?c.jsx("div",{className:"empty-state",children:c.jsx("p",{children:"No quests available at the moment. Check back later!"})}):c.jsx("div",{className:"quests-grid",children:p.map(P=>c.jsxs("div",{className:"quest-card",children:[c.jsxs("div",{className:"quest-card-header",children:[I(P.icon),c.jsxs("div",{className:"quest-info",children:[c.jsx("h3",{className:"quest-title",children:P.title}),c.jsx("span",{className:`quest-type ${P.type==="Quiz"?"quiz":"photo"}`,children:P.type})]}),c.jsxs("div",{className:"quest-points",children:[c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#F59E0B",strokeWidth:"2",children:[c.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),c.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),c.jsx("path",{d:"M4 22h16"}),c.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),c.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),c.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),c.jsx("span",{children:P.points})]})]}),c.jsx("p",{className:"quest-description",children:P.description}),(()=>{const Z=C(P.id);return c.jsx("button",{className:`start-quest-btn ${Z.className}`,onClick:()=>le(P),disabled:Z.disabled,children:Z.text})})()]},P.id))})]})}),O&&k&&c.jsx("div",{className:"modal-overlay",onClick:()=>j(!1),children:c.jsxs("div",{className:"completion-modal",onClick:P=>P.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{children:"Complete Quest"}),c.jsx("button",{className:"modal-close-btn",onClick:()=>j(!1),children:c.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),c.jsxs("div",{className:"modal-quest-info",children:[c.jsx("div",{className:"modal-quest-title",children:k.title}),c.jsxs("div",{className:"modal-quest-points",children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#F59E0B",strokeWidth:"2",children:c.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})}),c.jsxs("span",{children:["+",k.points," points"]})]})]}),c.jsxs("div",{className:"modal-form",children:[c.jsx("p",{className:"modal-description",children:"Share your accomplishment with the community!"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"postTitle",children:"Post Title"}),c.jsx("input",{id:"postTitle",type:"text",value:M,onChange:P=>Q(P.target.value),placeholder:"Enter a title for your post",maxLength:100})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"postCaption",children:"Description (optional)"}),c.jsx("textarea",{id:"postCaption",value:X,onChange:P=>W(P.target.value),placeholder:"Tell us about your experience...",rows:4,maxLength:500})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Proof of Completion (Photo)"}),ye?c.jsxs("div",{className:"image-preview-container",children:[c.jsx("img",{src:ye,alt:"Preview",className:"image-preview"}),c.jsx("button",{type:"button",className:"remove-image-btn",onClick:J,children:c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}):c.jsxs("div",{className:"image-upload-area",children:[c.jsx("input",{type:"file",id:"imageUpload",accept:"image/*",onChange:z,className:"hidden-input"}),c.jsxs("label",{htmlFor:"imageUpload",className:"upload-label",children:[c.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#9ca3af",strokeWidth:"2",children:[c.jsx("path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"}),c.jsx("circle",{cx:"12",cy:"13",r:"3"})]}),c.jsx("span",{children:"Click to upload photo"}),c.jsx("span",{className:"upload-hint",children:"Max 5MB  JPG, PNG, GIF"})]})]})]})]}),c.jsxs("div",{className:"modal-actions",children:[c.jsx("button",{className:"modal-cancel-btn",onClick:()=>j(!1),disabled:K,children:"Cancel"}),c.jsx("button",{className:"modal-submit-btn",onClick:de,disabled:K||!M.trim(),children:K?"Sharing...":"Complete & Share"})]})]})})]})},nw=()=>{const{user:r,signOut:a}=Bt(),i=Xt(),[l,u]=T.useState(0),[d,f]=T.useState(null),[p,m]=T.useState([]),[v,y]=T.useState(!0),[_,x]=T.useState(new Set),[w,E]=T.useState({}),[O,j]=T.useState({}),[k,U]=T.useState(new Set),[M,Q]=T.useState({}),X=async()=>{await a(),i("/login")};T.useEffect(()=>{(async()=>{if(!r)return;const{data:pe,error:ce}=await te.from("user_details").select("user_id, points").eq("auth_id",r.id).single();if(!ce&&pe){u(pe.points||0),f(pe.user_id);const{data:le}=await te.from("post_likes").select("post_id").eq("user_id",pe.user_id);le&&x(new Set(le.map(z=>z.post_id)))}})()},[r]),T.useEffect(()=>{(async()=>{y(!0);try{const{data:pe,error:ce}=await te.from("community_page").select(`
                        *,
                        user_details (name, username),
                        quests (title, points)
                    `).order("created_at",{ascending:!1}).order("post_id",{ascending:!1});ce?console.error("Error fetching community posts:",ce):m(pe||[])}catch(pe){console.error("Unexpected error fetching posts:",pe)}y(!1)})()},[]);const W=async Y=>{if(!d){alert("Please log in to like posts!");return}if(_.has(Y)){const{error:ce}=await te.from("post_likes").delete().eq("post_id",Y).eq("user_id",d);ce||(x(le=>{const z=new Set(le);return z.delete(Y),z}),m(le=>le.map(z=>z.post_id===Y?{...z,number_of_likes:Math.max(0,(z.number_of_likes||0)-1)}:z)),await te.from("community_page").update({number_of_likes:p.find(le=>le.post_id===Y)?.number_of_likes-1||0}).eq("post_id",Y))}else{const{error:ce}=await te.from("post_likes").insert({post_id:Y,user_id:d});ce||(x(le=>new Set([...le,Y])),m(le=>le.map(z=>z.post_id===Y?{...z,number_of_likes:(z.number_of_likes||0)+1}:z)),await te.from("community_page").update({number_of_likes:(p.find(le=>le.post_id===Y)?.number_of_likes||0)+1}).eq("post_id",Y))}},K=async Y=>{Q(le=>({...le,[Y]:!0}));const{data:pe,error:ce}=await te.from("post_comments").select("*, user_details(name, username)").eq("post_id",Y).order("created_at",{ascending:!0});ce||E(le=>({...le,[Y]:pe||[]})),Q(le=>({...le,[Y]:!1}))},F=Y=>{const pe=new Set(k);pe.has(Y)?pe.delete(Y):(pe.add(Y),w[Y]||K(Y)),U(pe)},ue=async Y=>{const pe=O[Y]?.trim();if(!pe||!d)return;const{data:ce,error:le}=await te.from("post_comments").insert({post_id:Y,user_id:d,comment_text:pe}).select("*, user_details(name, username)").single();!le&&ce&&(E(z=>({...z,[Y]:[...z[Y]||[],ce]})),j(z=>({...z,[Y]:""})))},_e=[{id:"quests",label:"Quests",icon:"trophy",path:"/Homepage"},{id:"community",label:"Community",icon:"people",path:"/community"},{id:"redeem",label:"Redeem",icon:"gift",path:"/redeem"},{id:"profile",label:"Profile",icon:"person",path:"/profile"}],ye=Y=>{switch(Y){case"trophy":return c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),c.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),c.jsx("path",{d:"M4 22h16"}),c.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),c.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),c.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]});case"people":return c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"9",cy:"7",r:"4"}),c.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),c.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]});case"gift":return c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("rect",{x:"3",y:"8",width:"18",height:"4",rx:"1"}),c.jsx("path",{d:"M12 8v13"}),c.jsx("path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"}),c.jsx("path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"})]});case"person":return c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"8",r:"5"}),c.jsx("path",{d:"M20 21a8 8 0 0 0-16 0"})]});default:return null}};return c.jsxs("div",{className:"ecoquest-container",children:[c.jsxs("header",{className:"ecoquest-header",children:[c.jsxs("div",{className:"logo",children:[c.jsx("div",{className:"logo-icon",children:c.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",children:[c.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c1.5 0 3-.3 4.3-.9",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M17 8c-4 0-6 3-6 6s3 6 6 6 6-3 6-6",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M20 5l-3 3",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"})]})}),c.jsx("span",{className:"logo-text",children:"EcoQuest"})]}),c.jsxs("div",{className:"header-right",children:[c.jsxs("div",{className:"points-badge",children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#F59E0B",strokeWidth:"2",children:[c.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),c.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),c.jsx("path",{d:"M4 22h16"}),c.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),c.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),c.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),c.jsxs("span",{children:[l," pts"]})]}),c.jsx("div",{className:"profile-avatar",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:[c.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),c.jsxs("button",{className:"logout-btn",onClick:X,children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),c.jsx("polyline",{points:"16 17 21 12 16 7"}),c.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),c.jsx("span",{children:"Logout"})]})]})]}),c.jsx("nav",{className:"nav-tabs",children:_e.map(Y=>c.jsxs("button",{className:`nav-tab ${Y.id==="community"?"active":""}`,onClick:()=>i(Y.path),children:[ye(Y.icon),c.jsx("span",{children:Y.label})]},Y.id))}),c.jsx("main",{className:"main-content",children:c.jsxs("div",{className:"community-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("div",{className:"section-icon community-icon",children:c.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#22C55E",strokeWidth:"2",children:[c.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"9",cy:"7",r:"4"}),c.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),c.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),c.jsxs("div",{children:[c.jsx("h1",{className:"section-title",children:"Community Feed"}),c.jsx("p",{className:"section-subtitle",children:"See what other eco-warriors are accomplishing!"})]})]}),v?c.jsx("div",{className:"loading-state",children:c.jsx("p",{children:"Loading posts..."})}):p.length===0?c.jsxs("div",{className:"community-empty-state",children:[c.jsx("div",{className:"empty-icon",children:c.jsxs("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"#d1d5db",strokeWidth:"1.5",children:[c.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"9",cy:"7",r:"4"}),c.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),c.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),c.jsx("h3",{children:"No posts yet"}),c.jsx("p",{children:"Complete a photo quest to be the first to share with the community!"})]}):c.jsx("div",{className:"community-posts",children:p.map(Y=>c.jsxs("div",{className:"community-post-card",children:[c.jsxs("div",{className:"post-header",children:[c.jsx("div",{className:"post-avatar",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:[c.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),c.jsxs("div",{className:"post-user-info",children:[c.jsx("span",{className:"post-username",children:Y.user_details?.name||"Anonymous"}),c.jsx("span",{className:"post-date",children:new Date(Y.created_at).toLocaleDateString()})]}),Y.quests&&c.jsxs("div",{className:"post-quest-badge",children:[c.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"#F59E0B",strokeWidth:"2",children:c.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})}),c.jsxs("span",{children:["+",Y.quests.points," pts"]})]})]}),c.jsxs("div",{className:"post-content",children:[c.jsx("h4",{className:"post-title",children:Y.post_title}),Y.post_caption&&c.jsx("p",{className:"post-caption",children:Y.post_caption}),Y.image_url&&c.jsx("div",{className:"post-image-container",children:c.jsx("img",{src:Y.image_url,alt:"Quest completion proof",className:"post-image"})}),Y.quests&&c.jsxs("div",{className:"post-quest-info",children:[c.jsx("span",{className:"quest-completed-label",children:"Quest completed:"}),c.jsx("span",{className:"quest-completed-name",children:Y.quests.title})]})]}),c.jsxs("div",{className:"post-actions",children:[c.jsxs("button",{className:`like-btn ${_.has(Y.post_id)?"liked":""}`,onClick:()=>W(Y.post_id),children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:_.has(Y.post_id)?"#ef4444":"none",stroke:_.has(Y.post_id)?"#ef4444":"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),c.jsx("span",{children:Y.number_of_likes||0})]}),c.jsxs("button",{className:"comment-btn",onClick:()=>F(Y.post_id),children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),c.jsx("span",{children:w[Y.post_id]?.length||"Comments"})]})]}),k.has(Y.post_id)&&c.jsx("div",{className:"comments-section",children:M[Y.post_id]?c.jsx("div",{className:"comments-loading",children:"Loading comments..."}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"comments-list",children:(w[Y.post_id]||[]).length===0?c.jsx("div",{className:"no-comments",children:"No comments yet. Be the first!"}):(w[Y.post_id]||[]).map(pe=>c.jsxs("div",{className:"comment-item",children:[c.jsx("div",{className:"comment-avatar",children:c.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"white",children:[c.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),c.jsxs("div",{className:"comment-content",children:[c.jsx("span",{className:"comment-username",children:pe.user_details?.name||"Anonymous"}),c.jsx("p",{className:"comment-text",children:pe.comment_text}),c.jsx("span",{className:"comment-time",children:new Date(pe.created_at).toLocaleString()})]})]},pe.id))}),d&&c.jsxs("div",{className:"comment-input-container",children:[c.jsx("input",{type:"text",className:"comment-input",placeholder:"Write a comment...",value:O[Y.post_id]||"",onChange:pe=>j(ce=>({...ce,[Y.post_id]:pe.target.value})),onKeyPress:pe=>pe.key==="Enter"&&ue(Y.post_id)}),c.jsx("button",{className:"comment-submit-btn",onClick:()=>ue(Y.post_id),disabled:!O[Y.post_id]?.trim(),children:c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),c.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]})]})})]},Y.post_id))})]})})]})},Ov="/BuildingBloCS-Hackathon/assets/global_reforestation-DjI0YpQE.png",aw="/BuildingBloCS-Hackathon/assets/ocean_conservation-C1jbwYNn.png",sw="/BuildingBloCS-Hackathon/assets/renewable_energy-XHD7R_2m.png",iw="/BuildingBloCS-Hackathon/assets/wildlife_protection-CRg8C8k6.png",rw={"Global Reforestation Project":Ov,"Ocean Conservation Fund":aw,"Renewable Energy Initiative":sw,"Wildlife Protection Alliance":iw},lw=()=>{const{user:r,signOut:a}=Bt(),i=Xt(),[l,u]=T.useState(0),[d,f]=T.useState(0),[p,m]=T.useState(0),[v,y]=T.useState(null),[_,x]=T.useState([]),[w,E]=T.useState(!0),[O,j]=T.useState(100),k=[50,100,200,500],[U,M]=T.useState(!1),Q=async()=>{await a(),i("/login")};T.useEffect(()=>{(async()=>{if(!r)return;const{data:ue,error:_e}=await te.from("user_details").select("user_id, points, total_points_earned, total_points_donated").eq("auth_id",r.id).single();!_e&&ue&&(u(ue.points||0),f(ue.total_points_earned||0),m(ue.total_points_donated||0),y(ue.user_id))})()},[r]),T.useEffect(()=>{(async()=>{E(!0);const{data:ue,error:_e}=await te.from("charities").select("*").order("id",{ascending:!0});_e||x(ue||[]),E(!1)})()},[]);const X=async F=>{if(!v){alert("Please log in to donate!");return}if(l<O){alert("Insufficient points!");return}if(O<F.min_donation){alert(`Minimum donation for ${F.name} is ${F.min_donation} points`);return}M(!0);try{const{error:ue}=await te.from("donations").insert({user_id:v,charity_id:F.id,points_donated:O});if(ue){console.error("Donation error:",ue),alert("Failed to process donation. Please try again."),M(!1);return}const _e=l-O,ye=p+O,{error:Y}=await te.from("user_details").update({points:_e,total_points_donated:ye}).eq("user_id",v);if(Y){console.error("Update error:",Y),alert("Failed to update points. Please try again."),M(!1);return}u(_e),m(ye),alert(`Thank you for donating ${O} points to ${F.name}! `)}catch(ue){console.error("Unexpected error:",ue),alert("An unexpected error occurred.")}M(!1)},W=[{id:"quests",label:"Quests",icon:"trophy",path:"/Homepage"},{id:"community",label:"Community",icon:"people",path:"/community"},{id:"redeem",label:"Redeem",icon:"gift",path:"/redeem"},{id:"profile",label:"Profile",icon:"person",path:"/profile"}],K=F=>{switch(F){case"trophy":return c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),c.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),c.jsx("path",{d:"M4 22h16"}),c.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),c.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),c.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]});case"people":return c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"9",cy:"7",r:"4"}),c.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),c.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]});case"gift":return c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("rect",{x:"3",y:"8",width:"18",height:"4",rx:"1"}),c.jsx("path",{d:"M12 8v13"}),c.jsx("path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"}),c.jsx("path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"})]});case"person":return c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"8",r:"5"}),c.jsx("path",{d:"M20 21a8 8 0 0 0-16 0"})]});default:return null}};return c.jsxs("div",{className:"ecoquest-container",children:[c.jsxs("header",{className:"ecoquest-header",children:[c.jsxs("div",{className:"logo",children:[c.jsx("div",{className:"logo-icon",children:c.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",children:[c.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c1.5 0 3-.3 4.3-.9",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M17 8c-4 0-6 3-6 6s3 6 6 6 6-3 6-6",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M20 5l-3 3",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"})]})}),c.jsx("span",{className:"logo-text",children:"EcoQuest"})]}),c.jsxs("div",{className:"header-right",children:[c.jsxs("div",{className:"points-badge",children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#F59E0B",strokeWidth:"2",children:[c.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),c.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),c.jsx("path",{d:"M4 22h16"}),c.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),c.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),c.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),c.jsxs("span",{children:[l," pts"]})]}),c.jsx("div",{className:"profile-avatar",children:c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:[c.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),c.jsxs("button",{className:"logout-btn",onClick:Q,children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),c.jsx("polyline",{points:"16 17 21 12 16 7"}),c.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),c.jsx("span",{children:"Logout"})]})]})]}),c.jsx("nav",{className:"nav-tabs",children:W.map(F=>c.jsxs("button",{className:`nav-tab ${F.id==="redeem"?"active":""}`,onClick:()=>i(F.path),children:[K(F.icon),c.jsx("span",{children:F.label})]},F.id))}),c.jsx("main",{className:"main-content",children:c.jsxs("div",{className:"redeem-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("div",{className:"section-icon redeem-icon",children:c.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"#3b82f6",strokeWidth:"2",children:[c.jsx("rect",{x:"3",y:"8",width:"18",height:"4",rx:"1"}),c.jsx("path",{d:"M12 8v13"}),c.jsx("path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"}),c.jsx("path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"})]})}),c.jsxs("div",{children:[c.jsx("h1",{className:"section-title",children:"Redeem Points"}),c.jsx("p",{className:"section-subtitle",children:"Use your points to support environmental causes"})]})]}),c.jsxs("div",{className:"points-card",children:[c.jsx("div",{className:"points-card-label",children:"Available Points"}),c.jsx("div",{className:"points-card-value",children:l}),c.jsxs("div",{className:"points-card-stats",children:["Total earned: ",d," | Donated: ",p]})]}),c.jsxs("div",{className:"donation-amount-section",children:[c.jsx("h3",{className:"donation-section-title",children:"Select Donation Amount"}),c.jsx("div",{className:"amount-buttons",children:k.map(F=>c.jsxs("button",{className:`amount-btn ${O===F?"selected":""}`,onClick:()=>j(F),children:[F," points"]},F))})]}),c.jsxs("div",{className:"charities-section",children:[c.jsx("h3",{className:"donation-section-title",children:"Choose a Charity"}),w?c.jsx("div",{className:"loading-state",children:c.jsx("p",{children:"Loading charities..."})}):c.jsx("div",{className:"charities-grid",children:_.map((F,ue)=>{const _e=l>=O&&O>=F.min_donation,ye=l<O,Y=O<F.min_donation;return c.jsxs("div",{className:"charity-card",children:[c.jsx("div",{className:"charity-image-container",children:c.jsx("img",{src:rw[F.name]||Ov,alt:F.name,className:"charity-image"})}),c.jsxs("div",{className:"charity-info",children:[c.jsx("h4",{className:"charity-name",children:F.name}),c.jsx("p",{className:"charity-description",children:F.description}),c.jsxs("p",{className:"charity-minimum",children:["Minimum donation: ",F.min_donation," points"]})]}),c.jsxs("button",{className:`donate-btn ${_e?"can-donate":"cannot-donate"}`,onClick:()=>X(F),disabled:!_e||U,children:[c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),U?"Donating...":ye?"Insufficient Points":Y?`Min ${F.min_donation} pts`:`Donate ${O} pts`]})]},F.id)})})]})]})})]})};function ow(){const r=Xt(),{signOut:a}=Bt(),i=T.useRef(null),[l,u]=T.useState(!0),[d,f]=T.useState(!1),[p,m]=T.useState(!1),[v,y]=T.useState(null),[_,x]=T.useState(0),[w,E]=T.useState({username:"",name:"",bio:"",profile_picture:null,points:0,quest_completed:0,total_points_earned:0,total_points_donated:0,created_at:null}),[O,j]=T.useState(null),[k,U]=T.useState({type:"",text:""});T.useEffect(()=>{M()},[]);const M=async()=>{try{const{data:{user:ce}}=await te.auth.getUser();if(!ce){r("/login");return}const{data:le,error:z}=await te.from("user_details").select("*").eq("auth_id",ce.id).single();if(z)throw z;y(le.user_id),x(le.points||0);const J={username:le.username||"",name:le.name||"",bio:le.bio||"",profile_picture:le.profile_picture||null,points:le.points||0,quest_completed:le.quest_completed||0,total_points_earned:le.total_points_earned||0,total_points_donated:le.total_points_donated||0,created_at:le.created_at};E(J),j(J)}catch(ce){console.error("Error fetching profile:",ce),U({type:"error",text:"Failed to load profile"})}finally{u(!1)}},Q=ce=>{const{name:le,value:z}=ce.target;E(J=>({...J,[le]:z}))},X=()=>{i.current?.click()},W=async ce=>{const le=ce.target.files?.[0];if(le){if(!le.type.startsWith("image/")){U({type:"error",text:"Please select an image file"});return}if(le.size>5*1024*1024){U({type:"error",text:"Image must be less than 5MB"});return}m(!0),U({type:"",text:""});try{const z=le.name.split(".").pop(),de=`profiles/${`${v}_${Date.now()}.${z}`}`,{error:Ae}=await te.storage.from("quest-images").upload(de,le,{upsert:!0});if(Ae)throw Ae;const{data:{publicUrl:Ce}}=te.storage.from("quest-images").getPublicUrl(de);E(C=>({...C,profile_picture:Ce})),U({type:"success",text:"Image uploaded! Click Save to confirm changes."})}catch(z){console.error("Error uploading image:",z),U({type:"error",text:"Failed to upload image"})}finally{m(!1)}}},K=async()=>{f(!0),U({type:"",text:""});try{if(!w.username.trim()){U({type:"error",text:"Username is required"}),f(!1);return}if(w.username!==O.username){const{data:le}=await te.from("user_details").select("user_id").eq("username",w.username).neq("user_id",v).single();if(le){U({type:"error",text:"Username is already taken"}),f(!1);return}}const{error:ce}=await te.from("user_details").update({username:w.username.trim(),name:w.name.trim(),bio:w.bio.trim(),profile_picture:w.profile_picture}).eq("user_id",v);if(ce)throw ce;j(w),U({type:"success",text:"Profile updated successfully!"})}catch(ce){console.error("Error saving profile:",ce),U({type:"error",text:"Failed to save profile"})}finally{f(!1)}},F=()=>{E(O),U({type:"",text:""})},ue=JSON.stringify(w)!==JSON.stringify(O),_e=async()=>{await a(),r("/login")},ye=ce=>ce?new Date(ce).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown";if(l)return c.jsx("div",{className:"ecoquest-container",children:c.jsx("div",{className:"loading-state",children:"Loading profile..."})});const Y=[{id:"quests",label:"Quests",icon:"trophy",path:"/app"},{id:"community",label:"Community",icon:"people",path:"/community"},{id:"redeem",label:"Redeem",icon:"gift",path:"/redeem"},{id:"profile",label:"Profile",icon:"person",path:"/profile"}],pe=ce=>{switch(ce){case"trophy":return c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),c.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),c.jsx("path",{d:"M4 22h16"}),c.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),c.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),c.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]});case"people":return c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),c.jsx("circle",{cx:"9",cy:"7",r:"4"}),c.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),c.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]});case"gift":return c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("rect",{x:"3",y:"8",width:"18",height:"4",rx:"1"}),c.jsx("path",{d:"M12 8v13"}),c.jsx("path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"}),c.jsx("path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"})]});case"person":return c.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("circle",{cx:"12",cy:"8",r:"5"}),c.jsx("path",{d:"M20 21a8 8 0 0 0-16 0"})]});default:return null}};return c.jsxs("div",{className:"ecoquest-container",children:[c.jsxs("header",{className:"ecoquest-header",children:[c.jsxs("div",{className:"logo",children:[c.jsx("div",{className:"logo-icon",children:c.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",children:[c.jsx("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c1.5 0 3-.3 4.3-.9",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M17 8c-4 0-6 3-6 6s3 6 6 6 6-3 6-6",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M20 5l-3 3",stroke:"#22C55E",strokeWidth:"2",strokeLinecap:"round"})]})}),c.jsx("span",{className:"logo-text",children:"EcoQuest"})]}),c.jsxs("div",{className:"header-right",children:[c.jsxs("div",{className:"points-badge",children:[c.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#F59E0B",strokeWidth:"2",children:[c.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),c.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),c.jsx("path",{d:"M4 22h16"}),c.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),c.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),c.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]}),c.jsxs("span",{children:[_," pts"]})]}),c.jsxs("button",{className:"logout-btn",onClick:_e,children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),c.jsx("polyline",{points:"16 17 21 12 16 7"}),c.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),"Logout"]})]})]}),c.jsx("nav",{className:"nav-tabs",children:Y.map(ce=>c.jsxs("button",{className:`nav-tab ${ce.id==="profile"?"active":""}`,onClick:()=>r(ce.path),children:[pe(ce.icon),c.jsx("span",{children:ce.label})]},ce.id))}),c.jsx("main",{className:"main-content",children:c.jsxs("div",{className:"profile-container",children:[c.jsxs("div",{className:"profile-header-section",children:[c.jsxs("div",{className:"profile-avatar-container",onClick:X,children:[w.profile_picture?c.jsx("img",{src:w.profile_picture,alt:"Profile",className:"profile-avatar-img"}):c.jsx("div",{className:"profile-avatar-placeholder",children:w.name?w.name.charAt(0).toUpperCase():"?"}),c.jsxs("div",{className:"avatar-overlay",children:[c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),c.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),c.jsx("span",{children:p?"Uploading...":"Change Photo"})]}),c.jsx("input",{type:"file",ref:i,onChange:W,accept:"image/*",style:{display:"none"}})]}),c.jsxs("div",{className:"profile-header-info",children:[c.jsx("h1",{className:"profile-name",children:w.name||w.username||"User"}),c.jsxs("p",{className:"profile-username",children:["@",w.username||"username"]}),c.jsxs("p",{className:"profile-joined",children:["Joined ",ye(w.created_at)]})]})]}),c.jsxs("div",{className:"profile-stats",children:[c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon quests-icon",children:c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"}),c.jsx("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"}),c.jsx("path",{d:"M4 22h16"}),c.jsx("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"}),c.jsx("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"}),c.jsx("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"})]})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("span",{className:"stat-value",children:w.quest_completed||0}),c.jsx("span",{className:"stat-label",children:"Quests Done"})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon points-icon",children:c.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("span",{className:"stat-value",children:w.points||0}),c.jsx("span",{className:"stat-label",children:"Current Points"})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon earned-icon",children:c.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[c.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),c.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),c.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("span",{className:"stat-value",children:w.total_points_earned||0}),c.jsx("span",{className:"stat-label",children:"Total Earned"})]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("div",{className:"stat-icon donated-icon",children:c.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:c.jsx("path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"})})}),c.jsxs("div",{className:"stat-info",children:[c.jsx("span",{className:"stat-value",children:w.total_points_donated||0}),c.jsx("span",{className:"stat-label",children:"Points Donated"})]})]})]}),k.text&&c.jsx("div",{className:`profile-message ${k.type}`,children:k.text}),c.jsxs("div",{className:"profile-form-section",children:[c.jsx("h2",{className:"section-title",children:"Edit Profile"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"username",children:"Username"}),c.jsx("input",{type:"text",id:"username",name:"username",value:w.username,onChange:Q,placeholder:"Enter username",maxLength:30})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"name",children:"Display Name"}),c.jsx("input",{type:"text",id:"name",name:"name",value:w.name,onChange:Q,placeholder:"Enter your name",maxLength:50})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"bio",children:"Bio"}),c.jsx("textarea",{id:"bio",name:"bio",value:w.bio,onChange:Q,placeholder:"Tell us about yourself...",rows:4,maxLength:200}),c.jsxs("span",{className:"char-count",children:[w.bio.length,"/200"]})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{className:"cancel-btn",onClick:F,disabled:!ue||d,children:"Cancel"}),c.jsx("button",{className:"save-btn",onClick:K,disabled:!ue||d,children:d?"Saving...":"Save Changes"})]})]})]})})]})}function uw(){return c.jsx(Y1,{children:c.jsxs(t_,{children:[c.jsx(xt,{path:"/Homepage",element:c.jsx(Ip,{})}),c.jsx(xt,{path:"/",element:c.jsx(J1,{})}),c.jsx(xt,{path:"/login",element:c.jsx(I1,{})}),c.jsx(xt,{path:"/signup",element:c.jsx(Z1,{})}),c.jsx(xt,{path:"/admin/login",element:c.jsx(W1,{})}),c.jsx(xt,{path:"/admin/signup",element:c.jsx(F1,{})}),c.jsx(xt,{path:"/auth/callback",element:c.jsx(X1,{})}),c.jsx(xt,{path:"/app",element:c.jsx(pl,{children:c.jsx(Ip,{})})}),c.jsx(xt,{path:"/community",element:c.jsx(pl,{children:c.jsx(nw,{})})}),c.jsx(xt,{path:"/redeem",element:c.jsx(pl,{children:c.jsx(lw,{})})}),c.jsx(xt,{path:"/profile",element:c.jsx(pl,{children:c.jsx(ow,{})})}),c.jsx(xt,{path:"/admin",element:c.jsx(K1,{children:c.jsx(ew,{})})}),c.jsx(xt,{path:"*",element:c.jsx(tw,{})})]})})}ub.createRoot(document.getElementById("root")).render(c.jsx(T.StrictMode,{children:c.jsx(j_,{children:c.jsx(uw,{})})}));
